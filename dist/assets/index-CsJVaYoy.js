var Rr=Object.defineProperty,Ir=Object.defineProperties;var Pr=Object.getOwnPropertyDescriptors;var it=Object.getOwnPropertySymbols;var ms=Object.prototype.hasOwnProperty,ps=Object.prototype.propertyIsEnumerable;var gs=(i,e,s)=>e in i?Rr(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s,V=(i,e)=>{for(var s in e||(e={}))ms.call(e,s)&&gs(i,s,e[s]);if(it)for(var s of it(e))ps.call(e,s)&&gs(i,s,e[s]);return i},ae=(i,e)=>Ir(i,Pr(e));var _t=(i,e)=>{var s={};for(var r in i)ms.call(i,r)&&e.indexOf(r)<0&&(s[r]=i[r]);if(i!=null&&it)for(var r of it(i))e.indexOf(r)<0&&ps.call(i,r)&&(s[r]=i[r]);return s};var Lr=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var u=(i,e,s)=>new Promise((r,n)=>{var a=c=>{try{l(s.next(c))}catch(h){n(h)}},o=c=>{try{l(s.throw(c))}catch(h){n(h)}},l=c=>c.done?r(c.value):Promise.resolve(c.value).then(a,o);l((s=s.apply(i,e)).next())});import{j as t}from"./ui-DfFf1Js7.js";import{a as Ur,r as E,g as $r,c as J,R as Qt}from"./vendor-D-fuy27A.js";var mo=Lr(ee=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();var Lt={},bs=Ur;Lt.createRoot=bs.createRoot,Lt.hydrateRoot=bs.hydrateRoot;const Dr="modulepreload",Mr=function(i){return"/"+i},fs={},Me=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(c=>{if(c=Mr(c),c in fs)return;fs[c]=!0;const h=c.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":Dr,h||(g.as="script"),g.crossOrigin="",g.href=c,l&&g.setAttribute("nonce",l),document.head.appendChild(g),h)return new Promise((m,f)=>{g.addEventListener("load",m),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$s=(...i)=>i.filter((e,s,r)=>!!e&&r.indexOf(e)===s).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=E.forwardRef((h,c)=>{var d=h,{color:i="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:a,iconNode:o}=d,l=_t(d,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return E.createElement("svg",V(ae(V({ref:c},Hr),{width:e,height:e,stroke:i,strokeWidth:r?Number(s)*24/Number(e):s,className:$s("lucide",n)}),l),[...o.map(([g,m])=>E.createElement(g,m)),...Array.isArray(a)?a:[a]])});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=(i,e)=>{const s=E.forwardRef((o,a)=>{var l=o,{className:r}=l,n=_t(l,["className"]);return E.createElement(Fr,V({ref:a,iconNode:e,className:$s(`lucide-${Br(i)}`,r)},n))});return s.displayName=`${i}`,s};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=B("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=B("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=B("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=B("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=B("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=B("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=B("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=B("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=B("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=B("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=B("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=B("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=B("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=B("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);function Hs(i){var e,s,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var n=i.length;for(e=0;e<n;e++)i[e]&&(s=Hs(i[e]))&&(r&&(r+=" "),r+=s)}else for(s in i)i[s]&&(r&&(r+=" "),r+=s);return r}function si(){for(var i,e,s=0,r="",n=arguments.length;s<n;s++)(i=arguments[s])&&(e=Hs(i))&&(r&&(r+=" "),r+=e);return r}const Xt="-",ri=i=>{const e=ni(i),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=i;return{getClassGroupId:o=>{const l=o.split(Xt);return l[0]===""&&l.length!==1&&l.shift(),Fs(l,e)||ii(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Fs=(i,e)=>{var o;if(i.length===0)return e.classGroupId;const s=i[0],r=e.nextPart.get(s),n=r?Fs(i.slice(1),r):void 0;if(n)return n;if(e.validators.length===0)return;const a=i.join(Xt);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},xs=/^\[(.+)\]$/,ii=i=>{if(xs.test(i)){const e=xs.exec(i)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},ni=i=>{const{theme:e,prefix:s}=i,r={nextPart:new Map,validators:[]};return oi(Object.entries(i.classGroups),s).forEach(([a,o])=>{Mt(o,r,a,e)}),r},Mt=(i,e,s,r)=>{i.forEach(n=>{if(typeof n=="string"){const a=n===""?e:ys(e,n);a.classGroupId=s;return}if(typeof n=="function"){if(ai(n)){Mt(n(r),e,s,r);return}e.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([a,o])=>{Mt(o,ys(e,a),s,r)})})},ys=(i,e)=>{let s=i;return e.split(Xt).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},ai=i=>i.isThemeGetter,oi=(i,e)=>e?i.map(([s,r])=>{const n=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[s,n]}):i,li=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,r=new Map;const n=(a,o)=>{s.set(a,o),e++,e>i&&(e=0,r=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return n(a,o),o},set(a,o){s.has(a)?s.set(a,o):n(a,o)}}},Ws="!",ci=i=>{const{separator:e,experimentalParseClassName:s}=i,r=e.length===1,n=e[0],a=e.length,o=l=>{const c=[];let h=0,d=0,g;for(let v=0;v<l.length;v++){let S=l[v];if(h===0){if(S===n&&(r||l.slice(v,v+a)===e)){c.push(l.slice(d,v)),d=v+a;continue}if(S==="/"){g=v;continue}}S==="["?h++:S==="]"&&h--}const m=c.length===0?l:l.substring(d),f=m.startsWith(Ws),j=f?m.substring(1):m,k=g&&g>d?g-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:j,maybePostfixModifierPosition:k}};return s?l=>s({className:l,parseClassName:o}):o},di=i=>{if(i.length<=1)return i;const e=[];let s=[];return i.forEach(r=>{r[0]==="["?(e.push(...s.sort(),r),s=[]):s.push(r)}),e.push(...s.sort()),e},hi=i=>V({cache:li(i.cacheSize),parseClassName:ci(i)},ri(i)),ui=/\s+/,gi=(i,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:n}=e,a=[],o=i.trim().split(ui);let l="";for(let c=o.length-1;c>=0;c-=1){const h=o[c],{modifiers:d,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:f}=s(h);let j=!!f,k=r(j?m.substring(0,f):m);if(!k){if(!j){l=h+(l.length>0?" "+l:l);continue}if(k=r(m),!k){l=h+(l.length>0?" "+l:l);continue}j=!1}const v=di(d).join(":"),S=g?v+Ws:v,p=S+k;if(a.includes(p))continue;a.push(p);const x=n(k,j);for(let y=0;y<x.length;++y){const b=x[y];a.push(S+b)}l=h+(l.length>0?" "+l:l)}return l};function mi(){let i=0,e,s,r="";for(;i<arguments.length;)(e=arguments[i++])&&(s=qs(e))&&(r&&(r+=" "),r+=s);return r}const qs=i=>{if(typeof i=="string")return i;let e,s="";for(let r=0;r<i.length;r++)i[r]&&(e=qs(i[r]))&&(s&&(s+=" "),s+=e);return s};function pi(i,...e){let s,r,n,a=o;function o(c){const h=e.reduce((d,g)=>g(d),i());return s=hi(h),r=s.cache.get,n=s.cache.set,a=l,l(c)}function l(c){const h=r(c);if(h)return h;const d=gi(c,s);return n(c,d),d}return function(){return a(mi.apply(null,arguments))}}const M=i=>{const e=s=>s[i]||[];return e.isThemeGetter=!0,e},Gs=/^\[(?:([a-z-]+):)?(.+)\]$/i,bi=/^\d+\/\d+$/,fi=new Set(["px","full","screen"]),xi=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yi=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vi=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wi=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ji=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,re=i=>$e(i)||fi.has(i)||bi.test(i),oe=i=>Be(i,"length",Ci),$e=i=>!!i&&!Number.isNaN(Number(i)),kt=i=>Be(i,"number",$e),Ge=i=>!!i&&Number.isInteger(Number(i)),Ni=i=>i.endsWith("%")&&$e(i.slice(0,-1)),R=i=>Gs.test(i),le=i=>xi.test(i),_i=new Set(["length","size","percentage"]),ki=i=>Be(i,_i,zs),Si=i=>Be(i,"position",zs),Ei=new Set(["image","url"]),Ti=i=>Be(i,Ei,Ri),Ai=i=>Be(i,"",Oi),ze=()=>!0,Be=(i,e,s)=>{const r=Gs.exec(i);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):s(r[2]):!1},Ci=i=>yi.test(i)&&!vi.test(i),zs=()=>!1,Oi=i=>wi.test(i),Ri=i=>ji.test(i),Ii=()=>{const i=M("colors"),e=M("spacing"),s=M("blur"),r=M("brightness"),n=M("borderColor"),a=M("borderRadius"),o=M("borderSpacing"),l=M("borderWidth"),c=M("contrast"),h=M("grayscale"),d=M("hueRotate"),g=M("invert"),m=M("gap"),f=M("gradientColorStops"),j=M("gradientColorStopPositions"),k=M("inset"),v=M("margin"),S=M("opacity"),p=M("padding"),x=M("saturate"),y=M("scale"),b=M("sepia"),N=M("skew"),A=M("space"),I=M("translate"),U=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],w=()=>["auto",R,e],_=()=>[R,e],$=()=>["",re,oe],_e=()=>["auto",$e,R],ke=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Se=()=>["solid","dashed","dotted","double","none"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],st=()=>["start","end","center","between","around","evenly","stretch"],Te=()=>["","0",R],me=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[$e,R];return{cacheSize:500,separator:":",theme:{colors:[ze],spacing:[re,oe],blur:["none","",le,R],brightness:Q(),borderColor:[i],borderRadius:["none","","full",le,R],borderSpacing:_(),borderWidth:$(),contrast:Q(),grayscale:Te(),hueRotate:Q(),invert:Te(),gap:_(),gradientColorStops:[i],gradientColorStopPositions:[Ni,oe],inset:w(),margin:w(),opacity:Q(),padding:_(),saturate:Q(),scale:Q(),sepia:Te(),skew:Q(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",R]}],container:["container"],columns:[{columns:[le]}],"break-after":[{"break-after":me()}],"break-before":[{"break-before":me()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ke(),R]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ge,R]}],basis:[{basis:w()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",R]}],grow:[{grow:Te()}],shrink:[{shrink:Te()}],order:[{order:["first","last","none",Ge,R]}],"grid-cols":[{"grid-cols":[ze]}],"col-start-end":[{col:["auto",{span:["full",Ge,R]},R]}],"col-start":[{"col-start":_e()}],"col-end":[{"col-end":_e()}],"grid-rows":[{"grid-rows":[ze]}],"row-start-end":[{row:["auto",{span:[Ge,R]},R]}],"row-start":[{"row-start":_e()}],"row-end":[{"row-end":_e()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",R]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",R]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...st()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...st(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...st(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",R,e]}],"min-w":[{"min-w":[R,e,"min","max","fit"]}],"max-w":[{"max-w":[R,e,"none","full","min","max","fit","prose",{screen:[le]},le]}],h:[{h:[R,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[R,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[R,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[R,e,"auto","min","max","fit"]}],"font-size":[{text:["base",le,oe]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kt]}],"font-family":[{font:[ze]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",R]}],"line-clamp":[{"line-clamp":["none",$e,kt]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",re,R]}],"list-image":[{"list-image":["none",R]}],"list-style-type":[{list:["none","disc","decimal",R]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",re,oe]}],"underline-offset":[{"underline-offset":["auto",re,R]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",R]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",R]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ke(),Si]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ki]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ti]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...Se(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:Se()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...Se()]}],"outline-offset":[{"outline-offset":[re,R]}],"outline-w":[{outline:[re,oe]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[re,oe]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",le,Ai]}],"shadow-color":[{shadow:[ze]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ee()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",le,R]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[g]}],saturate:[{saturate:[x]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",R]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",R]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",R]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[Ge,R]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",R]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",R]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",R]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[re,oe,kt]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Pi=pi(Ii);function te(...i){return Pi(si(i))}const be={pride:{pink:"text-liberation-pride-pink bg-liberation-pride-pink",purple:"text-liberation-pride-purple bg-liberation-pride-purple",yellow:"text-liberation-pride-yellow bg-liberation-pride-yellow"},healing:{sage:"text-liberation-healing-sage bg-liberation-healing-sage"},economic:{sovereignty:"text-liberation-sovereignty-gold bg-liberation-sovereignty-gold"}},nt={getGentleAnimation:i=>{switch(i){case"fade":return"animate-gentle-fade";case"slide":return"animate-soft-slide";case"celebration":return"animate-celebration";default:return""}},getSafeTransition:i=>{switch(i){case"fast":return"transition-all duration-200 ease-in-out";case"medium":return"transition-all duration-300 ease-in-out";case"slow":return"transition-all duration-500 ease-in-out";default:return"transition-all duration-300 ease-in-out"}},getGentleHover:()=>"hover:scale-[1.02] hover:shadow-sm transition-transform duration-200 ease-out"},Li={getPanAfricanGradient:()=>"bg-gradient-to-r from-liberation-red-liberation via-liberation-black-power to-liberation-green-africa",getPrideGradient:()=>"bg-gradient-to-r from-liberation-pride-pink via-liberation-pride-purple to-liberation-pride-blue"};function Ui({onAuthenticated:i,onCancel:e,requiredAction:s}){const[r,n]=E.useState(""),[a,o]=E.useState(""),[l,c]=E.useState(!1),[h,d]=E.useState(!1),[g,m]=E.useState(""),f=8*60*60*1e3,j={admin:"liberation2024",moderator:"community2024"},k=S=>u(this,null,function*(){S.preventDefault(),d(!0),m("");try{const p=r==="admin"&&a===j.admin,x=r==="moderator"&&a===j.moderator;if(!p&&!x)throw new Error("Invalid credentials. Access denied to moderation system.");const y={isAuthenticated:!0,expiresAt:new Date().getTime()+f,role:p?"admin":"moderator",username:r};localStorage.setItem("liberation_admin_session",JSON.stringify(y)),console.log(`✅ ${y.role} access granted for moderation system`),yield new Promise(b=>setTimeout(b,1e3)),i()}catch(p){m(p instanceof Error?p.message:"Authentication failed"),console.error("🚨 Admin authentication failed:",p)}finally{d(!1)}}),v=()=>{n(""),o(""),m(""),e()};return t.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-gray-900 border-4 border-liberation-sovereignty-gold rounded-2xl p-8 max-w-md w-full",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-16 h-16 bg-liberation-sovereignty-gold rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(we,{className:"h-8 w-8 text-gray-900"})}),t.jsx("h2",{className:"text-2xl font-black text-liberation-sovereignty-gold mb-2",children:"MODERATION ACCESS"}),t.jsxs("p",{className:"text-gray-400 text-sm",children:["Authentication required for: ",s]})]}),t.jsxs("form",{onSubmit:k,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"username",className:"block text-sm font-bold text-gray-300 mb-2",children:"Username"}),t.jsx("input",{id:"username",type:"text",value:r,onChange:S=>n(S.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-liberation-sovereignty-gold focus:outline-none",placeholder:"admin or moderator",required:!0,disabled:h})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-gray-300 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{id:"password",type:l?"text":"password",value:a,onChange:S=>o(S.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 pr-12 text-white focus:border-liberation-sovereignty-gold focus:outline-none",placeholder:"Enter secure password",required:!0,disabled:h}),t.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-liberation-sovereignty-gold",disabled:h,children:l?t.jsx(Kr,{className:"h-5 w-5"}):t.jsx(Yr,{className:"h-5 w-5"})})]})]}),g&&t.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-3 text-red-400 text-sm",children:g}),t.jsxs("div",{className:"flex space-x-3 pt-4",children:[t.jsx("button",{type:"submit",disabled:h||!r||!a,className:"flex-1 bg-liberation-sovereignty-gold hover:bg-liberation-sovereignty-gold/90 text-gray-900 py-3 px-6 rounded-lg font-bold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:h?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-gray-900 border-t-transparent rounded-full animate-spin mr-2"}),"Authenticating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Qr,{className:"h-4 w-4 mr-2"}),"Authenticate"]})}),t.jsx("button",{type:"button",onClick:v,disabled:h,className:"px-6 py-3 border-2 border-gray-600 text-gray-300 hover:border-liberation-sovereignty-gold hover:text-liberation-sovereignty-gold rounded-lg font-bold transition-all duration-300 disabled:opacity-50",children:"Cancel"})]})]}),t.jsxs("div",{className:"mt-6 p-4 bg-liberation-sovereignty-gold/10 border border-liberation-sovereignty-gold/20 rounded-lg",children:[t.jsx("h4",{className:"text-liberation-sovereignty-gold font-bold text-sm mb-2",children:"Moderation Principles"}),t.jsxs("div",{className:"text-gray-400 text-xs space-y-1",children:[t.jsx("div",{children:"• Community protection and trauma-informed moderation"}),t.jsx("div",{children:"• Creator sovereignty and community consent"}),t.jsx("div",{children:"• Liberation-focused content curation"})]})]})]})})}const $i=()=>{try{const i=localStorage.getItem("liberation_admin_session");if(i){const e=JSON.parse(i);if(e.isAuthenticated&&new Date().getTime()<e.expiresAt)return{isAuthenticated:!0,role:e.role};localStorage.removeItem("liberation_admin_session")}}catch(i){console.error("Auth check failed:",i),localStorage.removeItem("liberation_admin_session")}return{isAuthenticated:!1}},fe=({title:i,children:e,defaultOpen:s=!1})=>{const[r,n]=E.useState(s);return t.jsxs("div",{className:"border border-gray-700 rounded-xl overflow-hidden",children:[t.jsxs("button",{onClick:()=>n(!r),className:"w-full flex items-center justify-between p-6 bg-gray-800 hover:bg-gray-750 transition-colors text-left",children:[t.jsx("h3",{className:"text-xl font-black text-liberation-sovereignty-gold",children:i}),r?t.jsx(Vr,{className:"w-5 h-5 text-liberation-sovereignty-gold"}):t.jsx(qr,{className:"w-5 h-5 text-liberation-sovereignty-gold"})]}),r&&t.jsx("div",{className:"p-6 bg-gray-900 border-t border-gray-700",children:e})]})};function Di(){return t.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[t.jsx("div",{className:"bg-gradient-to-br from-liberation-pride-pink/20 via-liberation-pride-purple/30 to-gray-900 py-16",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[t.jsx("h1",{className:"text-5xl font-black text-white mb-6",children:"ABOUT BLKOUT LIBERATION PLATFORM"}),t.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"The world's first technically implemented liberation platform with 75% creator sovereignty, democratic governance, and trauma-informed community protection for Black queer communities."}),t.jsxs("div",{className:"flex items-center justify-center space-x-8 text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(we,{className:"w-5 h-5 text-liberation-healing-sage"}),t.jsx("span",{className:"text-liberation-healing-sage font-bold",children:"Community Benefit Society"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(K,{className:"w-5 h-5 text-liberation-pride-pink"}),t.jsx("span",{className:"text-liberation-pride-pink font-bold",children:"Liberation-First"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Bs,{className:"w-5 h-5 text-liberation-sovereignty-gold"}),t.jsx("span",{className:"text-liberation-sovereignty-gold font-bold",children:"Community-Owned"})]})]})]})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx(fe,{title:"Our Liberation Mission",defaultOpen:!0,children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-bold text-liberation-pride-pink mb-3",children:"Core Mission"}),t.jsx("p",{className:"text-gray-300 leading-relaxed",children:"BLKOUT Liberation Platform exists to create technical infrastructure that prioritizes Black queer liberation through economic sovereignty, democratic governance, and trauma-informed community protection. We reject extractive technology models in favor of cooperative ownership and genuine community empowerment."})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl border-l-4 border-liberation-pride-pink",children:[t.jsx("h5",{className:"text-liberation-pride-pink font-bold mb-2",children:"75% Creator Sovereignty"}),t.jsx("p",{className:"text-sm text-gray-300",children:"Not performative promises - technically enforced revenue sharing where creators retain 75% of value generated, with 25% supporting platform infrastructure and community programs."})]}),t.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl border-l-4 border-liberation-pride-purple",children:[t.jsx("h5",{className:"text-liberation-pride-purple font-bold mb-2",children:"Democratic Governance"}),t.jsx("p",{className:"text-sm text-gray-300",children:"One-member-one-vote community governance with transparent decision-making processes. No corporate board overrides - community decisions are technically binding."})]})]})]})}),t.jsx(fe,{title:"Trauma-Informed Practices Explained",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-bold text-liberation-healing-sage mb-3",children:'What "Trauma-Informed" Actually Means'}),t.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Our trauma-informed approach is based on evidence-based practices, not just buzzwords. We implement specific technical and community features designed around trauma recovery principles."})]}),t.jsxs("div",{className:"grid gap-4",children:[t.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[t.jsx("h5",{className:"font-bold text-liberation-healing-sage mb-2",children:"🛡️ Safety First"}),t.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[t.jsx("li",{children:"• Content warnings and trigger alerts before potentially harmful content"}),t.jsx("li",{children:"• Granular privacy controls - users control what they share and with whom"}),t.jsx("li",{children:"• Anonymous participation options for sensitive discussions"}),t.jsx("li",{children:"• No location tracking without explicit consent"})]})]}),t.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[t.jsx("h5",{className:"font-bold text-liberation-healing-sage mb-2",children:"🤝 Trustworthiness & Transparency"}),t.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[t.jsx("li",{children:"• Open-source platform architecture - no hidden algorithms"}),t.jsx("li",{children:"• Financial transparency - all revenue sharing publicly auditable"}),t.jsx("li",{children:"• Clear community guidelines co-created by members"}),t.jsx("li",{children:"• Predictable moderation processes with community oversight"})]})]}),t.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[t.jsx("h5",{className:"font-bold text-liberation-healing-sage mb-2",children:"✊ Choice & Collaboration"}),t.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[t.jsx("li",{children:"• Democratic governance - community members shape platform policies"}),t.jsx("li",{children:"• Multiple engagement options - no forced participation"}),t.jsx("li",{children:"• Peer support networks with trained community facilitators"}),t.jsx("li",{children:"• Restorative justice approaches to conflict resolution"})]})]}),t.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[t.jsx("h5",{className:"font-bold text-liberation-healing-sage mb-2",children:"🌟 Empowerment & Cultural Responsiveness"}),t.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[t.jsx("li",{children:"• Black queer joy celebration integrated into platform design"}),t.jsx("li",{children:"• Economic empowerment through guaranteed creator sovereignty"}),t.jsx("li",{children:"• Cultural authenticity prioritized over growth metrics"}),t.jsx("li",{children:"• Community healing circles and mutual aid coordination"})]})]})]})]})}),t.jsx(fe,{title:"Safer Spaces - Why & How",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-bold text-liberation-pride-purple mb-3",children:"Creating Genuinely Safer Spaces"}),t.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:'We call them "safer" not "safe" spaces because we acknowledge that complete safety cannot be guaranteed, but we can create conditions that significantly reduce harm and promote healing.'})]}),t.jsxs("div",{className:"grid gap-4",children:[t.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border-l-4 border-liberation-pride-purple",children:[t.jsx("h5",{className:"font-bold text-liberation-pride-purple mb-2",children:"Community Protection Measures"}),t.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[t.jsx("li",{children:"• Proactive moderation by trained community members"}),t.jsx("li",{children:"• Zero tolerance for racism, transphobia, homophobia, or other oppression"}),t.jsx("li",{children:"• Content moderation queue system with community oversight"}),t.jsx("li",{children:"• Immediate response protocols for harassment or threats"}),t.jsx("li",{children:"• De-escalation training for community moderators"})]})]}),t.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border-l-4 border-liberation-healing-sage",children:[t.jsx("h5",{className:"font-bold text-liberation-healing-sage mb-2",children:"Harm Reduction Approach"}),t.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[t.jsx("li",{children:"• Restorative justice processes instead of punitive banning"}),t.jsx("li",{children:"• Mental health crisis intervention protocols"}),t.jsx("li",{children:"• Conflict mediation by trained community facilitators"}),t.jsx("li",{children:"• Regular community check-ins and feedback mechanisms"}),t.jsx("li",{children:"• Connection to local mental health and crisis resources"})]})]}),t.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border-l-4 border-liberation-sovereignty-gold",children:[t.jsx("h5",{className:"font-bold text-liberation-sovereignty-gold mb-2",children:"Technical Safeguards"}),t.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[t.jsx("li",{children:"• Advanced privacy controls and encrypted communications"}),t.jsx("li",{children:"• AI-assisted content warnings for potentially triggering material"}),t.jsx("li",{children:"• Granular blocking and filtering options"}),t.jsx("li",{children:"• Anonymous reporting mechanisms for community concerns"}),t.jsx("li",{children:"• Regular security audits and vulnerability assessments"})]})]})]})]})}),t.jsx(fe,{title:"Technical Specifications",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-bold text-liberation-sovereignty-gold mb-3",children:"Platform Architecture"}),t.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Frontend:"})," React 18, TypeScript, Tailwind CSS"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Backend:"})," Node.js, Express, PostgreSQL"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Hosting:"})," Vercel (Frontend), Railway (Backend)"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"CDN:"})," Cloudflare with DDoS protection"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Monitoring:"})," Real-time performance tracking"]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-bold text-liberation-sovereignty-gold mb-3",children:"Security & Privacy"}),t.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Encryption:"})," TLS 1.3, AES-256 data encryption"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Authentication:"})," Multi-factor authentication available"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Privacy:"})," No third-party tracking, minimal data collection"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Compliance:"})," GDPR, CCPA compliant"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Auditing:"})," Regular third-party security assessments"]})]})]})]}),t.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[t.jsx("h5",{className:"font-bold text-liberation-pride-pink mb-2",children:"Open Source Commitment"}),t.jsxs("p",{className:"text-sm text-gray-300",children:["Our platform architecture is open source to ensure transparency and community oversight. Community members can review, audit, and contribute to the codebase. Repository: ",t.jsx("a",{href:"#",className:"text-liberation-sovereignty-gold hover:underline",children:"github.com/blkout-liberation"})]})]})]})}),t.jsx(fe,{title:"Legal & Organizational Information",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[t.jsx("h4",{className:"text-lg font-bold text-liberation-pride-purple mb-4",children:"Organizational Structure"}),t.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[t.jsxs("div",{children:[t.jsx("strong",{className:"text-white",children:"Legal Status:"}),t.jsx("br",{}),"Community Benefit Society (CBS)",t.jsx("br",{}),"Registration Number: [To be registered]"]}),t.jsxs("div",{children:[t.jsx("strong",{className:"text-white",children:"Governance Model:"}),t.jsx("br",{}),"Cooperative ownership with democratic member governance"]}),t.jsxs("div",{children:[t.jsx("strong",{className:"text-white",children:"Financial Model:"}),t.jsx("br",{}),"75% creator revenue share, 25% platform operations and community programs"]})]})]}),t.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[t.jsx("h4",{className:"text-lg font-bold text-liberation-healing-sage mb-4",children:"Contact Information"}),t.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx(Zr,{className:"w-4 h-4 text-liberation-healing-sage mt-1 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("strong",{className:"text-white",children:"Registered Office:"}),t.jsx("br",{}),"[To be determined upon CBS registration]",t.jsx("br",{}),"United Kingdom"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Xr,{className:"w-4 h-4 text-liberation-healing-sage"}),t.jsxs("div",{children:[t.jsx("strong",{className:"text-white",children:"Contact:"}),t.jsx("br",{}),"info@blkoutcollective.org"]})]})]})]})]}),t.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[t.jsx("h5",{className:"font-bold text-liberation-sovereignty-gold mb-2",children:"Community Benefit Society (CBS) Benefits"}),t.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[t.jsx("li",{children:"• Democratic member control - one member, one vote regardless of investment"}),t.jsx("li",{children:"• Asset lock - community assets cannot be extracted by private interests"}),t.jsx("li",{children:"• Community purpose priority over profit maximization"}),t.jsx("li",{children:"• Tax advantages for community benefit activities"}),t.jsx("li",{children:"• Regulatory oversight ensuring community benefit compliance"})]})]})]})}),t.jsx(fe,{title:"Community Guidelines & Policies",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4",children:[t.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border-l-4 border-liberation-pride-pink",children:[t.jsx("h5",{className:"font-bold text-liberation-pride-pink mb-2",children:"Liberation-Centered Values"}),t.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[t.jsx("li",{children:"• Center Black queer joy and liberation in all interactions"}),t.jsx("li",{children:"• Challenge oppressive systems, not individuals experiencing oppression"}),t.jsx("li",{children:"• Practice accountability and restorative justice"}),t.jsx("li",{children:"• Honor the labor and wisdom of Black queer ancestors and elders"})]})]}),t.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border-l-4 border-liberation-healing-sage",children:[t.jsx("h5",{className:"font-bold text-liberation-healing-sage mb-2",children:"Prohibited Behaviors"}),t.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[t.jsx("li",{children:"• Racism, transphobia, homophobia, or other forms of oppression"}),t.jsx("li",{children:"• Harassment, doxxing, or threats of violence"}),t.jsx("li",{children:"• Content that promotes self-harm or exploitation"}),t.jsx("li",{children:"• Corporate extraction or exploitative business practices"})]})]}),t.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border-l-4 border-liberation-sovereignty-gold",children:[t.jsx("h5",{className:"font-bold text-liberation-sovereignty-gold mb-2",children:"Accountability Process"}),t.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[t.jsx("li",{children:"• Community reporting and peer mediation first"}),t.jsx("li",{children:"• Restorative justice circles for community harm"}),t.jsx("li",{children:"• Escalation to trained community moderators when needed"}),t.jsx("li",{children:"• Removal only as last resort after community process"})]})]})]}),t.jsx("div",{className:"bg-gray-800 p-4 rounded-lg",children:t.jsxs("p",{className:"text-sm text-gray-300",children:[t.jsx("strong",{className:"text-liberation-sovereignty-gold",children:"Full Community Guidelines:"}),t.jsx("a",{href:"#",className:"text-liberation-sovereignty-gold hover:underline ml-1",children:"View complete community guidelines document"})]})})]})}),t.jsx(fe,{title:"Transparency & Accountability",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[t.jsx("h5",{className:"font-bold text-liberation-pride-purple mb-2",children:"Financial Transparency"}),t.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[t.jsx("li",{children:"• Monthly financial reports published to community"}),t.jsx("li",{children:"• Real-time creator revenue sharing tracking"}),t.jsx("li",{children:"• Annual community audit and budget approval"}),t.jsx("li",{children:"• Open-book accounting with member access"})]})]}),t.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[t.jsx("h5",{className:"font-bold text-liberation-healing-sage mb-2",children:"Decision-Making Transparency"}),t.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[t.jsx("li",{children:"• All community votes and results publicly visible"}),t.jsx("li",{children:"• Community meeting minutes published"}),t.jsx("li",{children:"• Platform changes proposed and voted on by members"}),t.jsx("li",{children:"• Conflict resolution outcomes shared (with privacy protection)"})]})]})]}),t.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[t.jsx("h5",{className:"font-bold text-liberation-sovereignty-gold mb-2",children:"Community Oversight Mechanisms"}),t.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"The community maintains oversight through multiple channels:"}),t.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[t.jsx("li",{children:"• Elected community council with rotating membership"}),t.jsx("li",{children:"• Anonymous feedback systems for platform concerns"}),t.jsx("li",{children:"• Regular community assemblies for major decisions"}),t.jsx("li",{children:"• External mediation available for unresolved conflicts"}),t.jsx("li",{children:"• Annual third-party audits of community benefit compliance"})]})]})]})})]}),t.jsxs("div",{className:"mt-12 bg-gradient-to-r from-liberation-pride-pink to-liberation-pride-purple rounded-2xl p-8 text-center text-white",children:[t.jsx("h3",{className:"text-2xl font-black mb-4",children:"QUESTIONS ABOUT OUR PRACTICES?"}),t.jsx("p",{className:"mb-6",children:"Transparency is fundamental to liberation. If you have questions about any of our practices, policies, or technical implementations, we're committed to providing clear answers."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx("button",{className:"bg-white text-liberation-pride-purple px-6 py-3 rounded-xl font-bold hover:bg-gray-100 transition-colors",children:"Contact Community Council"}),t.jsx("button",{className:"border-2 border-white text-white px-6 py-3 rounded-xl font-bold hover:bg-white/10 transition-colors",children:"Join Community Assembly"})]})]})]})]})}const Mi=i=>{let e;return i?e=i:typeof fetch=="undefined"?e=(...s)=>Me(()=>u(ee,null,function*(){const{default:r}=yield Promise.resolve().then(()=>He);return{default:r}}),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class Zt extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Bi extends Zt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vs extends Zt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ws extends Zt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Bt;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Bt||(Bt={}));var Hi=function(i,e,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{h(r.next(d))}catch(g){o(g)}}function c(d){try{h(r.throw(d))}catch(g){o(g)}}function h(d){d.done?a(d.value):n(d.value).then(l,c)}h((r=r.apply(i,e||[])).next())})};class Fi{constructor(e,{headers:s={},customFetch:r,region:n=Bt.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Mi(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return Hi(this,void 0,void 0,function*(){try{const{headers:n,method:a,body:o}=s;let l={},{region:c}=s;c||(c=this.region);const h=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,h.searchParams.set("forceFunctionRegion",c));let d;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob!="undefined"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData!="undefined"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const g=yield this.fetch(h.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:d}).catch(k=>{throw new Bi(k)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new vs(g);if(!g.ok)throw new ws(g);let f=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),j;return f==="application/json"?j=yield g.json():f==="application/octet-stream"?j=yield g.blob():f==="text/event-stream"?j=g:f==="multipart/form-data"?j=yield g.formData():j=yield g.text(),{data:j,error:null,response:g}}catch(n){return{data:null,error:n,response:n instanceof ws||n instanceof vs?n.context:void 0}}})}}var z={},es={},ft={},et={},xt={},yt={},Wi=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")},De=Wi();const qi=De.fetch,Vs=De.fetch.bind(De),Ks=De.Headers,Gi=De.Request,zi=De.Response,He=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ks,Request:Gi,Response:zi,default:Vs,fetch:qi},Symbol.toStringTag,{value:"Module"})),Vi=$r(He);var vt={};Object.defineProperty(vt,"__esModule",{value:!0});let Ki=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};vt.default=Ki;var Ys=J&&J.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(yt,"__esModule",{value:!0});const Yi=Ys(Vi),Ji=Ys(vt);let Qi=class{constructor(e){var s,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(s=e.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch=="undefined"?this.fetch=Yi.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=new Headers(this.headers),this.headers.set(e,s),this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(a=>u(this,null,function*(){var o,l,c,h;let d=null,g=null,m=null,f=a.status,j=a.statusText;if(a.ok){if(this.method!=="HEAD"){const p=yield a.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?g=p:g=JSON.parse(p))}const v=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),S=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&S&&S.length>1&&(m=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(d={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,f=406,j="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const v=yield a.text();try{d=JSON.parse(v),Array.isArray(d)&&a.status===404&&(g=[],d=null,f=200,j="OK")}catch(S){a.status===404&&v===""?(f=204,j="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((h=d==null?void 0:d.details)===null||h===void 0)&&h.includes("0 rows"))&&(d=null,f=200,j="OK"),d&&this.shouldThrowOnError)throw new Ji.default(d)}return{error:d,data:g,count:m,status:f,statusText:j}}));return this.shouldThrowOnError||(n=n.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}};yt.default=Qi;var Xi=J&&J.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xt,"__esModule",{value:!0});const Zi=Xi(yt);let en=class extends Zi.default{select(e){let s=!1;const r=(e!=null?e:"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r=="undefined"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n=="undefined"?"offset":`${n}.offset`,o=typeof n=="undefined"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),h=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${h}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};xt.default=en;var tn=J&&J.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(et,"__esModule",{value:!0});const sn=tn(xt);let rn=class extends sn.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};et.default=rn;var nn=J&&J.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ft,"__esModule",{value:!0});const Ve=nn(et);let an=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(s),this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let a=!1;const o=(e!=null?e:"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Ve.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:s,defaultToNull:r=!0}={}){var n;const a="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ve.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(c.length>0){const h=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new Ve.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:s}={}){var r;const n="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new Ve.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var s;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Ve.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};ft.default=an;var Js=J&&J.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(es,"__esModule",{value:!0});const on=Js(ft),ln=Js(et);let cn=class Qs{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=new Headers(s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new on.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Qs(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let h;r||n?(l=r?"HEAD":"GET",Object.entries(s).filter(([g,m])=>m!==void 0).map(([g,m])=>[g,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([g,m])=>{c.searchParams.append(g,m)})):(l="POST",h=s);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new ln.default({method:l,url:c,headers:d,schema:this.schemaName,body:h,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};es.default=cn;var Fe=J&&J.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(z,"__esModule",{value:!0});z.PostgrestError=z.PostgrestBuilder=z.PostgrestTransformBuilder=z.PostgrestFilterBuilder=z.PostgrestQueryBuilder=z.PostgrestClient=void 0;const Xs=Fe(es);z.PostgrestClient=Xs.default;const Zs=Fe(ft);z.PostgrestQueryBuilder=Zs.default;const er=Fe(et);z.PostgrestFilterBuilder=er.default;const tr=Fe(xt);z.PostgrestTransformBuilder=tr.default;const sr=Fe(yt);z.PostgrestBuilder=sr.default;const rr=Fe(vt);z.PostgrestError=rr.default;var dn=z.default={PostgrestClient:Xs.default,PostgrestQueryBuilder:Zs.default,PostgrestFilterBuilder:er.default,PostgrestTransformBuilder:tr.default,PostgrestBuilder:sr.default,PostgrestError:rr.default};const{PostgrestClient:hn,PostgrestQueryBuilder:No,PostgrestFilterBuilder:_o,PostgrestTransformBuilder:ko,PostgrestBuilder:So,PostgrestError:Eo}=dn;class un{static detectEnvironment(){var e;if(typeof WebSocket!="undefined")return{type:"native",constructor:WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocket!="undefined")return{type:"native",constructor:globalThis.WebSocket};if(typeof global!="undefined"&&typeof global.WebSocket!="undefined")return{type:"native",constructor:global.WebSocket};if(typeof globalThis!="undefined"&&typeof globalThis.WebSocketPair!="undefined"&&typeof globalThis.WebSocket=="undefined")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis!="undefined"&&globalThis.EdgeRuntime||typeof navigator!="undefined"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process!="undefined"){const s=process.versions;if(s&&s.node){const r=s.node,n=parseInt(r.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket!="undefined"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch(e){return!1}}}const gn="2.15.5",mn=`realtime-js/${gn}`,pn="1.0.0",Ht=1e4,bn=1e3,fn=100;var Je;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Je||(Je={}));var F;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(F||(F={}));var Z;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Z||(Z={}));var Ft;(function(i){i.websocket="websocket"})(Ft||(Ft={}));var je;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(je||(je={}));class xn{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),a=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+n));o=o+n;const c=r.decode(e.slice(o,o+a));o=o+a;const h=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:h}}}class ir{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var D;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(D||(D={}));const js=(i,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,o)=>(a[o]=yn(o,i,e,n),a),{})},yn=(i,e,s,r)=>{const n=e.find(l=>l.name===i),a=n==null?void 0:n.type,o=s[i];return a&&!r.includes(a)?nr(a,o):Wt(o)},nr=(i,e)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return Nn(e,s)}switch(i){case D.bool:return vn(e);case D.float4:case D.float8:case D.int2:case D.int4:case D.int8:case D.numeric:case D.oid:return wn(e);case D.json:case D.jsonb:return jn(e);case D.timestamp:return _n(e);case D.abstime:case D.date:case D.daterange:case D.int4range:case D.int8range:case D.money:case D.reltime:case D.text:case D.time:case D.timestamptz:case D.timetz:case D.tsrange:case D.tstzrange:return Wt(e);default:return Wt(e)}},Wt=i=>i,vn=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},wn=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},jn=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(e){return console.log(`JSON parse error: ${e}`),i}return i},Nn=(i,e)=>{if(typeof i!="string")return i;const s=i.length-1,r=i[s];if(i[0]==="{"&&r==="}"){let a;const o=i.slice(1,s);try{a=JSON.parse("["+o+"]")}catch(l){a=o?o.split(","):[]}return a.map(l=>nr(e,l))}return i},_n=i=>typeof i=="string"?i.replace(" ","T"):i,ar=i=>{let e=i;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class St{constructor(e,s,r={},n=Ht){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ns;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Ns||(Ns={}));class Qe{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qe.syncState(this.state,n,a,o),this.pendingDiffs.forEach(c=>{this.state=Qe.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},n=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Qe.syncDiff(this.state,n,a,o),l())}),this.onJoin((n,a,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:a,newPresences:o})}),this.onLeave((n,a,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const a=this.cloneDeep(e),o=this.transformState(s),l={},c={};return this.map(a,(h,d)=>{o[h]||(c[h]=d)}),this.map(o,(h,d)=>{const g=a[h];if(g){const m=d.map(v=>v.presence_ref),f=g.map(v=>v.presence_ref),j=d.filter(v=>f.indexOf(v.presence_ref)<0),k=g.filter(v=>m.indexOf(v.presence_ref)<0);j.length>0&&(l[h]=j),k.length>0&&(c[h]=k)}else l[h]=d}),this.syncDiff(a,{joins:l,leaves:c},r,n)}static syncDiff(e,s,r,n){const{joins:a,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,(l,c)=>{var h;const d=(h=e[l])!==null&&h!==void 0?h:[];if(e[l]=this.cloneDeep(c),d.length>0){const g=e[l].map(f=>f.presence_ref),m=d.filter(f=>g.indexOf(f.presence_ref)<0);e[l].unshift(...m)}r(l,d,c)}),this.map(o,(l,c)=>{let h=e[l];if(!h)return;const d=c.map(g=>g.presence_ref);h=h.filter(g=>d.indexOf(g.presence_ref)<0),e[l]=h,n(l,h,c),h.length===0&&delete e[l]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _s;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(_s||(_s={}));var Xe;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Xe||(Xe={}));var ne;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(ne||(ne={}));class ts{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=F.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new St(this,Z.join,this.params,this.timeout),this.rejoinTimer=new ir(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=F.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=F.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=F.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=F.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=F.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Z.reply,{},(n,a)=>{this._trigger(this._replyEventName(a),n)}),this.presence=new Qe(this),this.broadcastEndpointURL=ar(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==F.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,h=(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&n!==void 0?n:[],d=!!this.bindings[Xe.PRESENCE]&&this.bindings[Xe.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,g={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:h,private:c};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(ne.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(ne.CLOSED)),this.updateJoinPayload(Object.assign({config:m},g)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",j=>u(this,[j],function*({postgres_changes:f}){var k;if(this.socket.setAuth(),f===void 0){e==null||e(ne.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,S=(k=v==null?void 0:v.length)!==null&&k!==void 0?k:0,p=[];for(let x=0;x<S;x++){const y=v[x],{filter:{event:b,schema:N,table:A,filter:I}}=y,U=f&&f[x];if(U&&U.event===b&&U.schema===N&&U.table===A&&U.filter===I)p.push(Object.assign(Object.assign({},y),{id:U.id}));else{this.unsubscribe(),this.state=F.errored,e==null||e(ne.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(ne.SUBSCRIBED);return}})).receive("error",f=>{this.state=F.errored,e==null||e(ne.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ne.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return u(this,arguments,function*(e,s={}){return yield this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)})}untrack(){return u(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,s,r){return this.state===F.joined&&e===Xe.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,r)}send(r){return u(this,arguments,function*(e,s={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:l}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const d=yield this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return yield(a=d.body)===null||a===void 0?void 0:a.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,h;const d=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=F.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Z.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new St(this,Z.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=F.closed,this.bindings={}}_fetchWithTimeout(e,s,r){return u(this,null,function*(){const n=new AbortController,a=setTimeout(()=>n.abort(),r),o=yield this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(a),o})}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new St(this,e,s,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>fn){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,a;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:h,join:d}=Z;if(r&&[l,c,h,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,s,r);if(s&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var j,k,v;return((j=f.filter)===null||j===void 0?void 0:j.event)==="*"||((v=(k=f.filter)===null||k===void 0?void 0:k.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(f=>f.callback(m,r)):(a=this.bindings[o])===null||a===void 0||a.filter(f=>{var j,k,v,S,p,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const y=f.id,b=(j=f.filter)===null||j===void 0?void 0:j.event;return y&&((k=s.ids)===null||k===void 0?void 0:k.includes(y))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((v=s.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const y=(p=(S=f==null?void 0:f.filter)===null||S===void 0?void 0:S.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return y==="*"||y===((x=s==null?void 0:s.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof m=="object"&&"ids"in m){const j=m.data,{schema:k,table:v,commit_timestamp:S,type:p,errors:x}=j;m=Object.assign(Object.assign({},{schema:k,table:v,commit_timestamp:S,eventType:p,new:{},old:{},errors:x}),this._getPayloadRecords(j))}f.callback(m,r)})}_isClosed(){return this.state===F.closed}_isJoined(){return this.state===F.joined}_isJoining(){return this.state===F.joining}_isLeaving(){return this.state===F.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),a={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(n=>{var a;return!(((a=n.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&ts.isEqual(n.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Z.close,{},e)}_onError(e){this._on(Z.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=F.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=js(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=js(e.columns,e.old_record)),s}}const Et=()=>{},at={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kn=[1e3,2e3,5e3,1e4],Sn=1e4,En=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tn{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ht,this.transport=null,this.heartbeatIntervalMs=at.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Et,this.ref=0,this.reconnectTimer=null,this.logger=Et,this.conn=null,this.sendBuffer=[],this.serializer=new xn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let a;return n?a=n:typeof fetch=="undefined"?a=(...o)=>Me(()=>u(this,null,function*(){const{default:l}=yield Promise.resolve().then(()=>He);return{default:l}}),void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Ft.websocket}`,this.httpEndpoint=ar(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=un.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pn}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,s!=null?s:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return u(this,null,function*(){const s=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),s})}removeAllChannels(){return u(this,null,function*(){const e=yield Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Je.connecting:return je.Connecting;case Je.open:return je.Open;case Je.closing:return je.Closing;default:return je.Closed}}isConnected(){return this.connectionState()===je.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(a=>a.topic===r);if(n)return n;{const a=new ts(`realtime:${e}`,s,this);return this.channels.push(a),a}}push(e){const{topic:s,event:r,payload:n,ref:a}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${s} ${r} (${a})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e=null){return u(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return u(this,null,function*(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(bn,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},at.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:n,payload:a,ref:o}=s,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${n} ${l}`.trim(),a),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(n,a,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Z.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([En],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}_performAuth(e=null){return u(this,null,function*(){let s;e?s=e:this.accessToken?s=yield this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:mn};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(Z.access_token,{access_token:s})}))})}_waitForAuthIfNeeded(){return u(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ir(()=>u(this,null,function*(){setTimeout(()=>u(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),at.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var s,r,n,a,o,l,c,h,d;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Ht,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:at.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Et,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:g=>kn[g-1]||Sn,this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(g,m)=>m(JSON.stringify(g)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ss extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function W(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class An extends ss{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qt extends ss{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Cn=function(i,e,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{h(r.next(d))}catch(g){o(g)}}function c(d){try{h(r.throw(d))}catch(g){o(g)}}function h(d){d.done?a(d.value):n(d.value).then(l,c)}h((r=r.apply(i,e||[])).next())})};const or=i=>{let e;return i?e=i:typeof fetch=="undefined"?e=(...s)=>Me(()=>u(ee,null,function*(){const{default:r}=yield Promise.resolve().then(()=>He);return{default:r}}),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},On=()=>Cn(void 0,void 0,void 0,function*(){return typeof Response=="undefined"?(yield Me(()=>Promise.resolve().then(()=>He),void 0)).Response:Response}),Gt=i=>{if(Array.isArray(i))return i.map(s=>Gt(s));if(typeof i=="function"||i!==Object(i))return i;const e={};return Object.entries(i).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[n]=Gt(r)}),e},Rn=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)};var Ne=function(i,e,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{h(r.next(d))}catch(g){o(g)}}function c(d){try{h(r.throw(d))}catch(g){o(g)}}function h(d){d.done?a(d.value):n(d.value).then(l,c)}h((r=r.apply(i,e||[])).next())})};const Tt=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),In=(i,e,s)=>Ne(void 0,void 0,void 0,function*(){const r=yield On();i instanceof r&&!(s!=null&&s.noResolveJson)?i.json().then(n=>{const a=i.status||500,o=(n==null?void 0:n.statusCode)||a+"";e(new An(Tt(n),a,o))}).catch(n=>{e(new qt(Tt(n),n))}):e(new qt(Tt(i),i))}),Pn=(i,e,s,r)=>{const n={method:i,headers:(e==null?void 0:e.headers)||{}};return i==="GET"||!r?n:(Rn(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r)):n.body=r,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),s))};function tt(i,e,s,r,n,a){return Ne(this,void 0,void 0,function*(){return new Promise((o,l)=>{i(s,Pn(e,r,n,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>In(c,l,r))})})}function mt(i,e,s,r){return Ne(this,void 0,void 0,function*(){return tt(i,"GET",e,s,r)})}function se(i,e,s,r,n){return Ne(this,void 0,void 0,function*(){return tt(i,"POST",e,r,n,s)})}function zt(i,e,s,r,n){return Ne(this,void 0,void 0,function*(){return tt(i,"PUT",e,r,n,s)})}function Ln(i,e,s,r){return Ne(this,void 0,void 0,function*(){return tt(i,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function lr(i,e,s,r,n){return Ne(this,void 0,void 0,function*(){return tt(i,"DELETE",e,r,n,s)})}var G=function(i,e,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{h(r.next(d))}catch(g){o(g)}}function c(d){try{h(r.throw(d))}catch(g){o(g)}}function h(d){d.done?a(d.value):n(d.value).then(l,c)}h((r=r.apply(i,e||[])).next())})};const Un={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ks={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $n{constructor(e,s={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=r,this.fetch=or(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,r,n){return G(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},ks),n);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob!="undefined"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData!="undefined"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const h=this._removeEmptyFolders(s),d=this._getFinalPath(h),g=yield(e=="PUT"?zt:se)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(W(a))return{data:null,error:a};throw a}})}upload(e,s,r){return G(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return G(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let c;const h=Object.assign({upsert:ks.upsert},n),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob!="undefined"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),c.append("",r)):typeof FormData!="undefined"&&r instanceof FormData?(c=r,c.append("cacheControl",h.cacheControl)):(c=r,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType);const g=yield zt(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:g.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(W(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,s){return G(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const a=yield se(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new ss("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}update(e,s,r){return G(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return G(this,void 0,void 0,function*(){try{return{data:yield se(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}copy(e,s,r){return G(this,void 0,void 0,function*(){try{return{data:{path:(yield se(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return G(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),a=yield se(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return G(this,void 0,void 0,function*(){try{const n=yield se(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}download(e,s){return G(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)!="undefined"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield mt(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(W(l))return{data:null,error:l};throw l}})}info(e){return G(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield mt(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Gt(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}exists(e){return G(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Ln(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r)&&r instanceof qt){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],a=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";a!==""&&n.push(a);const l=typeof(s==null?void 0:s.transform)!="undefined"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&n.push(c);let h=n.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${h}`)}}}remove(e){return G(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(W(s))return{data:null,error:s};throw s}})}list(e,s,r){return G(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Un),s),{prefix:e||""});return{data:yield se(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(W(n))return{data:null,error:n};throw n}})}listV2(e,s){return G(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield se(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Dn="2.12.1",Mn={"X-Client-Info":`storage-js/${Dn}`};var Ce=function(i,e,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{h(r.next(d))}catch(g){o(g)}}function c(d){try{h(r.throw(d))}catch(g){o(g)}}function h(d){d.done?a(d.value):n(d.value).then(l,c)}h((r=r.apply(i,e||[])).next())})};class Bn{constructor(e,s={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},Mn),s),this.fetch=or(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ce(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(W(e))return{data:null,error:e};throw e}})}getBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(W(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Ce(this,void 0,void 0,function*(){try{return{data:yield se(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Ce(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield se(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(W(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(W(s))return{data:null,error:s};throw s}})}}class Hn extends Bn{constructor(e,s={},r,n){super(e,s,r,n)}from(e){return new $n(this.url,this.headers,e,this.fetch)}}const Fn="2.57.4";let Ye="";typeof Deno!="undefined"?Ye="deno":typeof document!="undefined"?Ye="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?Ye="react-native":Ye="node";const Wn={"X-Client-Info":`supabase-js-${Ye}/${Fn}`},qn={headers:Wn},Gn={schema:"public"},zn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vn={};var Kn=function(i,e,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{h(r.next(d))}catch(g){o(g)}}function c(d){try{h(r.throw(d))}catch(g){o(g)}}function h(d){d.done?a(d.value):n(d.value).then(l,c)}h((r=r.apply(i,e||[])).next())})};const Yn=i=>{let e;return i?e=i:typeof fetch=="undefined"?e=Vs:e=fetch,(...s)=>e(...s)},Jn=()=>typeof Headers=="undefined"?Ks:Headers,Qn=(i,e,s)=>{const r=Yn(s),n=Jn();return(a,o)=>Kn(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:i;let h=new n(o==null?void 0:o.headers);return h.has("apikey")||h.set("apikey",i),h.has("Authorization")||h.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},o),{headers:h}))})};var Xn=function(i,e,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{h(r.next(d))}catch(g){o(g)}}function c(d){try{h(r.throw(d))}catch(g){o(g)}}function h(d){d.done?a(d.value):n(d.value).then(l,c)}h((r=r.apply(i,e||[])).next())})};function Zn(i){return i.endsWith("/")?i:i+"/"}function ea(i,e){var s,r;const{db:n,auth:a,realtime:o,global:l}=i,{db:c,auth:h,realtime:d,global:g}=e,m={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},g),l),{headers:Object.assign(Object.assign({},(s=g==null?void 0:g.headers)!==null&&s!==void 0?s:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Xn(this,void 0,void 0,function*(){return""})};return i.accessToken?m.accessToken=i.accessToken:delete m.accessToken,m}function ta(i){const e=i==null?void 0:i.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Zn(e))}catch(s){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const cr="2.71.1",Le=30*1e3,Vt=3,At=Vt*Le,sa="http://localhost:9999",ra="supabase.auth.token",ia={"X-Client-Info":`gotrue-js/${cr}`},Kt="X-Supabase-Api-Version",dr={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},na=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aa=10*60*1e3;class rs extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function O(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class oa extends rs{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function la(i){return O(i)&&i.name==="AuthApiError"}class hr extends rs{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class ge extends rs{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class he extends ge{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ca(i){return O(i)&&i.name==="AuthSessionMissingError"}class ot extends ge{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lt extends ge{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ct extends ge{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function da(i){return O(i)&&i.name==="AuthImplicitGrantRedirectError"}class Ss extends ge{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yt extends ge{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Ct(i){return O(i)&&i.name==="AuthRetryableFetchError"}class Es extends ge{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Jt extends ge{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ts=` 	
\r=`.split(""),ha=(()=>{const i=new Array(128);for(let e=0;e<i.length;e+=1)i[e]=-1;for(let e=0;e<Ts.length;e+=1)i[Ts[e].charCodeAt(0)]=-2;for(let e=0;e<pt.length;e+=1)i[pt[e].charCodeAt(0)]=e;return i})();function As(i,e,s){if(i!==null)for(e.queue=e.queue<<8|i,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(pt[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(pt[r]),e.queuedBits-=6}}function ur(i,e,s){const r=ha[i];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Cs(i){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},a=o=>{ma(o,r,s)};for(let o=0;o<i.length;o+=1)ur(i.charCodeAt(o),n,a);return e.join("")}function ua(i,e){if(i<=127){e(i);return}else if(i<=2047){e(192|i>>6),e(128|i&63);return}else if(i<=65535){e(224|i>>12),e(128|i>>6&63),e(128|i&63);return}else if(i<=1114111){e(240|i>>18),e(128|i>>12&63),e(128|i>>6&63),e(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function ga(i,e){for(let s=0;s<i.length;s+=1){let r=i.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(i.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}ua(r,e)}}function ma(i,e,s){if(e.utf8seq===0){if(i<=127){s(i);return}for(let r=1;r<6;r+=1)if(!(i>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=i&31;else if(e.utf8seq===3)e.codepoint=i&15;else if(e.utf8seq===4)e.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|i&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function pa(i){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<i.length;n+=1)ur(i.charCodeAt(n),s,r);return new Uint8Array(e)}function ba(i){const e=[];return ga(i,s=>e.push(s)),new Uint8Array(e)}function fa(i){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return i.forEach(n=>As(n,s,r)),As(null,s,r),e.join("")}function xa(i){return Math.round(Date.now()/1e3)+i}function ya(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const e=Math.random()*16|0;return(i=="x"?e:e&3|8).toString(16)})}const X=()=>typeof window!="undefined"&&typeof document!="undefined",xe={tested:!1,writable:!1},gr=()=>{if(!X())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(xe.tested)return xe.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),xe.tested=!0,xe.writable=!0}catch(e){xe.tested=!0,xe.writable=!1}return xe.writable};function va(i){const e={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,a)=>{e[a]=n})}catch(r){}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const mr=i=>{let e;return i?e=i:typeof fetch=="undefined"?e=(...s)=>Me(()=>u(ee,null,function*(){const{default:r}=yield Promise.resolve().then(()=>He);return{default:r}}),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},wa=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Ue=(i,e,s)=>u(ee,null,function*(){yield i.setItem(e,JSON.stringify(s))}),ye=(i,e)=>u(ee,null,function*(){const s=yield i.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch(r){return s}}),ce=(i,e)=>u(ee,null,function*(){yield i.removeItem(e)});class wt{constructor(){this.promise=new wt.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}wt.promiseConstructor=Promise;function Ot(i){const e=i.split(".");if(e.length!==3)throw new Jt("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!na.test(e[r]))throw new Jt("JWT not in base64url format");return{header:JSON.parse(Cs(e[0])),payload:JSON.parse(Cs(e[1])),signature:pa(e[2]),raw:{header:e[0],payload:e[1]}}}function ja(i){return u(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),i)})})}function Na(i,e){return new Promise((r,n)=>{u(this,null,function*(){for(let a=0;a<1/0;a++)try{const o=yield i(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){n(o);return}}})})}function _a(i){return("0"+i.toString(16)).substr(-2)}function ka(){const e=new Uint32Array(56);if(typeof crypto=="undefined"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let a=0;a<56;a++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,_a).join("")}function Sa(i){return u(this,null,function*(){const s=new TextEncoder().encode(i),r=yield crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(a=>String.fromCharCode(a)).join("")})}function Ea(i){return u(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=yield Sa(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Oe(i,e,s=!1){return u(this,null,function*(){const r=ka();let n=r;s&&(n+="/PASSWORD_RECOVERY"),yield Ue(i,`${e}-code-verifier`,n);const a=yield Ea(r);return[a,r===a?"plain":"s256"]})}const Ta=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Aa(i){const e=i.headers.get(Kt);if(!e||!e.match(Ta))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(s){return null}}function Ca(i){if(!i)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(i<=e)throw new Error("JWT has expired")}function Oa(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ra=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Re(i){if(!Ra.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rt(){const i={};return new Proxy(i,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Os(i){return JSON.parse(JSON.stringify(i))}var Ia=function(i,e){var s={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(s[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(s[r[n]]=i[r[n]]);return s};const ve=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Pa=[502,503,504];function Rs(i){return u(this,null,function*(){var e;if(!wa(i))throw new Yt(ve(i),0);if(Pa.includes(i.status))throw new Yt(ve(i),i.status);let s;try{s=yield i.json()}catch(a){throw new hr(ve(a),a)}let r;const n=Aa(i);if(n&&n.getTime()>=dr["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Es(ve(s),i.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new he}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Es(ve(s),i.status,s.weak_password.reasons);throw new oa(ve(s),i.status||500,r)})}const La=(i,e,s,r)=>{const n={method:i,headers:(e==null?void 0:e.headers)||{}};return i==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};function L(i,e,s,r){return u(this,null,function*(){var n;const a=Object.assign({},r==null?void 0:r.headers);a[Kt]||(a[Kt]=dr["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=yield Ua(i,e,s+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}})}function Ua(i,e,s,r,n,a){return u(this,null,function*(){const o=La(e,r,n,a);let l;try{l=yield i(s,Object.assign({},o))}catch(c){throw console.error(c),new Yt(ve(c),0)}if(l.ok||(yield Rs(l)),r!=null&&r.noResolveJson)return l;try{return yield l.json()}catch(c){yield Rs(c)}})}function ie(i){var e;let s=null;Ba(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=xa(i.expires_in)));const r=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:s,user:r},error:null}}function Is(i){const e=ie(i);return!e.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=i.weak_password),e}function ue(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function $a(i){return{data:i,error:null}}function Da(i){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:a}=i,o=Ia(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Ma(i){return i}function Ba(i){return i.access_token&&i.refresh_token&&i.expires_in}const It=["global","local","others"];var Ha=function(i,e){var s={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(s[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(s[r[n]]=i[r[n]]);return s};class Fa{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=mr(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return u(this,arguments,function*(e,s=It[0]){if(It.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${It.join(", ")}`);try{return yield L(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}})}inviteUserByEmail(r){return u(this,arguments,function*(e,s={}){try{return yield L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ue})}catch(n){if(O(n))return{data:{user:null},error:n};throw n}})}generateLink(e){return u(this,null,function*(){try{const{options:s}=e,r=Ha(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),yield L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Da,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(O(s))return{data:{properties:null,user:null},error:s};throw s}})}createUser(e){return u(this,null,function*(){try{return yield L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ue})}catch(s){if(O(s))return{data:{user:null},error:s};throw s}})}listUsers(e){return u(this,null,function*(){var s,r,n,a,o,l,c;try{const h={nextPage:null,lastPage:0,total:0},d=yield L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(a=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:""},xform:Ma});if(d.error)throw d.error;const g=yield d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(j=>{const k=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(j.split(";")[1].split("=")[1]);h[`${v}Page`]=k}),h.total=parseInt(m)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(O(h))return{data:{users:[]},error:h};throw h}})}getUserById(e){return u(this,null,function*(){Re(e);try{return yield L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ue})}catch(s){if(O(s))return{data:{user:null},error:s};throw s}})}updateUserById(e,s){return u(this,null,function*(){Re(e);try{return yield L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:ue})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,s=!1){return u(this,null,function*(){Re(e);try{return yield L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:ue})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return u(this,null,function*(){Re(e.userId);try{const{data:s,error:r}=yield L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(O(s))return{data:null,error:s};throw s}})}_deleteFactor(e){return u(this,null,function*(){Re(e.userId),Re(e.id);try{return{data:yield L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(O(s))return{data:null,error:s};throw s}})}}function Ps(i={}){return{getItem:e=>i[e]||null,setItem:(e,s)=>{i[e]=s},removeItem:e=>{delete i[e]}}}function Wa(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(i){typeof self!="undefined"&&(self.globalThis=self)}}const Ie={debug:!!(globalThis&&gr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pr extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qa extends pr{}function Ga(i,e,s){return u(this,null,function*(){Ie.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ie.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(i,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},n=>u(this,null,function*(){if(n){Ie.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,n.name);try{return yield s()}finally{Ie.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,n.name)}}else{if(e===0)throw Ie.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new qa(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ie.debug)try{const a=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield s()}})))})}Wa();const za={url:sa,storageKey:ra,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ia,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Ls(i,e,s){return u(this,null,function*(){return yield s()})}const Pe={};class Ze{constructor(e){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ze.nextInstanceID,Ze.nextInstanceID+=1,this.instanceID>0&&X()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},za),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Fa({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=mr(n.fetch),this.lock=n.lock||Ls,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:X()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Ga:this.lock=Ls,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:gr()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ps(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Ps(this.memoryStorage)),X()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",a=>u(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}get jwks(){var e,s;return(s=(e=Pe[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Pe[this.storageKey]=Object.assign(Object.assign({},Pe[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Pe[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Pe[this.storageKey]=Object.assign(Object.assign({},Pe[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cr}) ${new Date().toISOString()}`,...e),this}initialize(){return u(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=u(this,null,function*(){return yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return u(this,null,function*(){var e;try{const s=va(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":(yield this._isPKCECallback(s))&&(r="pkce"),X()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:a}=yield this._getSessionFromURL(s,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),da(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return yield this._removeSession(),{error:a}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),yield this._saveSession(o),setTimeout(()=>u(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",o):yield this._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(s){return O(s)?{error:s}:{error:new hr("Unexpected error during initialization",s)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return u(this,null,function*(){var s,r,n;try{const a=yield L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:ie}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,h=o.user;return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(a){if(O(a))return{data:{user:null,session:null},error:a};throw a}})}signUp(e){return u(this,null,function*(){var s,r,n;try{let a;if("email"in e){const{email:d,password:g,options:m}=e;let f=null,j=null;this.flowType==="pkce"&&([f,j]=yield Oe(this.storage,this.storageKey)),a=yield L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:g,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:j},xform:ie})}else if("phone"in e){const{phone:d,password:g,options:m}=e;a=yield L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:g,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(n=m==null?void 0:m.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ie})}else throw new lt("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,h=o.user;return o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(a){if(O(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithPassword(e){return u(this,null,function*(){try{let s;if("email"in e){const{email:a,password:o,options:l}=e;s=yield L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Is})}else if("phone"in e){const{phone:a,password:o,options:l}=e;s=yield L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Is})}else throw new lt("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ot}:(r.session&&(yield this._saveSession(r.session),yield this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithOAuth(e){return u(this,null,function*(){var s,r,n,a;return yield this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})})}exchangeCodeForSession(e){return u(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>u(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return u(this,null,function*(){const{chain:s}=e;if(s==="solana")return yield this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)})}signInWithSolana(e){return u(this,null,function*(){var s,r,n,a,o,l,c,h,d,g,m,f;let j,k;if("message"in e)j=e.message,k=e.signature;else{const{chain:v,wallet:S,statement:p,options:x}=e;let y;if(X())if(typeof S=="object")y=S;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))y=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=S}const b=new URL((s=x==null?void 0:x.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in y&&y.signIn){const N=yield y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let A;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")A=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)A=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)j=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),k=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${b.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(n=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((h=x==null?void 0:x.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((g=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||g===void 0)&&g.length?["Resources",...x.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const N=yield y.signMessage(new TextEncoder().encode(j),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=N}}try{const{data:v,error:S}=yield L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:fa(k)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ie});if(S)throw S;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new ot}:(v.session&&(yield this._saveSession(v.session),yield this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:S})}catch(v){if(O(v))return{data:{user:null,session:null},error:v};throw v}})}_exchangeCodeForSession(e){return u(this,null,function*(){const s=yield ye(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s!=null?s:"").split("/");try{const{data:a,error:o}=yield L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ie});if(yield ce(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ot}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:n!=null?n:null}),error:o})}catch(a){if(O(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})}signInWithIdToken(e){return u(this,null,function*(){try{const{options:s,provider:r,token:n,access_token:a,nonce:o}=e,l=yield L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ie}),{data:c,error:h}=l;return h?{data:{user:null,session:null},error:h}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ot}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:h})}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithOtp(e){return u(this,null,function*(){var s,r,n,a,o;try{if("email"in e){const{email:l,options:c}=e;let h=null,d=null;this.flowType==="pkce"&&([h,d]=yield Oe(this.storage,this.storageKey));const{error:g}=yield L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:h,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:l,options:c}=e,{data:h,error:d}=yield L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:d}}throw new lt("You must provide either an email or phone number.")}catch(l){if(O(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(e){return u(this,null,function*(){var s,r;try{let n,a;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=yield L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:ie});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,h=o.user;return c!=null&&c.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(n){if(O(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithSSO(e){return u(this,null,function*(){var s,r,n;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=yield Oe(this.storage,this.storageKey)),yield L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:$a})}catch(a){if(O(a))return{data:null,error:a};throw a}})}reauthenticate(){return u(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return u(this,null,function*(){try{return yield this._useSession(e=>u(this,null,function*(){const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new he;const{error:n}=yield L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}}))}catch(e){if(O(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return u(this,null,function*(){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:a}=e,{error:o}=yield L(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:a}=e,{data:o,error:l}=yield L(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new lt("You must provide either an email or phone number and a type")}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}})}getSession(){return u(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return this._useSession(s=>u(this,null,function*(){return s}))}))})}_acquireLock(e,s){return u(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=u(this,null,function*(){return yield r,yield s()});return this.pendingInLock.push(u(this,null,function*(){try{yield n}catch(a){}})),n}return yield this.lock(`lock:${this.storageKey}`,e,()=>u(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push(u(this,null,function*(){try{yield r}catch(n){}})),yield r;this.pendingInLock.length;){const n=[...this.pendingInLock];yield Promise.all(n),this.pendingInLock.splice(0,n.length)}return yield r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return u(this,null,function*(){this._debug("#_useSession","begin");try{const s=yield this.__loadSession();return yield e(s)}finally{this._debug("#_useSession","end")}})}__loadSession(){return u(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=yield ye(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<At:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=yield ye(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Rt()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,h,d)=>(!o&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,h,d))})}return{data:{session:e},error:null}}const{session:n,error:a}=yield this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return u(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return u(this,null,function*(){try{return e?yield L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ue}):yield this._useSession(s=>u(this,null,function*(){var r,n,a;const{data:o,error:l}=s;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new he}:yield L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0,xform:ue})}))}catch(s){if(O(s))return ca(s)&&(yield this._removeSession(),yield ce(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}})}updateUser(r){return u(this,arguments,function*(e,s={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._updateUser(e,s)}))})}_updateUser(r){return u(this,arguments,function*(e,s={}){try{return yield this._useSession(n=>u(this,null,function*(){const{data:a,error:o}=n;if(o)throw o;if(!a.session)throw new he;const l=a.session;let c=null,h=null;this.flowType==="pkce"&&e.email!=null&&([c,h]=yield Oe(this.storage,this.storageKey));const{data:d,error:g}=yield L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:h}),jwt:l.access_token,xform:ue});if(g)throw g;return l.user=d.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(n){if(O(n))return{data:{user:null},error:n};throw n}})}setSession(e){return u(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return u(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new he;const s=Date.now()/1e3;let r=s,n=!0,a=null;const{payload:o}=Ot(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-s,expires_at:r},yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(s){if(O(s))return{data:{session:null,user:null},error:s};throw s}})}refreshSession(e){return u(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return u(this,null,function*(){try{return yield this._useSession(s=>u(this,null,function*(){var r;if(!e){const{data:o,error:l}=s;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new he;const{session:n,error:a}=yield this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}))}catch(s){if(O(s))return{data:{user:null,session:null},error:s};throw s}})}_getSessionFromURL(e,s){return u(this,null,function*(){try{if(!X())throw new ct("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ct(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ss("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ct("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ss("No code detected.");const{data:p,error:x}=yield this._exchangeCodeForSession(e.code);if(x)throw x;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:h}=e;if(!a||!l||!o||!h)throw new ct("No session defined in URL");const d=Math.round(Date.now()/1e3),g=parseInt(l);let m=d+g;c&&(m=parseInt(c));const f=m-d;f*1e3<=Le&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${g}s`);const j=m-g;d-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,m,d):d-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,m,d);const{data:k,error:v}=yield this._getUser(a);if(v)throw v;const S={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:g,expires_at:m,refresh_token:o,token_type:h,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(r){if(O(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return u(this,null,function*(){const s=yield ye(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)})}signOut(){return u(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return u(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(s=>u(this,null,function*(){var r;const{data:n,error:a}=s;if(a)return{error:a};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=yield this.admin.signOut(o,e);if(l&&!(la(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(yield this._removeSession(),yield ce(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){const s=ya(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),u(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){this._emitInitialSession(s)}))}),{data:{subscription:r}}}_emitInitialSession(e){return u(this,null,function*(){return yield this._useSession(s=>u(this,null,function*(){var r,n;try{const{data:{session:a},error:o}=s;if(o)throw o;yield(r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){yield(n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}}))})}resetPasswordForEmail(r){return u(this,arguments,function*(e,s={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=yield Oe(this.storage,this.storageKey,!0));try{return yield L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(o){if(O(o))return{data:null,error:o};throw o}})}getUserIdentities(){return u(this,null,function*(){var e;try{const{data:s,error:r}=yield this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(O(s))return{data:null,error:s};throw s}})}linkIdentity(e){return u(this,null,function*(){var s;try{const{data:r,error:n}=yield this._useSession(a=>u(this,null,function*(){var o,l,c,h,d;const{data:g,error:m}=a;if(m)throw m;const f=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield L(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&d!==void 0?d:void 0})}));if(n)throw n;return X()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(O(r))return{data:{provider:e.provider,url:null},error:r};throw r}})}unlinkIdentity(e){return u(this,null,function*(){try{return yield this._useSession(s=>u(this,null,function*(){var r,n;const{data:a,error:o}=s;if(o)throw o;return yield L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})}))}catch(s){if(O(s))return{data:null,error:s};throw s}})}_refreshAccessToken(e){return u(this,null,function*(){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return yield Na(n=>u(this,null,function*(){return n>0&&(yield ja(200*Math.pow(2,n-1))),this._debug(s,"refreshing attempt",n),yield L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ie})}),(n,a)=>{const o=200*Math.pow(2,n);return a&&Ct(a)&&Date.now()+o-r<Le})}catch(r){if(this._debug(s,"error",r),O(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,s){return u(this,null,function*(){const r=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),X()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}})}_recoverAndRefresh(){return u(this,null,function*(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=yield ye(this.storage,this.storageKey);if(n&&this.userStorage){let o=yield ye(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},yield Ue(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Rt()}else if(n&&!n.user&&!n.user){const o=yield ye(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,yield ce(this.storage,this.storageKey+"-user"),yield Ue(this.storage,this.storageKey,n)):n.user=Rt()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&(yield this._removeSession());return}const a=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<At;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${At}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=yield this._callRefreshToken(n.refresh_token);o&&(console.error(o),Ct(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),yield this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=yield this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,yield this._saveSession(n),yield this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else yield this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}})}_callRefreshToken(e){return u(this,null,function*(){var s,r;if(!e)throw new he;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new wt;const{data:a,error:o}=yield this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new he;yield this._saveSession(a.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(n,"error",a),O(a)){const o={session:null,error:a};return Ct(a)||(yield this._removeSession()),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}})}_notifyAllSubscribers(e,s,r=!0){return u(this,null,function*(){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(l=>u(this,null,function*(){try{yield l.callback(e,s)}catch(c){a.push(c)}}));if(yield Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(n,"end")}})}_saveSession(e){return u(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&(yield Ue(this.userStorage,this.storageKey+"-user",{user:s.user}));const n=Object.assign({},s);delete n.user;const a=Os(n);yield Ue(this.storage,this.storageKey,a)}else{const n=Os(s);yield Ue(this.storage,this.storageKey,n)}})}_removeSession(){return u(this,null,function*(){this._debug("#_removeSession()"),yield ce(this.storage,this.storageKey),yield ce(this.storage,this.storageKey+"-code-verifier"),yield ce(this.storage,this.storageKey+"-user"),this.userStorage&&(yield ce(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&X()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}_startAutoRefresh(){return u(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Le);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>u(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return u(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return u(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return u(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return u(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>u(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(s=>u(this,null,function*(){const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Le);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Le}ms, refresh threshold is ${Vt} ticks`),n<=Vt&&(yield this._callRefreshToken(r.refresh_token))}))}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof pr)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return u(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!X()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>u(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return u(this,null,function*(){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>u(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,s,r){return u(this,null,function*(){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=yield Oe(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);n.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`})}_unenroll(e){return u(this,null,function*(){try{return yield this._useSession(s=>u(this,null,function*(){var r;const{data:n,error:a}=s;return a?{data:null,error:a}:yield L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})}))}catch(s){if(O(s))return{data:null,error:s};throw s}})}_enroll(e){return u(this,null,function*(){try{return yield this._useSession(s=>u(this,null,function*(){var r,n;const{data:a,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:h}=yield L(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(s){if(O(s))return{data:null,error:s};throw s}})}_verify(e){return u(this,null,function*(){return this._acquireLock(-1,()=>u(this,null,function*(){try{return yield this._useSession(s=>u(this,null,function*(){var r;const{data:n,error:a}=s;if(a)return{data:null,error:a};const{data:o,error:l}=yield L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})}))}catch(s){if(O(s))return{data:null,error:s};throw s}}))})}_challenge(e){return u(this,null,function*(){return this._acquireLock(-1,()=>u(this,null,function*(){try{return yield this._useSession(s=>u(this,null,function*(){var r;const{data:n,error:a}=s;return a?{data:null,error:a}:yield L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})}))}catch(s){if(O(s))return{data:null,error:s};throw s}}))})}_challengeAndVerify(e){return u(this,null,function*(){const{data:s,error:r}=yield this._challenge({factorId:e.factorId});return r?{data:null,error:r}:yield this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})})}_listFactors(){return u(this,null,function*(){const{data:{user:e},error:s}=yield this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:a},error:null}})}_getAuthenticatorAssuranceLevel(){return u(this,null,function*(){return this._acquireLock(-1,()=>u(this,null,function*(){return yield this._useSession(e=>u(this,null,function*(){var s,r;const{data:{session:n},error:a}=e;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ot(n.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(r){return u(this,arguments,function*(e,s={keys:[]}){let n=s.keys.find(c=>c.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+aa>a)return n;const{data:o,error:l}=yield L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,n=o.keys.find(c=>c.kid===e),!n)?null:n})}getClaims(r){return u(this,arguments,function*(e,s={}){try{let n=e;if(!n){const{data:j,error:k}=yield this.getSession();if(k||!j.session)return{data:null,error:k};n=j.session.access_token}const{header:a,payload:o,signature:l,raw:{header:c,payload:h}}=Ot(n);s!=null&&s.allowExpired||Ca(o.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(a.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!d){const{error:j}=yield this.getUser(n);if(j)throw j;return{data:{claims:o,header:a,signature:l},error:null}}const g=Oa(a.alg),m=yield crypto.subtle.importKey("jwk",d,g,!0,["verify"]);if(!(yield crypto.subtle.verify(g,m,l,ba(`${c}.${h}`))))throw new Jt("Invalid JWT signature");return{data:{claims:o,header:a,signature:l},error:null}}catch(n){if(O(n))return{data:null,error:n};throw n}})}}Ze.nextInstanceID=0;const Va=Ze;class Ka extends Va{constructor(e){super(e)}}var Ya=function(i,e,s,r){function n(a){return a instanceof s?a:new s(function(o){o(a)})}return new(s||(s=Promise))(function(a,o){function l(d){try{h(r.next(d))}catch(g){o(g)}}function c(d){try{h(r.throw(d))}catch(g){o(g)}}function h(d){d.done?a(d.value):n(d.value).then(l,c)}h((r=r.apply(i,e||[])).next())})};class Ja{constructor(e,s,r){var n,a,o;this.supabaseUrl=e,this.supabaseKey=s;const l=ta(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:Gn,realtime:Vn,auth:Object.assign(Object.assign({},zn),{storageKey:c}),global:qn},d=ea(r!=null?r:{},h);this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(g,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Qn(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new hn(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Hn(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Fi(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Ya(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:o,flowType:l,lock:c,debug:h},d,g){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ka({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:a,flowType:l,lock:c,debug:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Tn(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const is=(i,e,s)=>new Ja(i,e,s);function Qa(){if(typeof window!="undefined"||typeof process=="undefined")return!1;const i=process.version;if(i==null)return!1;const e=i.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Qa()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xa="https://your-project.supabase.co",Za="your-anon-key-here",Y=is(Xa,Za),Us={recommend:{icon:K,label:"Recommend",color:"text-liberation-pride-pink"},helpful:{icon:ti,label:"Helpful",color:"text-liberation-gold"},inspiring:{icon:bt,label:"Inspiring",color:"text-liberation-pride-purple"}};function eo({contentType:i,contentId:e,title:s,showTransparency:r=!0,compact:n=!1}){const[a,o]=E.useState({totalRatings:0,averageRating:0,recommendationCount:0}),[l,c]=E.useState({}),[h,d]=E.useState(!1),[g,m]=E.useState(""),f=()=>{let b=sessionStorage.getItem("anonymous_user_id");return b||(b=`anon_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("anonymous_user_id",b)),b};E.useEffect(()=>{j(),k()},[i,e]);const j=()=>u(this,null,function*(){if(Y)try{const{data:b}=yield Y.from("content_ratings").select("rating_type, rating_value").eq("content_type",i).eq("content_id",e),{data:N}=yield Y.from("content_analytics").select("total_views, total_ratings, average_rating, recommendation_count").eq("content_type",i).eq("content_id",e).eq("date",new Date().toISOString().split("T")[0]).single(),A=p(new Date),{data:I}=yield Y.from("weekly_highlights").select("highlight_type").eq("content_type",i).eq("content_id",e).eq("week_start",A.toISOString().split("T")[0]),U=(b==null?void 0:b.filter(w=>w.rating_type==="recommend").length)||0,H=b!=null&&b.length?b.reduce((w,_)=>w+_.rating_value,0)/b.length:0;o({totalRatings:(b==null?void 0:b.length)||0,averageRating:Math.round(H*10)/10,recommendationCount:U,weeklyRank:(I==null?void 0:I.length)||0,totalViews:(N==null?void 0:N.total_views)||0})}catch(b){console.error("Error fetching rating data:",b)}}),k=()=>u(this,null,function*(){if(!Y)return;const b=f();try{const{data:N}=yield Y.from("content_ratings").select("rating_type, rating_value").eq("content_type",i).eq("content_id",e).eq("user_id",b),A={};N==null||N.forEach(I=>{A[I.rating_type]=I.rating_value}),c(A)}catch(N){console.error("Error fetching user ratings:",N)}}),v=(b,N)=>u(this,null,function*(){if(!Y)return;d(!0);const A=f();try{const{error:I}=yield Y.from("content_ratings").upsert({content_type:i,content_id:e,user_id:A,rating_type:b,rating_value:N,updated_at:new Date().toISOString()});if(I)throw I;yield Y.from("content_engagement").upsert({content_type:i,content_id:e,user_id:A,engagement_type:"rating",engagement_data:{rating_type:b,rating_value:N}}),yield S(),yield j(),yield k(),m(`Thank you for rating this ${i}! Your feedback helps our community.`),setTimeout(()=>m(""),3e3)}catch(I){console.error("Error submitting rating:",I),m("Unable to submit rating. Please try again."),setTimeout(()=>m(""),3e3)}finally{d(!1)}}),S=()=>u(this,null,function*(){if(!Y)return;const b=new Date().toISOString().split("T")[0],{data:N}=yield Y.from("content_ratings").select("rating_value, rating_type").eq("content_type",i).eq("content_id",e),A=(N==null?void 0:N.length)||0,I=A>0?(N||[]).reduce((H,w)=>H+w.rating_value,0)/A:0,U=(N||[]).filter(H=>H.rating_type==="recommend").length;yield Y.from("content_analytics").upsert({content_type:i,content_id:e,date:b,total_ratings:A,average_rating:Math.round(I*100)/100,recommendation_count:U,updated_at:new Date().toISOString()})}),p=b=>{const N=new Date(b),A=N.getDay(),I=N.getDate()-A;return new Date(N.setDate(I))},x=(b,N)=>{const A=N.icon,I=l[b]||0,U=I>0;return t.jsx("div",{className:"flex items-center space-x-2",children:t.jsxs("button",{onClick:()=>v(b,U?0:5),disabled:h,className:`flex items-center space-x-1 px-3 py-2 rounded-lg transition-all ${U?`bg-liberation-gold/20 ${N.color} border border-liberation-gold`:"bg-gray-100 text-gray-600 hover:bg-liberation-gold/10 border border-gray-300"} ${h?"opacity-50 cursor-not-allowed":"hover:scale-105"}`,children:[t.jsx(A,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm font-medium",children:N.label}),U&&t.jsx("span",{className:"text-xs bg-liberation-gold text-liberation-black px-1 rounded",children:I})]})},b)},y=()=>!r||n?null:t.jsxs("div",{className:"mt-4 p-3 bg-liberation-cream/30 rounded-lg border border-liberation-gold/20",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx($t,{className:"h-4 w-4 text-liberation-gold"}),t.jsx("span",{className:"text-sm font-semibold text-liberation-black",children:"Community Insights"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-bold text-liberation-pride-purple",children:a.totalRatings}),t.jsx("div",{className:"text-gray-600",children:"Total Ratings"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-bold text-liberation-pride-pink",children:a.recommendationCount}),t.jsx("div",{className:"text-gray-600",children:"Recommendations"})]}),a.averageRating>0&&t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"font-bold text-liberation-gold",children:[a.averageRating,"/5"]}),t.jsx("div",{className:"text-gray-600",children:"Avg Rating"})]}),a.totalViews&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-bold text-liberation-healing-sage",children:a.totalViews}),t.jsx("div",{className:"text-gray-600",children:"Views"})]})]}),a.weeklyRank&&t.jsx("div",{className:"mt-2 text-center",children:t.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-liberation-gold text-liberation-black text-xs font-medium rounded-full",children:[t.jsx(bt,{className:"h-3 w-3 mr-1"}),"Community Favorite This Week"]})})]});return n?t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex items-center space-x-2",children:Object.entries(Us).map(([b,N])=>{const A=N.icon,I=l[b]>0;return t.jsx("button",{onClick:()=>v(b,I?0:5),className:`p-1 rounded ${I?N.color:"text-gray-400 hover:text-gray-600"}`,title:`${N.label} this ${i}`,children:t.jsx(A,{className:"h-4 w-4"})},b)})}),a.totalRatings>0&&t.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[t.jsx("span",{children:a.recommendationCount}),t.jsx(K,{className:"h-3 w-3"}),t.jsx("span",{children:"•"}),t.jsxs("span",{children:[a.totalRatings," ratings"]})]})]}):t.jsxs("div",{className:"w-full",children:[g&&t.jsx("div",{className:"mb-4 p-3 bg-liberation-pride-pink/10 border border-liberation-pride-pink/20 rounded-lg",children:t.jsx("p",{className:"text-sm text-liberation-pride-pink font-medium",children:g})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"text-lg font-semibold text-liberation-black mb-3",children:["How would you rate this ",i,"?"]}),t.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(Us).map(([b,N])=>x(b,N))})]}),y(),t.jsx("div",{className:"text-xs text-gray-500 mt-4",children:"Your ratings help IVOR learn community preferences and improve recommendations. All rating data is transparent and helps drive our weekly community highlights."})]})]})}const to="https://your-project.supabase.co",so="your-anon-key-here",de=is(to,so),ro={most_recommended:{icon:K,label:"Most Recommended",color:"text-liberation-pride-pink",bg:"bg-liberation-pride-pink/10",border:"border-liberation-pride-pink/20"},most_helpful:{icon:bt,label:"Most Helpful",color:"text-liberation-gold",bg:"bg-liberation-gold/10",border:"border-liberation-gold/20"},readers_choice:{icon:Wr,label:"Readers' Choice",color:"text-liberation-pride-purple",bg:"bg-liberation-pride-purple/10",border:"border-liberation-pride-purple/20"},community_favorite:{icon:Bs,label:"Community Favorite",color:"text-liberation-healing-sage",bg:"bg-liberation-healing-sage/10",border:"border-liberation-healing-sage/20"}};function io({weekOffset:i=0,maxItems:e=10,showNewsletter:s=!0}){const[r,n]=E.useState([]),[a,o]=E.useState(!0),[l,c]=E.useState(f(new Date)),[h,d]=E.useState(""),[g,m]=E.useState("");E.useEffect(()=>{const y=new Date(l);y.setDate(y.getDate()+i*7),c(y),j(y)},[i]);function f(y){const b=new Date(y),N=b.getDay(),A=b.getDate()-N;return new Date(b.setDate(A))}const j=y=>u(this,null,function*(){if(!de){o(!1);return}o(!0);try{const b=y.toISOString().split("T")[0],{data:N}=yield de.from("weekly_highlights").select("*").eq("week_start",b).limit(e);if(!N||N.length===0){yield k(y);return}const A=yield Promise.all(N.map(I=>u(this,null,function*(){var H,w;let U={};if(I.content_type==="article"){const{data:_}=yield de.from("newsroom_articles").select("title, excerpt, author_id, community_members!newsroom_articles_author_id_fkey(full_name)").eq("id",I.content_id).single();_&&(U={title:_.title,excerpt:_.excerpt,author:((H=_.community_members)==null?void 0:H.full_name)||"Community Author"})}else if(I.content_type==="event"){const{data:_}=yield de.from("events").select("title, description, date, location, organizer").eq("id",I.content_id).single();_&&(U={title:_.title,excerpt:((w=_.description)==null?void 0:w.substring(0,150))+"...",author:_.organizer,date:_.date,location:_.location})}return V(V({},I),U)})));n(A)}catch(b){console.error("Error fetching weekly highlights:",b)}finally{o(!1)}}),k=y=>u(this,null,function*(){if(de)try{const b=y.toISOString().split("T")[0],N=new Date(y.getTime()+7*24*60*60*1e3).toISOString().split("T")[0],A=["most_recommended","most_helpful","readers_choice","community_favorite"];for(const I of A){const{data:U}=yield de.from("content_analytics").select("content_id, total_ratings, average_rating, recommendation_count").eq("content_type","article").gte("date",b).lt("date",N).order("recommendation_count",{ascending:!1}).limit(2),{data:H}=yield de.from("content_analytics").select("content_id, total_ratings, average_rating, recommendation_count").eq("content_type","event").gte("date",b).lt("date",N).order("recommendation_count",{ascending:!1}).limit(2),w=[];U!=null&&U.length&&w.push({week_start:b,content_type:"article",content_id:U[0].content_id,highlight_type:I,total_ratings:U[0].total_ratings,average_rating:U[0].average_rating}),H!=null&&H.length&&w.push({week_start:b,content_type:"event",content_id:H[0].content_id,highlight_type:I,total_ratings:H[0].total_ratings,average_rating:H[0].average_rating}),w.length>0&&(yield de.from("weekly_highlights").insert(w))}yield j(y)}catch(b){console.error("Error generating weekly highlights:",b)}}),v=y=>u(this,null,function*(){y.preventDefault(),m("Thank you! We'll include you in our weekly community highlights newsletter."),d(""),setTimeout(()=>m(""),5e3)}),S=y=>{const b=new Date(l);b.setDate(b.getDate()+(y==="next"?7:-7)),c(b),j(b)},p=y=>{const b=ro[y.highlight_type],N=b.icon;return t.jsxs("div",{className:`p-4 rounded-lg border ${b.bg} ${b.border} transition-all hover:scale-[1.02]`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(N,{className:`h-5 w-5 ${b.color}`}),t.jsx("span",{className:`text-sm font-semibold ${b.color}`,children:b.label})]}),t.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[t.jsx(K,{className:"h-4 w-4"}),t.jsx("span",{children:y.total_ratings})]})]}),t.jsx("h4",{className:"font-semibold text-liberation-black mb-2",children:y.title||"Untitled Content"}),y.excerpt&&t.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-3",children:y.excerpt}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[y.content_type==="article"&&t.jsx(Ms,{className:"h-4 w-4"}),y.content_type==="event"&&t.jsx(gt,{className:"h-4 w-4"}),t.jsx("span",{className:"capitalize",children:y.content_type}),y.author&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"•"}),t.jsx("span",{children:y.author})]})]}),y.average_rating>0&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(bt,{className:"h-4 w-4 text-liberation-gold"}),t.jsx("span",{children:y.average_rating.toFixed(1)})]})]}),y.date&&y.location&&t.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[new Date(y.date).toLocaleDateString()," • ",y.location]})]},y.id)},x=y=>{const b=new Date(y);return b.setDate(b.getDate()+6),`${y.toLocaleDateString()} - ${b.toLocaleDateString()}`};return t.jsxs("div",{className:"w-full space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-2xl font-bold text-liberation-black flex items-center",children:[t.jsx($t,{className:"h-6 w-6 mr-2 text-liberation-gold"}),"Weekly Community Highlights"]}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Content that resonated most with our community"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("button",{onClick:()=>S("prev"),className:"p-2 text-liberation-black hover:bg-liberation-gold/10 rounded-lg transition-colors",children:"←"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-semibold text-liberation-black",children:x(l)}),t.jsx("div",{className:"text-sm text-gray-600",children:i===0?"This Week":i===-1?"Last Week":`${Math.abs(i)} weeks ago`})]}),t.jsx("button",{onClick:()=>S("next"),disabled:i>=0,className:"p-2 text-liberation-black hover:bg-liberation-gold/10 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"→"})]})]}),a&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-liberation-gold border-t-transparent rounded-full mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Analyzing community preferences..."})]}),!a&&r.length>0&&t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(p)}),!a&&r.length===0&&t.jsxs("div",{className:"text-center py-8 bg-liberation-cream/30 rounded-lg border border-liberation-gold/20",children:[t.jsx($t,{className:"h-12 w-12 text-liberation-gold mx-auto mb-4"}),t.jsx("h4",{className:"text-lg font-semibold text-liberation-black mb-2",children:"No highlights yet for this week"}),t.jsx("p",{className:"text-gray-600",children:"Community ratings will determine this week's most impactful content."})]}),s&&t.jsxs("div",{className:"bg-liberation-pride-purple/5 border border-liberation-pride-purple/20 rounded-lg p-6",children:[t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("h4",{className:"text-lg font-semibold text-liberation-black mb-2",children:"Weekly Community Digest"}),t.jsx("p",{className:"text-gray-600",children:"Get the week's most recommended content delivered to your inbox every Monday."})]}),g?t.jsx("div",{className:"text-center text-liberation-pride-purple font-medium",children:g}):t.jsxs("form",{onSubmit:v,className:"flex gap-3 max-w-md mx-auto",children:[t.jsx("input",{type:"email",value:h,onChange:y=>d(y.target.value),placeholder:"Enter your email",required:!0,className:"flex-1 px-4 py-2 border border-liberation-gold/20 rounded-lg focus:outline-none focus:border-liberation-gold"}),t.jsx("button",{type:"submit",className:"px-6 py-2 bg-liberation-pride-purple text-white rounded-lg hover:bg-liberation-pride-purple/80 transition-colors",children:"Subscribe"})]})]}),t.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Highlights are generated based on community ratings, recommendations, and engagement data. This transparency helps IVOR learn what content serves our community best."})]})}const no=()=>{const[i,e]=E.useState([]),[s,r]=E.useState(!0),[n,a]=E.useState("all");E.useEffect(()=>{u(ee,null,function*(){r(!0);try{e([]),r(!1)}catch(d){console.error("Failed to load articles:",d),e([]),r(!1)}})},[]);const o=["all","liberation","community","politics","culture","economics"],l=n==="all"?i:i.filter(h=>h.category.toLowerCase()===n),c=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return s?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-liberation-sovereignty-gold/30 border-t-liberation-sovereignty-gold rounded-full animate-spin mx-auto mb-4"}),t.jsx("div",{className:"text-liberation-sovereignty-gold font-bold",children:"Loading Liberation News..."})]})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[t.jsx("header",{className:"border-b border-liberation-sovereignty-gold/20 bg-black/50 backdrop-blur-sm sticky top-0 z-50",children:t.jsx("div",{className:"max-w-6xl mx-auto px-8 py-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center text-gray-400 hover:text-liberation-sovereignty-gold transition-colors",children:[t.jsx(Ut,{className:"h-5 w-5 mr-2"}),"Back to Platform"]})}),t.jsxs("div",{className:"text-center",children:[t.jsxs("h1",{className:"text-3xl font-black text-white mb-2",children:["LIBERATION ",t.jsx("span",{className:"text-liberation-sovereignty-gold",children:"NEWSROOM"})]}),t.jsx("p",{className:"text-gray-400",children:"Community-controlled journalism and narrative sovereignty"})]}),t.jsx("div",{className:"w-32"})," "]})})}),t.jsx("section",{className:"py-8 px-8 border-b border-gray-800",children:t.jsx("div",{className:"max-w-6xl mx-auto",children:t.jsx("div",{className:"flex flex-wrap gap-3",children:o.map(h=>t.jsx("button",{onClick:()=>a(h),className:`px-4 py-2 rounded-full text-sm font-bold transition-all duration-300 ${n===h?"bg-liberation-sovereignty-gold text-black":"bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:h.charAt(0).toUpperCase()+h.slice(1)},h))})})}),t.jsx("main",{className:"py-12 px-8",children:t.jsx("div",{className:"max-w-6xl mx-auto",children:l.length===0?t.jsxs("div",{className:"text-center py-20",children:[t.jsx("div",{className:"w-24 h-24 bg-liberation-sovereignty-gold/20 rounded-3xl flex items-center justify-center mx-auto mb-6",children:t.jsx(ut,{className:"h-12 w-12 text-liberation-sovereignty-gold"})}),t.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"No Articles Yet"}),t.jsx("p",{className:"text-xl text-gray-400 mb-8 max-w-2xl mx-auto",children:"The liberation newsroom is ready for community voices. Be the first to control the narrative and share liberation journalism."}),t.jsxs("div",{className:"bg-liberation-sovereignty-gold/10 border border-liberation-sovereignty-gold/20 rounded-2xl p-8 max-w-2xl mx-auto mb-12",children:[t.jsx("h3",{className:"text-liberation-sovereignty-gold font-bold text-lg mb-4",children:"Community Journalism Principles"}),t.jsxs("div",{className:"text-gray-300 text-left space-y-2",children:[t.jsx("div",{children:"• Narrative sovereignty and community control"}),t.jsx("div",{children:"• Liberation-focused perspectives and analysis"}),t.jsx("div",{children:"• Democratic editorial process and transparency"}),t.jsx("div",{children:"• Trauma-informed reporting and community protection"})]})]}),t.jsx("div",{className:"max-w-4xl mx-auto mt-12",children:t.jsx(io,{maxItems:6,showNewsletter:!1})})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.sort((h,d)=>new Date(d.publishedAt).getTime()-new Date(h.publishedAt).getTime()).map(h=>t.jsxs("article",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-liberation-sovereignty-gold/10 rounded-2xl p-6 hover:border-liberation-sovereignty-gold/30 transition-all duration-300 group",children:[t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("span",{className:"text-xs bg-liberation-sovereignty-gold/20 text-liberation-sovereignty-gold px-3 py-1 rounded-full font-bold",children:h.category.toUpperCase()}),t.jsx("span",{className:"text-xs text-gray-500",children:h.readTime})]}),t.jsx("h2",{className:"text-xl font-bold text-white mb-3 group-hover:text-liberation-sovereignty-gold transition-colors cursor-pointer",children:h.title}),t.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-4 line-clamp-3",children:h.excerpt})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Dt,{className:"h-3 w-3 mr-1"}),h.author]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(gt,{className:"h-3 w-3 mr-1"}),c(h.publishedAt)]})]}),t.jsxs("div",{className:"flex items-center text-liberation-sovereignty-gold hover:translate-x-1 transition-transform cursor-pointer",children:["Read More ",t.jsx(Ds,{className:"h-3 w-3 ml-1"})]})]}),t.jsx("div",{className:"border-t border-gray-700 pt-4",children:t.jsx(eo,{contentType:"article",contentId:h.id,title:h.title,compact:!0,showTransparency:!1})})]},h.id))})})}),t.jsx("section",{className:"py-16 px-8 border-t border-gray-800",children:t.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[t.jsxs("h2",{className:"text-3xl font-bold text-white mb-6",children:["Join the ",t.jsx("span",{className:"text-liberation-sovereignty-gold",children:"Liberation Newsroom"})]}),t.jsx("p",{className:"text-xl text-gray-400 mb-8",children:"Community journalism with 75% creator sovereignty and democratic editorial control."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx("button",{className:"bg-liberation-sovereignty-gold hover:bg-liberation-sovereignty-gold/90 text-black py-4 px-8 rounded-2xl font-bold text-lg transition-all duration-300 hover:scale-105",onClick:()=>{console.log("Navigate to article creation form")},children:"Write Your First Article"}),t.jsx("button",{className:"bg-transparent border-2 border-liberation-sovereignty-gold text-liberation-sovereignty-gold hover:bg-liberation-sovereignty-gold hover:text-black py-4 px-8 rounded-2xl font-bold text-lg transition-all duration-300",onClick:()=>{console.log("Navigate to community journalism guidelines")},children:"Community Guidelines"})]})]})})]})},ao=()=>{const[i,e]=E.useState([]),[s,r]=E.useState(null),[n,a]=E.useState(!0),[o,l]=E.useState("all"),[c,h]=E.useState("all"),[d,g]=E.useState(1),[m,f]=E.useState(!1),j=12;E.useEffect(()=>{u(ee,null,function*(){a(!0);try{const _=yield fetch("https://api.blkoutcollective.org/v1/story-archive"),$=yield _.json();_.ok?e($.articles||[]):(console.error("API Error:",$.error),e([])),a(!1)}catch(_){console.error("Failed to load story archive:",_),e([]),a(!1)}})},[]);const k=["all","liberation","identity","community","culture","politics","personal"],v=["all","black-joy","queer-liberation","community-power","narrative-sovereignty","healing","resistance"],S=i.filter(w=>{const _=o==="all"||w.category.toLowerCase()===o,$=c==="all"||w.tags.includes(c);return _&&$}),p=Math.ceil(S.length/j),x=(d-1)*j,y=x+j,b=S.sort((w,_)=>new Date(_.publishedAt).getTime()-new Date(w.publishedAt).getTime()).slice(x,y);E.useEffect(()=>{g(1)},[o,c]);const N=w=>u(ee,null,function*(){if(w===d||w<1||w>p)return;f(!0),yield new Promise($=>setTimeout($,300)),g(w),f(!1);const _=document.querySelector("#stories-section");_&&_.scrollIntoView({behavior:"smooth"})}),A=()=>{const w=[];if(p<=7)for(let $=1;$<=p;$++)w.push($);else if(d<=4){for(let $=1;$<=5;$++)w.push($);w.push("..."),w.push(p)}else if(d>=p-3){w.push(1),w.push("...");for(let $=p-4;$<=p;$++)w.push($)}else{w.push(1),w.push("...");for(let $=d-1;$<=d+1;$++)w.push($);w.push("..."),w.push(p)}return w},I=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),U=w=>u(ee,null,function*(){try{const _=i.find($=>$.id===w);_&&r({id:_.id,title:_.title,content:_.content,category:_.category,author:_.author,publishedAt:_.publishedAt,readTime:_.readTime,tags:_.tags,imageUrl:_.imageUrl})}catch(_){console.error("Failed to load story details:",_)}}),H=()=>{r(null)};return n?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-liberation-healing-sage/30 border-t-liberation-healing-sage rounded-full animate-spin mx-auto mb-4"}),t.jsx("div",{className:"text-liberation-healing-sage font-bold",children:"Loading Liberation Stories..."})]})}):s?t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[t.jsx("header",{className:"border-b border-liberation-healing-sage/20 bg-black/50 backdrop-blur-sm sticky top-0 z-50",children:t.jsx("div",{className:"max-w-4xl mx-auto px-8 py-6",children:t.jsxs("button",{onClick:H,className:"flex items-center text-gray-400 hover:text-liberation-healing-sage transition-colors mb-4",children:[t.jsx(Ut,{className:"h-5 w-5 mr-2"}),"Back to Story Archive"]})})}),t.jsx("main",{className:"py-12 px-8",children:t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs("article",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-liberation-healing-sage/20 rounded-3xl p-12",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[t.jsx("span",{className:"bg-liberation-healing-sage/20 text-liberation-healing-sage px-4 py-2 rounded-full text-sm font-bold",children:s.category.toUpperCase()}),t.jsx("span",{className:"text-gray-500 text-sm",children:s.readTime})]}),t.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white mb-6 leading-tight",children:s.title}),t.jsx("div",{className:"flex items-center justify-between text-sm text-gray-400 mb-8",children:t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Dt,{className:"h-4 w-4 mr-2"}),s.author]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(gt,{className:"h-4 w-4 mr-2"}),I(s.publishedAt)]})]})}),s.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:s.tags.map(w=>t.jsxs("span",{className:"bg-gray-800 text-gray-300 px-3 py-1 rounded-full text-xs",children:["#",w]},w))})]}),s.imageUrl&&t.jsx("div",{className:"mb-8",children:t.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-64 md:h-96 object-cover rounded-2xl"})}),t.jsx("div",{className:"prose prose-lg prose-invert max-w-none",children:t.jsx("div",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap",children:s.content})})]})})})]}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[t.jsx("header",{className:"border-b border-liberation-healing-sage/20 bg-black/50 backdrop-blur-sm sticky top-0 z-50",children:t.jsx("div",{className:"max-w-6xl mx-auto px-8 py-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center text-gray-400 hover:text-liberation-healing-sage transition-colors",children:[t.jsx(Ut,{className:"h-5 w-5 mr-2"}),"Back to Platform"]})}),t.jsxs("div",{className:"text-center",children:[t.jsxs("h1",{className:"text-3xl font-black text-white mb-2",children:["LIBERATION ",t.jsx("span",{className:"text-liberation-healing-sage",children:"STORY ARCHIVE"})]}),t.jsx("p",{className:"text-gray-400",children:"Preserved narratives from blkoutuk.com and community voices"})]}),t.jsx("div",{className:"w-32"})]})})}),t.jsx("section",{className:"py-8 px-8 border-b border-gray-800",children:t.jsx("div",{className:"max-w-6xl mx-auto",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-liberation-healing-sage font-bold text-sm mb-3",children:"CATEGORIES"}),t.jsx("div",{className:"flex flex-wrap gap-3",children:k.map(w=>t.jsx("button",{onClick:()=>l(w),className:`px-4 py-2 rounded-full text-sm font-bold transition-all duration-300 ${o===w?"bg-liberation-healing-sage text-black":"bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:w.charAt(0).toUpperCase()+w.slice(1)},w))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-liberation-healing-sage font-bold text-sm mb-3",children:"TAGS"}),t.jsx("div",{className:"flex flex-wrap gap-3",children:v.map(w=>t.jsxs("button",{onClick:()=>h(w),className:`px-3 py-1 rounded-full text-xs font-bold transition-all duration-300 ${c===w?"bg-liberation-healing-sage/20 text-liberation-healing-sage border border-liberation-healing-sage":"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:["#",w]},w))})]})]})})}),t.jsx("main",{id:"stories-section",className:"py-12 px-8",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[S.length>0&&t.jsx("div",{className:"text-center mb-8",children:t.jsxs("p",{className:"text-gray-400",children:["Showing ",x+1,"-",Math.min(y,S.length)," of ",S.length," stories",p>1&&t.jsxs("span",{className:"text-liberation-healing-sage ml-2",children:["(Page ",d," of ",p,")"]})]})}),S.length===0?t.jsxs("div",{className:"text-center py-20",children:[t.jsx("div",{className:"w-24 h-24 bg-liberation-healing-sage/20 rounded-3xl flex items-center justify-center mx-auto mb-6",children:t.jsx(Ms,{className:"h-12 w-12 text-liberation-healing-sage"})}),t.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Loading Liberation Stories"}),t.jsx("p",{className:"text-xl text-gray-400 mb-8 max-w-2xl mx-auto",children:"Connecting to our archive of migrated articles and community narratives. If you're seeing this, please check your connection or try refreshing."}),t.jsxs("div",{className:"bg-liberation-healing-sage/10 border border-liberation-healing-sage/20 rounded-2xl p-8 max-w-2xl mx-auto",children:[t.jsx("h3",{className:"text-liberation-healing-sage font-bold text-lg mb-4",children:"Story Archive Features"}),t.jsxs("div",{className:"text-gray-300 text-left space-y-2",children:[t.jsx("div",{children:"• Preserved narratives from blkoutuk.com"}),t.jsx("div",{children:"• Community-submitted liberation stories"}),t.jsx("div",{children:"• Full article content within this platform"}),t.jsx("div",{children:"• Searchable by category and tags"}),t.jsx("div",{children:"• Chronological and thematic organization"})]})]})]}):t.jsxs(t.Fragment,{children:[m&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-liberation-healing-sage/30 border-t-liberation-healing-sage rounded-full animate-spin mx-auto mb-4"}),t.jsxs("div",{className:"text-liberation-healing-sage font-bold",children:["Loading Page ",d,"..."]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:b.map(w=>t.jsxs("article",{onClick:()=>U(w.id),className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-liberation-healing-sage/10 rounded-2xl p-6 hover:border-liberation-healing-sage/30 transition-all duration-300 group cursor-pointer",children:[w.imageUrl&&t.jsx("div",{className:"mb-4",children:t.jsx("img",{src:w.imageUrl,alt:w.title,className:"w-full h-48 object-cover rounded-xl"})}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("span",{className:"text-xs bg-liberation-healing-sage/20 text-liberation-healing-sage px-3 py-1 rounded-full font-bold",children:w.category.toUpperCase()}),t.jsx("span",{className:"text-xs text-gray-500",children:w.readTime})]}),t.jsx("h2",{className:"text-xl font-bold text-white mb-3 group-hover:text-liberation-healing-sage transition-colors",children:w.title}),t.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-4 line-clamp-3",children:w.excerpt}),w.tags.length>0&&t.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[w.tags.slice(0,3).map(_=>t.jsxs("span",{className:"text-xs text-gray-500",children:["#",_]},_)),w.tags.length>3&&t.jsxs("span",{className:"text-xs text-gray-500",children:["+",w.tags.length-3," more"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Dt,{className:"h-3 w-3 mr-1"}),w.author]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(gt,{className:"h-3 w-3 mr-1"}),I(w.publishedAt)]})]}),t.jsxs("div",{className:"flex items-center text-liberation-healing-sage group-hover:translate-x-1 transition-transform",children:["Read Story ",t.jsx(Ds,{className:"h-3 w-3 ml-1"})]})]})]},w.id))}),p>1&&t.jsx("div",{className:"mt-12 flex justify-center",children:t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-liberation-healing-sage/20 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx("button",{onClick:()=>N(d-1),disabled:d===1||m,className:`p-3 rounded-xl transition-all duration-300 ${d===1||m?"bg-gray-800 text-gray-600 cursor-not-allowed":"bg-liberation-healing-sage/20 text-liberation-healing-sage hover:bg-liberation-healing-sage hover:text-black"}`,children:t.jsx(Gr,{className:"h-5 w-5"})}),t.jsx("div",{className:"flex items-center space-x-1",children:A().map((w,_)=>t.jsx(Qt.Fragment,{children:w==="..."?t.jsx("span",{className:"px-3 py-2 text-gray-500",children:"..."}):t.jsx("button",{onClick:()=>N(w),disabled:m,className:`px-4 py-2 rounded-xl font-bold transition-all duration-300 ${d===w?"bg-liberation-healing-sage text-black":m?"bg-gray-800 text-gray-600 cursor-not-allowed":"bg-gray-800 text-gray-300 hover:bg-liberation-healing-sage/20 hover:text-liberation-healing-sage"}`,children:w})},_))}),t.jsx("button",{onClick:()=>N(d+1),disabled:d===p||m,className:`p-3 rounded-xl transition-all duration-300 ${d===p||m?"bg-gray-800 text-gray-600 cursor-not-allowed":"bg-liberation-healing-sage/20 text-liberation-healing-sage hover:bg-liberation-healing-sage hover:text-black"}`,children:t.jsx(zr,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"text-center mt-4 text-sm text-gray-500",children:["Jump to page:",t.jsx("input",{type:"number",min:"1",max:p,value:d,onChange:w=>{const _=parseInt(w.target.value);_>=1&&_<=p&&N(_)},disabled:m,className:"ml-2 w-16 px-2 py-1 bg-gray-800 text-gray-300 border border-gray-700 rounded text-center"}),t.jsxs("span",{className:"ml-2",children:["of ",p]})]})]})})]})]})}),t.jsx("section",{className:"py-16 px-8 border-t border-gray-800",children:t.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[t.jsxs("h2",{className:"text-3xl font-bold text-white mb-6",children:["Share Your ",t.jsx("span",{className:"text-liberation-healing-sage",children:"Liberation Story"})]}),t.jsx("p",{className:"text-xl text-gray-400 mb-8",children:"Every voice matters in our collective liberation narrative."}),t.jsx("button",{className:"bg-liberation-healing-sage hover:bg-liberation-healing-sage/90 text-black py-4 px-8 rounded-2xl font-bold text-lg transition-all duration-300 hover:scale-105",onClick:()=>{console.log("Navigate to story submission form")},children:"Share Your Story"})]})})]})},oo="https://your-project.supabase.co",lo="your-anon-key-here",dt=is(oo,lo),Pt=[{id:"problem-solving",name:"Problem-Solving Assistant",description:"Work through challenges step by step with community-centered solutions",icon:"🧠",category:"problem-solving",prompt:"I need help working through a problem. Can you guide me through a step-by-step process that centers community wisdom and liberation principles?"},{id:"conflict-resolution",name:"Conflict Resolution",description:"Navigate interpersonal challenges with trauma-informed approaches",icon:"🤝",category:"problem-solving",prompt:"I'm dealing with a conflict and need guidance on how to approach it with community care and trauma-informed practices."},{id:"study-buddy",name:"Study Partner",description:"Get help understanding concepts and organizing learning",icon:"📚",category:"learning",prompt:"I'd like you to be my study partner. Can you help me understand and learn about a topic?"},{id:"emotional-support",name:"Emotional Check-In",description:"Space for emotional processing and community support",icon:"💜",category:"emotional-support",prompt:"I could use some emotional support and a caring check-in. Can you help me process what I'm feeling?"},{id:"jokes-humor",name:"Jokes & Humor",description:"Share community-appropriate jokes and lighthearted moments",icon:"😄",category:"entertainment",prompt:"I could use a good laugh! Can you share some community-appropriate humor or a joke?"},{id:"liberation-wisdom",name:"Liberation Wisdom",description:"Explore liberation principles and community wisdom",icon:"✊🏾",category:"learning",prompt:"I'd like to explore liberation principles and community wisdom. Can you share some insights?"},{id:"creative-spark",name:"Creative Inspiration",description:"Get unstuck with creative projects and artistic expression",icon:"🎨",category:"problem-solving",prompt:"I'm feeling creatively stuck. Can you help me find inspiration and new approaches to my creative work?"},{id:"resource-finder",name:"Resource Navigator",description:"Find community resources and mutual aid opportunities",icon:"🗺️",category:"learning",prompt:"I need help finding resources or connecting with community support. Can you guide me?"}];function co({onClose:i}){const[e,s]=E.useState([{id:"1",type:"ivor",content:"Hello! I'm IVOR, your community AI assistant. I'm here to support you with learning tools, problem-solving, and community wisdom. How can I help you today?",timestamp:new Date,category:"greeting"}]),[r,n]=E.useState(""),[a,o]=E.useState(!1),[l,c]=E.useState(!0),[h,d]=E.useState(null),g=E.useRef(null),m=()=>{var p;(p=g.current)==null||p.scrollIntoView({behavior:"smooth"})};E.useEffect(()=>{m()},[e]);const f=Array.from(new Set(Pt.map(p=>p.category))),j=h?Pt.filter(p=>p.category===h):Pt,k=(...x)=>u(this,[...x],function*(p=r){if(!p.trim())return;const y={id:Date.now().toString(),type:"user",content:p.trim(),timestamp:new Date};s(b=>[...b,y]),n(""),o(!0),c(!1);try{dt&&(yield dt.from("ivor_conversations").insert([{user_message:p,timestamp:new Date().toISOString(),session_id:"webapp-session-"+Date.now()}]));const b=yield S(p),N={id:(Date.now()+1).toString(),type:"ivor",content:b,timestamp:new Date};s(A=>[...A,N]),dt&&(yield dt.from("ivor_conversations").insert([{ivor_response:b,timestamp:new Date().toISOString(),session_id:"webapp-session-"+Date.now()}]))}catch(b){console.error("Error sending message:",b);const N={id:(Date.now()+1).toString(),type:"ivor",content:"I apologize, but I'm having trouble responding right now. Please try again or reach out to the community for support.",timestamp:new Date};s(A=>[...A,N])}finally{o(!1)}}),v=p=>{k(p.prompt)},S=p=>u(this,null,function*(){const x=p.toLowerCase();if(x.includes("problem")||x.includes("challenge")||x.includes("step-by-step"))return`Let's work through this together using community-centered problem-solving:

1. **Define the Challenge**: What exactly are you facing? Let's name it clearly and without judgment.

2. **Community Perspective**: How might this challenge affect not just you, but your community connections?

3. **Resources & Strengths**: What resources, skills, or community support do you already have?

4. **Liberation-Centered Solutions**: What options align with our values of mutual aid, community care, and collective liberation?

5. **Action Steps**: What's one small, manageable step you could take today?

Would you like to work through any of these steps together? I'm here to support you with trauma-informed, community-centered guidance.`;if(x.includes("conflict")||x.includes("resolution")||x.includes("trauma-informed"))return`Conflict is natural in community spaces. Let's approach this with care:

**Trauma-Informed Approach:**
- Center safety for all involved
- Recognize that conflict can trigger past traumas
- Move at the pace of trust, not urgency

**Community Care Steps:**
1. Pause and breathe - your nervous system matters
2. Identify your needs and feelings without blame
3. Consider the other person's humanity and circumstances
4. Seek to understand before being understood
5. Focus on impact over intent

**Restorative Questions:**
- What happened and who was affected?
- What needs weren't met?
- How can we move forward together?

Would you like to explore any of these approaches more deeply? I'm here to support you in navigating this with community wisdom.`;if(x.includes("study")||x.includes("learn")||x.includes("understand"))return`I'd love to be your study partner! Learning is more powerful when we do it together.

**How I can support your learning:**
- Break down complex topics into manageable pieces
- Help you make connections between new and existing knowledge
- Practice active recall and spaced repetition
- Connect learning to liberation and community wisdom
- Celebrate your progress and growth

**Learning with Liberation Principles:**
- Knowledge belongs to the community
- Different ways of knowing are valuable
- Learning should serve collective liberation
- Mistakes are part of the process

What subject or topic would you like to explore together? I'm here to support your learning journey with patience and encouragement.`;if(x.includes("emotional")||x.includes("feeling")||x.includes("support")||x.includes("check-in"))return`Thank you for trusting me with your feelings. Your emotions are valid and deserve care.

**Gentle Check-In:**
How are you holding up right now? It's okay if the answer is "not great" - you don't have to be strong all the time.

**Reminders for Your Heart:**
- You are worthy of love and care exactly as you are
- It's okay to feel multiple things at once
- Community healing happens through individual healing
- Your struggles don't define your worth

**Community Care Suggestions:**
- Reach out to a trusted friend or community member
- Practice grounding techniques (5-4-3-2-1 senses)
- Move your body gently if it feels good
- Rest without guilt

I'm here to listen without judgment. What would feel most supportive for you right now?`;if(x.includes("joke")||x.includes("humor")||x.includes("laugh")){const y=["Why did the liberation organizer bring a ladder to the meeting? Because they heard it was time to raise consciousness! 😄","What's a community organizer's favorite type of music? Protest songs... but they're always in harmony! 🎵","Why don't oppressive systems ever win at hide and seek? Because the community always finds them! 👀","What did one liberation activist say to another? 'We're stronger together!' (And they weren't wrong!) ✊🏾","Why did the mutual aid network cross the road? To help the chicken get to the other side - because no one should have to journey alone! 🐔💜"];return`Here's some community humor for you:

${y[Math.floor(Math.random()*y.length)]}

Laughter is resistance! Community joy is a radical act. Sometimes we need moments of lightness to sustain us in the work of liberation.

Would you like another joke, or is there something else I can help brighten your day with?`}return x.includes("liberation")||x.includes("wisdom")||x.includes("principles")?`Liberation wisdom flows from our ancestors and grows through our collective experiences:

**Core Liberation Principles:**
- "Nobody's free until everybody's free" - We rise together
- Community care is not just self-care scaled up
- Center those most impacted by systems of oppression
- Mutual aid is solidarity, not charity
- Healing happens in community

**Ancestral Wisdom:**
"If you have come here to help me, you are wasting your time. But if you have come because your liberation is bound up with mine, then let us work together." - Aboriginal activists, Queensland, 1970s

**Community Practices:**
- Listen more than you speak
- Share resources and power
- Hold space for difficult emotions
- Celebrate small victories together
- Rest is resistance

What aspect of liberation wisdom resonates with you today? I'm here to explore these principles together.`:x.includes("creative")||x.includes("art")||x.includes("stuck")||x.includes("inspiration")?`Creative blocks are just energy waiting to flow in new directions! Let's unstick that creative spark:

**Creative Unsticking Techniques:**
- Change your environment (even just a different chair)
- Start with the "worst" idea first - take the pressure off
- Set a timer for 5 minutes and create anything
- Ask: "What would my ancestor create?"
- Connect your art to community needs

**Liberation-Centered Creativity:**
- How does your creativity serve the community?
- What stories need telling that only you can tell?
- How can your art be an act of resistance?
- What beauty can you bring to the movement?

**Creative Prompts:**
- Create something that celebrates community resilience
- Make art from materials you have right now
- Tell a story about mutual aid in action
- Design something that brings joy to your neighbors

What kind of creative work calls to you? I'm here to help you reconnect with your artistic power!`:x.includes("resource")||x.includes("help")||x.includes("support")||x.includes("mutual aid")?`Finding community resources is an act of mutual aid! Let's connect you with support:

**Types of Community Resources:**
- Mutual aid networks and food pantries
- Community healing and therapy resources
- Educational opportunities and skill shares
- Housing assistance and tenant organizing
- Economic justice and cooperative development
- Legal aid and know-your-rights trainings

**How to Find Local Resources:**
- Search "[your city] mutual aid network"
- Check with local community centers
- Connect with faith communities doing justice work
- Look for community fridges and little free libraries
- Ask neighbors and community members

**Mutual Aid Principles:**
- Solidarity, not charity
- No strings attached
- Led by those most impacted
- Meets immediate needs while working for systemic change

What specific type of support are you looking for? I can help you think through where to start looking and how to connect with community resources.`:`Thank you for sharing that with me. I'm here to support you however I can.

I can help with:
- Problem-solving and working through challenges
- Learning and studying together
- Emotional support and check-ins
- Finding community resources
- Creative inspiration
- Sharing liberation wisdom
- A good joke when you need one!

What would feel most helpful for you right now? I'm here to listen and support you with community-centered care.`});return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl h-[80vh] flex flex-col",children:[t.jsxs("div",{className:"bg-liberation-gold text-liberation-black p-4 rounded-t-lg flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-liberation-black rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-liberation-gold font-bold",children:"I"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"IVOR - Community AI Assistant"}),t.jsx("p",{className:"text-sm opacity-80",children:"Your learning companion and community support"})]})]}),t.jsx("button",{onClick:i,className:"text-liberation-black hover:text-liberation-black/70 text-2xl font-bold",children:"×"})]}),t.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[l&&t.jsxs("div",{className:"w-1/3 bg-liberation-cream border-r border-liberation-gold/20 p-4 overflow-y-auto",children:[t.jsx("h3",{className:"font-bold text-liberation-black mb-4",children:"Learning Tools"}),t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("button",{onClick:()=>d(null),className:`px-3 py-1 rounded-full text-xs ${h===null?"bg-liberation-gold text-liberation-black":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"All"}),f.map(p=>t.jsx("button",{onClick:()=>d(p),className:`px-3 py-1 rounded-full text-xs capitalize ${h===p?"bg-liberation-gold text-liberation-black":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:p.replace("-"," ")},p))]})}),t.jsx("div",{className:"space-y-3",children:j.map(p=>t.jsx("button",{onClick:()=>v(p),className:"w-full text-left p-3 bg-white rounded-lg border border-liberation-gold/20 hover:border-liberation-gold hover:bg-liberation-gold/5 transition-all",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("span",{className:"text-2xl",children:p.icon}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-liberation-black text-sm",children:p.name}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:p.description})]})]})},p.id))})]}),t.jsxs("div",{className:`${l?"w-2/3":"w-full"} flex flex-col`,children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map(p=>t.jsx("div",{className:`flex ${p.type==="user"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${p.type==="user"?"bg-liberation-gold text-liberation-black":"bg-liberation-cream text-liberation-black border border-liberation-gold/20"}`,children:[t.jsx("p",{className:"whitespace-pre-line",children:p.content}),t.jsx("p",{className:"text-xs opacity-60 mt-2",children:p.timestamp.toLocaleTimeString()})]})},p.id)),a&&t.jsx("div",{className:"flex justify-start",children:t.jsx("div",{className:"bg-liberation-cream text-liberation-black border border-liberation-gold/20 p-3 rounded-lg",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-2 h-2 bg-liberation-gold rounded-full animate-bounce"}),t.jsx("div",{className:"w-2 h-2 bg-liberation-gold rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),t.jsx("div",{className:"w-2 h-2 bg-liberation-gold rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),t.jsx("div",{ref:g})]}),t.jsxs("div",{className:"border-t border-liberation-gold/20 p-4",children:[t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("input",{type:"text",value:r,onChange:p=>n(p.target.value),onKeyPress:p=>p.key==="Enter"&&k(),placeholder:"Ask IVOR anything about learning, problem-solving, or community support...",className:"flex-1 p-3 border border-liberation-gold/20 rounded-lg focus:outline-none focus:border-liberation-gold",disabled:a}),t.jsx("button",{onClick:()=>k(),disabled:a||!r.trim(),className:"px-6 py-3 bg-liberation-gold text-liberation-black rounded-lg hover:bg-liberation-gold/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Send"})]}),t.jsxs("div",{className:"flex justify-between items-center mt-2",children:[t.jsx("button",{onClick:()=>c(!l),className:"text-sm text-liberation-black/60 hover:text-liberation-black",children:l?"Hide Learning Tools":"Show Learning Tools"}),t.jsx("p",{className:"text-xs text-liberation-black/60",children:"IVOR is here to support community learning and mutual aid"})]})]})]})]})]})})}const ht="https://blkout-simple-technical.vercel.app/api",Ke=[{quote:"NOT EVERYTHING THAT IS FACED CAN BE CHANGED, BUT NOTHING CAN BE CHANGED UNTIL IT IS FACED.",author:"JAMES BALDWIN"},{quote:"THOSE WHO DO NOT SEE THEMSELVES REFLECTED IN NATIONAL HERITAGE ARE EXCLUDED FROM IT.",author:"STUART HALL"},{quote:"I, TOO, SING AMERICA. I AM THE DARKER BROTHER.",author:"LANGSTON HUGHES"},{quote:"THE SOUL THAT IS WITHIN ME NO MAN CAN DEGRADE.",author:"FREDERICK DOUGLASS"},{quote:"WE NEED, IN EVERY COMMUNITY, A GROUP OF ANGELIC TROUBLEMAKERS.",author:"BAYARD RUSTIN"},{quote:"IF THEY DON'T GIVE YOU A SEAT AT THE TABLE, BRING A FOLDING CHAIR.",author:"SHIRLEY CHISHOLM"},{quote:"CHANGE WILL NOT COME IF WE WAIT FOR SOME OTHER PERSON OR SOME OTHER TIME. WE ARE THE ONES WE'VE BEEN WAITING FOR.",author:"BARACK OBAMA"},{quote:"YOU ARE YOUR BEST THING.",author:"TONI MORRISON"},{quote:"NO PERSON IS YOUR FRIEND WHO DEMANDS YOUR SILENCE OR DENIES YOUR RIGHT TO GROW.",author:"ALICE WALKER"},{quote:"HOLD FAST TO DREAMS, FOR IF DREAMS DIE, LIFE IS A BROKEN-WINGED BIRD THAT CANNOT FLY.",author:"LANGSTON HUGHES"},{quote:"DO THE BEST YOU CAN UNTIL YOU KNOW BETTER. THEN WHEN YOU KNOW BETTER, DO BETTER.",author:"MAYA ANGELOU"},{quote:"BLACK MEN LOVING BLACK MEN IS THE REVOLUTIONARY ACT.",author:"JOSEPH BEAM"},{quote:"WE HAVE TO BE VISIBLE. WE SHOULD NOT BE ASHAMED OF WHO WE ARE.",author:"SYLVIA RIVERA"},{quote:"THE ONLY WAY TO DEAL WITH AN UNFREE WORLD IS TO BECOME SO ABSOLUTELY FREE THAT YOUR VERY EXISTENCE IS AN ACT OF REBELLION.",author:"ALBERT CAMUS"},{quote:"THE MASTER'S TOOLS WILL NEVER DISMANTLE THE MASTER'S HOUSE.",author:"AUDRE LORDE"},{quote:"I LOVE MYSELF WHEN I AM LAUGHING... AND THEN AGAIN WHEN I AM LOOKING MEAN AND IMPRESSIVE.",author:"ZORA NEALE HURSTON"},{quote:"WE MUST LEARN TO UNITE THE DISPARATE PIECES OF OUR SELVES, AND IN THAT EFFORT BECOME WHOLE.",author:"ESSEX HEMPHILL"},{quote:"IF I DIDN'T DEFINE MYSELF FOR MYSELF, I'D BE CRUNCHED INTO OTHER PEOPLE'S FANTASIES OF ME AND EATEN ALIVE.",author:"AUDRE LORDE"},{quote:"WE ARE POWERFUL BECAUSE WE HAVE SURVIVED.",author:"AUDRE LORDE"},{quote:"THE MOST COMMON WAY PEOPLE GIVE UP THEIR POWER IS BY THINKING THEY DON'T HAVE ANY.",author:"ALICE WALKER"},{quote:"OURS IS NOT THE STRUGGLE OF ONE DAY, ONE WEEK, OR ONE YEAR. OURS IS THE STRUGGLE OF A LIFETIME.",author:"JOHN LEWIS"},{quote:"I HAVE DISCOVERED IN LIFE THAT THERE ARE WAYS OF GETTING ALMOST ANYWHERE YOU WANT TO GO, IF YOU REALLY WANT TO GO.",author:"LANGSTON HUGHES"}];function ho(){const[i,e]=E.useState("liberation"),[s,r]=E.useState(!0),[n,a]=E.useState(0),[o,l]=E.useState(null),[c,h]=E.useState(!1),[d,g]=E.useState({}),[m,f]=E.useState(""),[j,k]=E.useState([]),[v,S]=E.useState([]),[p,x]=E.useState([]),[y,b]=E.useState(!1),[N,A]=E.useState(!1),[I,U]=E.useState(!1),[H,w]=E.useState(!1),[_,$]=E.useState(!1),[_e,ke]=E.useState(""),[Se,Ee]=E.useState(null),[st,Te]=E.useState(!0),[me,Q]=E.useState(1),jt=[{id:1,src:"/videos/hero/PLATFORM HERO 1.mp4",title:"Liberation Platform",description:"Main liberation hero",size:"6.4MB"},{id:2,src:"/videos/hero/PLATFORM HERO 2.mp4",title:"Community Engagement",description:"Community engagement focus",size:"1.3MB"},{id:3,src:"/videos/hero/PLATFORM HERO 3.mp4",title:"Sovereignty Focus",description:"Community sovereignty",size:"3.7MB"}],ns=()=>u(this,null,function*(){try{const T=yield fetch(`${ht}/metrics`);if(T.ok){const C=yield T.json();l(C)}}catch(T){console.log("Liberation metrics not yet available:",T)}}),rt=(T,C)=>u(this,null,function*(){h(!0);try{(yield fetch(`${ht}/features`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({flagName:T,action:C==="yes"?"enable":"disable",voterAction:"cast_vote"})})).ok?(g(ae(V({},d),{[T]:!0})),yield ns()):(console.log("Feature flag not found, simulating vote for demo purposes"),g(ae(V({},d),{[T]:!0})))}catch(q){console.log("Voting temporarily unavailable:",q),g(ae(V({},d),{[T]:!0}))}h(!1)}),br=()=>u(this,null,function*(){try{const{eventsAPI:T}=yield Me(()=>u(this,null,function*(){const{eventsAPI:q}=yield import("./events-api-CTTD_mOe.js");return{eventsAPI:q}}),[]),C=yield T.getUpcomingEvents();k(C),console.log("✅ Live events loaded successfully:",C.length,"events")}catch(T){console.log("Events service initialization failed, using fallback:",T),yr()}}),fr=()=>u(this,null,function*(){try{const T=yield fetch(`${ht}/news`);if(T.ok){const C=yield T.json();S(C)}else as()}catch(T){console.log("News API not yet available, using sample data:",T),as()}}),xr=()=>u(this,null,function*(){try{const T=yield fetch(`${ht}/stories`);if(T.ok){const C=yield T.json();x(C)}else os()}catch(T){console.log("Stories API not yet available, using sample data:",T),os()}}),yr=()=>{k([{id:1,title:"BLACK TRANS JOY",date:"Tonight 7PM",location:"BRIXTON",spots:"42/50",urgency:"high",description:"Revolutionary celebration of Black trans liberation and joy"},{id:2,title:"POETRY CIRCLE",date:"Tomorrow 2PM",location:"SOUTH LONDON",spots:"15 GOING",urgency:"medium",description:"Community poetry sharing and spoken word liberation"},{id:3,title:"MUTUAL AID WORKSHOP",date:"Friday 6PM",location:"HACKNEY",spots:"8/25",urgency:"low",description:"Learn community organizing and mutual aid coordination"}])},as=()=>{S([{id:1,title:"Black Trans Healthcare Access Report",category:"Latest",author:"@community_researcher",content:"Comprehensive analysis of healthcare barriers facing Black trans community",featured:!0},{id:2,title:"Community Response to Housing Crisis",category:"Breaking",author:"Collaborative investigation",content:"Community organizing response to London housing crisis",featured:!0},{id:3,title:"COMMUNITY FUND HITS £50K",category:"Breaking",author:"Liberation Platform",content:"Historic milestone reached through community cooperation",featured:!1}])},os=()=>{x([{id:1,title:"From Isolation to Community",category:"Featured",author:"Anonymous",content:"How mutual aid saved my life and transformed my understanding of liberation",featured:!0},{id:2,title:"Building Liberation Together",category:"Archive",author:"Community Organizer",content:"My journey from individual survival to collective power building",featured:!0},{id:3,title:"Finding My Voice in the Collective",category:"Recent",author:"@liberation_speaker",content:"How community governance taught me my voice matters",featured:!1}])};E.useEffect(()=>{document.title="BLKOUT Liberation Platform - Community Empowerment",document.documentElement.setAttribute("data-liberation-platform","true"),document.documentElement.setAttribute("data-creator-sovereignty","75-percent");const T=setTimeout(()=>{r(!1)},8e3),C=setInterval(()=>{a(q=>(q+1)%Ke.length)},12e3);return ns(),br(),fr(),xr(),()=>{clearTimeout(T),clearInterval(C)}},[]);const vr=[{id:"liberation",label:"Free Your Mind",icon:K,description:"Personal and collective liberation progress",color:be.pride.pink},{id:"sovereignty",label:"Make Your Contribution",icon:qe,description:"Points-based recognition and co-operative ownership",color:be.economic.sovereignty},{id:"governance",label:"Own the Change",icon:ut,description:"Community-controlled decision making",color:be.pride.purple},{id:"community",label:"Share the Love",icon:we,description:"Safe spaces and trauma-informed support",color:be.healing.sage},{id:"about",label:"About Us",icon:Jr,description:"Platform transparency and community values",color:be.pride.yellow}],wr=T=>{e(T)},jr=()=>{e("sovereignty"),f("Creator sovereignty dashboard opened!"),setTimeout(()=>f(""),3e3)},Nr=()=>{e("community"),f("Community section opened!"),setTimeout(()=>f(""),3e3)},Nt=()=>{window.open("https://blkouthub.com/invitation?code=BE862C","_blank"),f("Opening BLKOUTHUB community platform..."),setTimeout(()=>f(""),3e3)},ls=()=>{w(!0),f("Opening IVOR AI assistant..."),setTimeout(()=>f(""),3e3)},_r=()=>{window.open("https://blkout-scrollytelling.vercel.app","_blank"),f("Opening our liberation story..."),setTimeout(()=>f(""),3e3)},kr=T=>{const C=ae(V({id:j.length+1},T),{date:new Date(T.date).toLocaleDateString()});k([C,...j]),b(!1),f("Event created successfully! Community members will be notified."),setTimeout(()=>f(""),3e3)},Sr=T=>{const C=ae(V({id:v.length+1},T),{author:"@community_member",featured:!1});S([C,...v]),A(!1),f("News article published! Controlling the narrative through community voices."),setTimeout(()=>f(""),3e3)},Er=T=>{const C=ae(V({id:p.length+1},T),{author:"@liberation_voice",featured:!1});x([C,...p]),U(!1),f("Liberation story shared! Your voice strengthens our collective power."),setTimeout(()=>f(""),3e3)},pe=(T,C)=>{if($i().isAuthenticated)switch(C){case"event":b(!0);break;case"news":A(!0);break;case"story":U(!0);break}else ke(T),Ee(C),$(!0)},Tr=()=>{switch($(!1),Se){case"event":b(!0);break;case"news":A(!0);break;case"story":U(!0);break}ke(""),Ee(null)},Ar=()=>{$(!1),ke(""),Ee(null)},Cr=()=>s?t.jsx("div",{className:te("fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",nt.getGentleAnimation("fade")),children:t.jsxs("div",{className:te("bg-white rounded-lg p-8 max-w-md w-full text-center","border-4 border-transparent bg-clip-padding","relative overflow-hidden"),children:[t.jsx("div",{className:te("absolute inset-0 opacity-10",Li.getPanAfricanGradient())}),t.jsxs("div",{className:"relative z-10 space-y-4",children:[t.jsx("div",{className:te("mx-auto w-16 h-16 rounded-full flex items-center justify-center",be.pride.yellow,"bg-liberation-pride-yellow/20",nt.getGentleAnimation("celebration")),children:t.jsx(K,{className:"h-8 w-8 text-liberation-pride-yellow","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold font-liberation text-liberation-black-power mb-2",children:"Welcome to Liberation"}),t.jsx("p",{className:"text-sm opacity-80",children:"A revolutionary platform where your sovereignty is protected, your voice is amplified, and Black queer joy is celebrated."})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:_r,className:te("w-full px-6 py-3 rounded-lg font-medium text-white","bg-gradient-to-r from-liberation-pride-pink to-liberation-pride-blue","hover:from-liberation-pride-blue hover:to-liberation-pride-pink","border-2 border-liberation-pride-pink",nt.getGentleHover(),"min-h-[48px] transition-all duration-300 transform hover:scale-105"),"aria-label":"Explore our liberation story",children:"🏴‍☠️ Explore Our Liberation Story"}),t.jsx("button",{onClick:()=>r(!1),className:te("w-full px-6 py-3 rounded-lg font-medium text-liberation-black-power",be.pride.pink,"bg-liberation-pride-pink/20 border-2 border-liberation-pride-pink",nt.getGentleHover(),"min-h-[48px] transition-all duration-300"),"aria-label":"Enter the liberation platform",children:"Enter Your Liberation Space"})]})]})]})}):null,Or=()=>{var T,C,q,cs,ds,hs,us;switch(i){case"liberation":return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[t.jsxs("section",{className:"relative min-h-[80vh] flex items-center justify-center overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0",children:[t.jsxs("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"w-full h-full object-cover opacity-40",onLoadStart:()=>{var P;return console.log("Loading hero video:",(P=jt.find(Ae=>Ae.id===me))==null?void 0:P.title)},children:[t.jsx("source",{src:(T=jt.find(P=>P.id===me))==null?void 0:T.src,type:"video/mp4"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-liberation-pride-pink/20 via-liberation-pride-purple/10 to-liberation-sovereignty-gold/20"})]},me),t.jsx("div",{className:"absolute inset-0 bg-black/50"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-liberation-pride-pink/10 via-transparent to-liberation-sovereignty-gold/10"})]}),t.jsx("div",{className:"absolute top-8 left-8 z-20",children:t.jsx("img",{src:"/Branding and logos/blkout_logo_roundel_colour.png",alt:"BLKOUT Liberation Platform Logo",className:"h-16 w-16 object-contain filter drop-shadow-lg",onError:P=>{console.log("Logo failed to load, using fallback"),P.currentTarget.style.display="none"}})}),t.jsxs("div",{className:"absolute top-8 right-8 z-20 flex items-center space-x-4",children:[t.jsxs("div",{className:"text-white/70 text-sm font-medium",children:["🔄 Video ",me," of ",jt.length]}),t.jsx("button",{onClick:()=>Q(P=>P===3?1:P+1),className:"bg-black/40 hover:bg-black/60 text-white p-2 rounded-full backdrop-blur-sm transition-all",title:"Switch video",children:t.jsx(ei,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"relative z-10 text-center max-w-6xl mx-auto px-8",children:[t.jsxs("div",{className:"inline-flex items-center space-x-3 bg-liberation-pride-purple/20 border border-liberation-pride-purple/30 rounded-full px-6 py-3 mb-8",children:[t.jsx("div",{className:"w-2 h-2 bg-liberation-pride-purple rounded-full animate-pulse"}),t.jsx("span",{className:"text-liberation-pride-purple font-bold text-sm tracking-wider uppercase",children:"Black Queer Liberation Platform"})]}),t.jsxs("div",{className:"flex items-center justify-center space-x-6 mb-8",children:[t.jsx("img",{src:"/Branding and logos/blkout_logo_roundel_colour.png",alt:"BLKOUT Logo",className:"h-24 w-24 object-contain filter drop-shadow-2xl",onError:P=>P.currentTarget.style.display="none"}),t.jsx("img",{src:"/Branding and logos/raisedfistlogo.png",alt:"Raised Fist - Symbol of Empowerment",className:"h-20 w-20 object-contain filter drop-shadow-xl",onError:P=>P.currentTarget.style.display="none"})]}),t.jsxs("h1",{className:"text-6xl lg:text-7xl xl:text-8xl font-black text-white leading-[0.85] mb-8 tracking-tight drop-shadow-2xl",children:["BLKOUT",t.jsx("span",{className:"block text-liberation-sovereignty-gold",children:"LIBERATION"})]}),t.jsxs("p",{className:"text-2xl lg:text-3xl text-gray-300 font-medium mb-12 leading-relaxed max-w-4xl mx-auto",children:[t.jsx("span",{className:"text-liberation-pride-pink font-bold",children:"Black Queer Men"})," building community. Real connections, co-operative ownership, ",t.jsx("span",{className:"text-liberation-healing-sage font-bold",children:"collective power"}),"."]}),t.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-6 mb-16",children:[t.jsx("button",{onClick:Nt,className:"group bg-liberation-pride-pink hover:bg-liberation-pride-pink/90 text-white px-12 py-6 rounded-2xl font-black text-xl transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-liberation-pride-pink/20",children:t.jsxs("span",{className:"flex items-center space-x-3",children:[t.jsx(K,{className:"h-6 w-6"}),t.jsx("span",{children:"JOIN THE LIBERATION"})]})}),t.jsx("button",{onClick:ls,className:"group bg-transparent border-2 border-liberation-healing-sage text-liberation-healing-sage hover:bg-liberation-healing-sage hover:text-gray-900 px-12 py-6 rounded-2xl font-black text-xl transition-all duration-300",children:t.jsxs("span",{className:"flex items-center space-x-3",children:[t.jsx(we,{className:"h-6 w-6"}),t.jsx("span",{children:"ASK IVOR AI"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl font-black text-liberation-sovereignty-gold mb-2",children:"847"}),t.jsx("div",{className:"text-gray-400 font-medium",children:"Community Members"}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"📊 Sample Data"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl font-black text-liberation-pride-purple mb-2",children:"100%"}),t.jsx("div",{className:"text-gray-400 font-medium",children:"Co-operative Owned"}),t.jsx("div",{className:"text-xs text-liberation-pride-purple mt-1",children:"✅ Member-Controlled"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl font-black text-liberation-healing-sage mb-2",children:"£50K"}),t.jsx("div",{className:"text-gray-400 font-medium",children:"Community Fund"}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"🎯 Target Goal"})]})]})]}),t.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:t.jsx("div",{className:"w-6 h-10 border-2 border-gray-400 rounded-full flex justify-center",children:t.jsx("div",{className:"w-1 h-3 bg-gray-400 rounded-full mt-2 animate-pulse"})})})]}),t.jsx("section",{className:"relative py-24 px-8",children:t.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[t.jsxs("div",{className:"mb-16",children:[t.jsxs("h2",{className:"text-5xl lg:text-6xl font-black text-white mb-6 leading-tight",children:["VOICES OF",t.jsx("span",{className:"block text-liberation-sovereignty-gold",children:"LIBERATION"})]}),t.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Wisdom from our ancestors, elders, and community leaders guiding our path to freedom"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-liberation-sovereignty-gold/20 rounded-3xl p-16 mb-8 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-6 left-6 text-6xl text-liberation-sovereignty-gold/20 font-black",children:"“"}),t.jsx("div",{className:"absolute bottom-6 right-6 text-6xl text-liberation-sovereignty-gold/20 font-black",children:"”"}),t.jsx("blockquote",{className:"text-3xl lg:text-4xl xl:text-5xl font-bold text-white leading-tight mb-8 transition-all duration-1000 ease-in-out",children:Ke[n].quote}),t.jsxs("cite",{className:"text-2xl lg:text-3xl font-black text-liberation-sovereignty-gold not-italic",children:["— ",Ke[n].author]})]}),t.jsx("div",{className:"flex items-center justify-center space-x-4 mb-8",children:Ke.slice(0,8).map((P,Ae)=>t.jsx("button",{onClick:()=>a(Ae),className:te("w-4 h-4 rounded-full transition-all duration-300 transform hover:scale-110",Ae===n?"bg-liberation-sovereignty-gold shadow-lg shadow-liberation-sovereignty-gold/50":"bg-gray-600 hover:bg-liberation-sovereignty-gold/50"),"aria-label":`View quote ${Ae+1}`},Ae))}),t.jsxs("div",{className:"text-liberation-sovereignty-gold/70 font-bold text-lg",children:["Quote ",n+1," of ",Ke.length,t.jsx("span",{className:"mx-4 text-gray-600",children:"•"}),t.jsx("span",{className:"text-gray-400",children:"Auto-rotating every 12 seconds"})]})]})]})}),t.jsx("section",{className:"py-20 px-8",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsxs("div",{className:"flex items-center justify-center mb-6",children:[t.jsx("img",{src:"/Branding and logos/raisedfistlogo.png",alt:"Empowerment Symbol",className:"h-12 w-12 object-contain mr-4",onError:P=>P.currentTarget.style.display="none"}),t.jsxs("h2",{className:"text-4xl lg:text-5xl font-black text-white",children:["LIBERATION",t.jsx("span",{className:"text-liberation-pride-purple",children:" ECOSYSTEM"})]})]}),t.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Integrated community platforms building collective power through technology"}),t.jsxs("div",{className:"mt-4 inline-flex items-center space-x-2 bg-liberation-healing-sage/10 border border-liberation-healing-sage/20 rounded-full px-4 py-2",children:[t.jsx("div",{className:"w-2 h-2 bg-liberation-healing-sage rounded-full animate-pulse"}),t.jsx("span",{className:"text-liberation-healing-sage text-sm font-bold",children:"🔄 Live Data Coming Soon"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-8 mb-16",children:[t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-liberation-pride-pink/20 rounded-3xl p-8 hover:border-liberation-pride-pink/40 transition-all duration-300 group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-liberation-pride-pink/20 rounded-2xl flex items-center justify-center group-hover:bg-liberation-pride-pink/30 transition-colors",children:t.jsx(K,{className:"h-6 w-6 text-liberation-pride-pink"})}),t.jsx("div",{className:"text-xs bg-liberation-pride-pink/10 text-liberation-pride-pink px-3 py-1 rounded-full font-bold",children:"MOBILE APP"})]}),t.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:"BLKOUTHUB"}),t.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Where UK's Black queer men connect, support, and build community"}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Active Members"}),t.jsxs("span",{className:"text-liberation-pride-pink font-bold",children:["250+ ",t.jsx("span",{className:"text-xs opacity-70",children:"📊 Demo"})]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"This Month"}),t.jsxs("span",{className:"text-liberation-pride-pink font-bold",children:["50 New ",t.jsx("span",{className:"text-xs opacity-70",children:"📊 Demo"})]})]})]}),t.jsx("button",{onClick:Nt,className:"w-full bg-liberation-pride-pink/10 hover:bg-liberation-pride-pink/20 border border-liberation-pride-pink/30 text-liberation-pride-pink py-3 rounded-xl font-bold transition-colors",children:"Explore Hub"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-liberation-pride-purple/20 rounded-3xl p-8 hover:border-liberation-pride-purple/40 transition-all duration-300 group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-liberation-pride-purple/20 rounded-2xl flex items-center justify-center group-hover:bg-liberation-pride-purple/30 transition-colors",children:t.jsx(qe,{className:"h-6 w-6 text-liberation-pride-purple"})}),t.jsx("div",{className:"text-xs bg-red-500/20 text-red-400 px-3 py-1 rounded-full font-bold animate-pulse",children:"URGENT"})]}),t.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:"EVENTS"}),t.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Real liberation in real spaces - community gatherings and activism"}),t.jsxs("div",{className:"space-y-3 mb-6",children:[j.slice(0,1).map(P=>t.jsxs("div",{className:"bg-liberation-pride-purple/10 rounded-lg p-4",children:[t.jsx("div",{className:"text-liberation-pride-purple font-bold text-sm mb-1",children:P.date}),t.jsx("div",{className:"text-white font-bold",children:P.title}),t.jsxs("div",{className:"text-gray-400 text-sm",children:[P.location," • ",P.spots]})]},P.id)),j.length===0&&t.jsxs("div",{className:"bg-liberation-pride-purple/10 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-liberation-pride-purple font-bold",children:"No Events Yet"}),t.jsx("div",{className:"text-gray-400 text-sm",children:"Create the first liberation event"})]})]}),t.jsx("div",{className:"space-y-2",children:t.jsxs("button",{onClick:()=>pe("Create Liberation Event","event"),className:"w-full bg-liberation-pride-purple/10 hover:bg-liberation-pride-purple/20 border border-liberation-pride-purple/30 text-liberation-pride-purple py-3 rounded-xl font-bold transition-colors",children:["Create Event ",t.jsx("span",{className:"text-xs opacity-70",children:"(Admin)"})]})})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-liberation-healing-sage/20 rounded-3xl p-8 hover:border-liberation-healing-sage/40 transition-all duration-300 group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-liberation-healing-sage/20 rounded-2xl flex items-center justify-center group-hover:bg-liberation-healing-sage/30 transition-colors",children:t.jsx(we,{className:"h-6 w-6 text-liberation-healing-sage"})}),t.jsx("div",{className:"text-xs bg-liberation-healing-sage/20 text-liberation-healing-sage px-3 py-1 rounded-full font-bold",children:"AI ASSISTANT"})]}),t.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:"IVOR"}),t.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Liberation-focused AI providing community support and guidance"}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Members Helped"}),t.jsxs("span",{className:"text-liberation-healing-sage font-bold",children:["200+ ",t.jsx("span",{className:"text-xs opacity-70",children:"📊 Demo"})]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-400",children:"Status"}),t.jsx("span",{className:"text-liberation-healing-sage font-bold",children:"24/7 Ready"})]})]}),t.jsx("button",{onClick:ls,className:"w-full bg-liberation-healing-sage/10 hover:bg-liberation-healing-sage/20 border border-liberation-healing-sage/30 text-liberation-healing-sage py-3 rounded-xl font-bold transition-colors",children:"Ask IVOR"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-liberation-sovereignty-gold/20 rounded-3xl p-8 hover:border-liberation-sovereignty-gold/40 transition-all duration-300 group",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-liberation-sovereignty-gold/20 rounded-2xl flex items-center justify-center group-hover:bg-liberation-sovereignty-gold/30 transition-colors",children:t.jsx(ut,{className:"h-6 w-6 text-liberation-sovereignty-gold"})}),t.jsx("div",{className:"text-xs bg-liberation-sovereignty-gold/20 text-liberation-sovereignty-gold px-3 py-1 rounded-full font-bold",children:"NEWSROOM"})]}),t.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:"NEWS"}),t.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Community-controlled journalism and narrative sovereignty"}),t.jsxs("div",{className:"space-y-3 mb-6",children:[v.slice(0,1).map(P=>t.jsxs("div",{className:"bg-liberation-sovereignty-gold/10 rounded-lg p-4",children:[t.jsx("div",{className:"text-liberation-sovereignty-gold font-bold text-sm mb-1",children:P.category}),t.jsx("div",{className:"text-white font-bold text-sm",children:P.title}),t.jsxs("div",{className:"text-gray-400 text-xs",children:[P.content.substring(0,50),"..."]})]},P.id)),v.length===0&&t.jsxs("div",{className:"bg-liberation-sovereignty-gold/10 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"text-liberation-sovereignty-gold font-bold",children:"No Articles"}),t.jsx("div",{className:"text-gray-400 text-sm",children:"Control the narrative"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>e("news"),className:"w-full bg-liberation-sovereignty-gold/10 hover:bg-liberation-sovereignty-gold/20 border border-liberation-sovereignty-gold/30 text-liberation-sovereignty-gold py-3 rounded-xl font-bold transition-colors",children:"View All Articles"}),t.jsxs("button",{onClick:()=>pe("Create News Article","news"),className:"w-full bg-liberation-sovereignty-gold/10 hover:bg-liberation-sovereignty-gold/20 border border-liberation-sovereignty-gold/30 text-liberation-sovereignty-gold py-3 rounded-xl font-bold text-sm transition-colors",children:["Write Article ",t.jsx("span",{className:"text-xs opacity-70",children:"(Admin)"})]})]})]})]})]})}),t.jsx("section",{className:"py-16 px-8 bg-gradient-to-br from-gray-900 via-black to-gray-900",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsxs("h2",{className:"text-4xl font-black text-white mb-4",children:["COLLECTIVE ",t.jsx("span",{className:"text-liberation-healing-sage",children:"ACTION"})]}),t.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto leading-relaxed",children:"Community submissions create better results for everyone. Add your voice to our platform."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-liberation-healing-sage/20 rounded-3xl p-8 hover:border-liberation-healing-sage/40 transition-all duration-300 group",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-liberation-healing-sage/20 rounded-2xl flex items-center justify-center group-hover:bg-liberation-healing-sage/30 transition-colors mr-4",children:t.jsx(K,{className:"h-6 w-6 text-liberation-healing-sage"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-black text-white",children:"Manual Submissions"}),t.jsx("p",{className:"text-gray-400 text-sm",children:"Direct community input"})]})]}),t.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Share events, news, and stories directly through our platform. Every submission strengthens our community."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>pe("Create Liberation Event","event"),className:"w-full bg-liberation-pride-purple/10 hover:bg-liberation-pride-purple/20 border border-liberation-pride-purple/30 text-liberation-pride-purple py-3 rounded-xl font-bold transition-colors",children:"Submit Event"}),t.jsx("button",{onClick:()=>pe("Create News Article","news"),className:"w-full bg-liberation-sovereignty-gold/10 hover:bg-liberation-sovereignty-gold/20 border border-liberation-sovereignty-gold/30 text-liberation-sovereignty-gold py-3 rounded-xl font-bold transition-colors",children:"Submit News"}),t.jsx("button",{onClick:()=>pe("Share Liberation Story","story"),className:"w-full bg-liberation-healing-sage/10 hover:bg-liberation-healing-sage/20 border border-liberation-healing-sage/30 text-liberation-healing-sage py-3 rounded-xl font-bold transition-colors",children:"Share Story"})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-liberation-sovereignty-gold/20 rounded-3xl p-8 hover:border-liberation-sovereignty-gold/40 transition-all duration-300 group",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-liberation-sovereignty-gold/20 rounded-2xl flex items-center justify-center group-hover:bg-liberation-sovereignty-gold/30 transition-colors mr-4",children:t.jsx(qe,{className:"h-6 w-6 text-liberation-sovereignty-gold"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-black text-white",children:"Chrome Extension"}),t.jsx("p",{className:"text-gray-400 text-sm",children:"One-click submissions"})]})]}),t.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Automatically detect and submit events from across the web. Transform browsing into community building."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("a",{href:"/dist/Fallback%20images/green%20images/blkout-extension-v1.0.1",target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-liberation-sovereignty-gold/10 hover:bg-liberation-sovereignty-gold/20 border border-liberation-sovereignty-gold/30 text-liberation-sovereignty-gold py-3 rounded-xl font-bold text-center transition-colors",children:"Download Extension"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-gray-500 text-xs mb-1",children:"Installation Guide"}),t.jsx("div",{className:"text-gray-400 text-xs leading-relaxed",children:"Load unpacked in chrome://extensions with Developer Mode enabled"})]})]})]})]}),t.jsx("div",{className:"mt-12 text-center",children:t.jsxs("div",{className:"bg-gradient-to-r from-liberation-pride-purple/10 via-liberation-healing-sage/10 to-liberation-sovereignty-gold/10 border border-liberation-healing-sage/20 rounded-2xl p-6",children:[t.jsx("p",{className:"text-liberation-healing-sage font-bold text-lg mb-2",children:'"Collective action leads to better results for all"'}),t.jsx("p",{className:"text-gray-400 text-sm",children:"Every community member's contribution amplifies our shared liberation platform"})]})})]})}),t.jsx("section",{className:"py-24 px-8",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsxs("h2",{className:"text-5xl font-black text-white mb-4",children:["LIBERATION",t.jsx("span",{className:"text-liberation-healing-sage",children:" STORIES"})]}),t.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Our collective memory and wisdom. Personal journeys of liberation and community power."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[t.jsxs("div",{className:"space-y-8",children:[t.jsxs("h3",{className:"text-2xl font-bold text-liberation-healing-sage mb-6 flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-liberation-healing-sage rounded-full mr-3 animate-pulse"}),"Featured Liberation Journeys"]}),t.jsxs("div",{className:"space-y-6",children:[p.slice(0,2).map(P=>t.jsxs("article",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-liberation-healing-sage/10 rounded-2xl p-8 hover:border-liberation-healing-sage/30 transition-all duration-300",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-liberation-healing-sage font-bold text-sm mb-2",children:P.category.toUpperCase()}),t.jsxs("h4",{className:"text-xl font-bold text-white mb-3",children:['"',P.title,'"']}),t.jsx("p",{className:"text-gray-400 leading-relaxed",children:P.content})]}),t.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[t.jsx("div",{className:"w-1 h-1 bg-liberation-healing-sage rounded-full mr-2"}),t.jsxs("span",{children:["By ",P.author]})]})]},P.id)),p.length===0&&t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-liberation-healing-sage/10 rounded-2xl p-8 text-center",children:[t.jsx("div",{className:"text-liberation-healing-sage font-bold text-lg mb-2",children:"No Stories Yet"}),t.jsx("div",{className:"text-gray-400",children:"Be the first to share your liberation journey"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>e("stories"),className:"w-full bg-liberation-healing-sage/10 hover:bg-liberation-healing-sage/20 border border-liberation-healing-sage/30 text-liberation-healing-sage py-4 rounded-2xl font-bold text-lg transition-all duration-300 hover:scale-105",children:"View Story Archive"}),t.jsxs("button",{onClick:()=>pe("Share Liberation Story","story"),className:"w-full bg-liberation-healing-sage/10 hover:bg-liberation-healing-sage/20 border border-liberation-healing-sage/30 text-liberation-healing-sage py-3 rounded-2xl font-bold text-sm transition-all duration-300",children:["Share Your Story ",t.jsx("span",{className:"text-xs opacity-70",children:"(Admin)"})]})]})]}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("h3",{className:"text-2xl font-bold text-liberation-pride-purple mb-6 flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-liberation-pride-purple rounded-full mr-3 animate-pulse"}),"Community Impact"]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-liberation-pride-purple/10 rounded-2xl p-8",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl font-black text-liberation-pride-purple mb-2",children:p.length}),t.jsx("div",{className:"text-gray-400",children:"Stories Shared"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl font-black text-liberation-sovereignty-gold mb-2",children:"847"}),t.jsx("div",{className:"text-gray-400",children:"Lives Touched"})]})]}),t.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[t.jsx("h4",{className:"text-lg font-bold text-white mb-4",children:"Recent Community News"}),t.jsxs("div",{className:"space-y-4",children:[v.slice(0,2).map(P=>t.jsxs("div",{className:"bg-liberation-sovereignty-gold/5 border border-liberation-sovereignty-gold/10 rounded-xl p-4",children:[t.jsx("div",{className:"text-liberation-sovereignty-gold font-bold text-sm mb-1",children:P.category}),t.jsx("div",{className:"text-white font-bold text-sm mb-1",children:P.title}),t.jsxs("div",{className:"text-gray-400 text-xs",children:[P.content.substring(0,80),"..."]})]},P.id)),v.length===0&&t.jsxs("div",{className:"bg-liberation-sovereignty-gold/5 border border-liberation-sovereignty-gold/10 rounded-xl p-4 text-center",children:[t.jsx("div",{className:"text-liberation-sovereignty-gold font-bold text-sm",children:"No News Yet"}),t.jsx("div",{className:"text-gray-400 text-xs",children:"Control the narrative - write the first article"})]})]}),t.jsx("button",{onClick:()=>pe("Write News Article","news"),className:"w-full mt-6 bg-liberation-sovereignty-gold/10 hover:bg-liberation-sovereignty-gold/20 border border-liberation-sovereignty-gold/30 text-liberation-sovereignty-gold py-3 rounded-xl font-bold transition-colors",children:"Write Community Article"})]})]})]})]})]})})]});case"sovereignty":return t.jsxs("div",{className:"space-y-6 p-6 bg-gray-900",children:[t.jsxs("div",{className:"relative h-48 mb-8 rounded-2xl overflow-hidden bg-black",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-liberation-sovereignty-gold/30 via-liberation-sovereignty-gold/20 to-black"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-5xl font-black font-sans tracking-tight mb-2",children:"CO-OPERATIVE"}),t.jsx("p",{className:"text-xl font-bold opacity-90",children:"MEMBER-OWNED COMMUNITY"}),t.jsx("div",{className:"mt-4 text-liberation-sovereignty-gold font-bold text-lg",children:"ECONOMIC LIBERATION THROUGH COOPERATION"})]})}),t.jsxs("div",{className:"absolute bottom-4 left-6 flex space-x-3",children:[t.jsx("div",{className:"w-3 h-3 bg-liberation-sovereignty-gold rounded-full animate-pulse"}),t.jsx("div",{className:"w-3 h-3 bg-liberation-sovereignty-gold/70 rounded-full animate-pulse delay-100"}),t.jsx("div",{className:"w-3 h-3 bg-liberation-sovereignty-gold/50 rounded-full animate-pulse delay-200"})]})]}),t.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[t.jsxs("div",{className:"col-span-12 md:col-span-8 bg-gray-900 border-4 border-liberation-sovereignty-gold rounded-2xl p-8 relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-liberation-sovereignty-gold/10 rounded-full -mr-16 -mt-16"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[t.jsx(qe,{className:"h-8 w-8 text-liberation-sovereignty-gold","aria-hidden":"true"}),t.jsx("h2",{className:"text-3xl font-black text-liberation-sovereignty-gold font-sans",children:"CO-OPERATIVE OWNERSHIP"})]}),t.jsxs("div",{className:"bg-liberation-sovereignty-gold/20 border-2 border-liberation-sovereignty-gold rounded-xl p-6 mb-6",children:[t.jsx("h3",{className:"text-2xl font-black text-liberation-sovereignty-gold mb-4",children:"POINTS-BASED VALUE RECOGNITION"}),t.jsx("p",{className:"text-white font-bold text-lg leading-relaxed",children:"Volunteer contributions earn points toward future paid work opportunities. Members collectively decide how surplus funds support community priorities."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-liberation-sovereignty-gold/10 rounded-lg p-4",children:[t.jsx("div",{className:"text-liberation-sovereignty-gold font-bold text-sm mb-2",children:"MEMBER OWNERSHIP"}),t.jsx("div",{className:"text-white font-black text-2xl",children:"100% CO-OP"}),t.jsx("div",{className:"text-liberation-sovereignty-gold/80 text-sm",children:"Member-directed surplus"})]}),t.jsxs("div",{className:"bg-liberation-sovereignty-gold/10 rounded-lg p-4",children:[t.jsx("div",{className:"text-liberation-sovereignty-gold font-bold text-sm mb-2",children:"RECOGNITION"}),t.jsx("div",{className:"text-white font-black text-2xl",children:"POINTS"}),t.jsx("div",{className:"text-liberation-sovereignty-gold/80 text-sm",children:"Volunteer value tracked"})]})]})]})]}),t.jsxs("div",{className:"col-span-12 md:col-span-4 bg-gray-900 border-4 border-liberation-sovereignty-gold rounded-2xl p-6 relative overflow-hidden",children:[t.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-liberation-sovereignty-gold/20 rounded-full -ml-10 -mb-10"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("h3",{className:"text-2xl font-black text-liberation-sovereignty-gold mb-4",children:"POWER"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-liberation-sovereignty-gold/20 rounded-lg p-4",children:[t.jsx("div",{className:"text-liberation-sovereignty-gold font-bold text-sm",children:"TOTAL REVENUE"}),t.jsxs("div",{className:"text-white font-black text-xl",children:["£",((q=(C=o==null?void 0:o.metrics)==null?void 0:C.totalRevenue)==null?void 0:q.toLocaleString())||"0"]}),t.jsx("div",{className:"text-liberation-sovereignty-gold/80 text-xs",children:"Platform total"})]}),t.jsxs("div",{className:"bg-liberation-sovereignty-gold/20 rounded-lg p-4",children:[t.jsx("div",{className:"text-liberation-sovereignty-gold font-bold text-sm",children:"LIBERATION SCORE"}),t.jsx("div",{className:"text-white font-black text-xl",children:o!=null&&o.liberationScore?`${(o.liberationScore*100).toFixed(1)}%`:"Loading..."}),t.jsx("div",{className:"text-liberation-sovereignty-gold/80 text-xs",children:"Community health"})]}),t.jsxs("div",{className:"bg-liberation-sovereignty-gold/20 rounded-lg p-4",children:[t.jsx("div",{className:"text-liberation-sovereignty-gold font-bold text-sm",children:"SYSTEM STATUS"}),t.jsx("div",{className:"text-white font-black text-xl",children:((cs=o==null?void 0:o.overallHealth)==null?void 0:cs.toUpperCase())||"CHECKING..."}),t.jsxs("div",{className:"text-liberation-sovereignty-gold/80 text-xs",children:[((ds=o==null?void 0:o.services)==null?void 0:ds.length)||0," services"]})]})]}),t.jsx("button",{onClick:jr,className:"w-full mt-6 py-4 bg-liberation-sovereignty-gold text-gray-900 rounded-xl font-black text-lg hover:bg-liberation-sovereignty-gold/90 transition-colors",children:"START EARNING"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-gray-800 border-2 border-liberation-sovereignty-gold/30 rounded-xl p-6",children:[t.jsx("h4",{className:"text-liberation-sovereignty-gold font-bold text-lg mb-3",children:"COMMUNITY CONTRIBUTIONS"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-white",children:"Content Creation"}),t.jsx("span",{className:"text-liberation-sovereignty-gold font-bold",children:"120 pts"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-white",children:"Event Hosting"}),t.jsx("span",{className:"text-liberation-sovereignty-gold font-bold",children:"85 pts"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-white",children:"Mentorship"}),t.jsx("span",{className:"text-liberation-sovereignty-gold font-bold",children:"95 pts"})]})]})]}),t.jsxs("div",{className:"bg-gray-800 border-2 border-liberation-sovereignty-gold/30 rounded-xl p-6",children:[t.jsx("h4",{className:"text-liberation-sovereignty-gold font-bold text-lg mb-3",children:"COMMUNITY FUNDS"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"bg-liberation-sovereignty-gold/10 rounded p-3",children:[t.jsx("div",{className:"text-liberation-sovereignty-gold font-bold text-sm",children:"HOUSING FUND"}),t.jsx("div",{className:"text-white text-xs",children:"Member-directed housing support"})]}),t.jsxs("div",{className:"bg-liberation-sovereignty-gold/10 rounded p-3",children:[t.jsx("div",{className:"text-liberation-sovereignty-gold font-bold text-sm",children:"DIASPORA RIGHTS FUND"}),t.jsx("div",{className:"text-white text-xs",children:"Migration and legal support"})]})]})]}),t.jsxs("div",{className:"bg-gray-800 border-2 border-liberation-sovereignty-gold/30 rounded-xl p-6",children:[t.jsx("h4",{className:"text-liberation-sovereignty-gold font-bold text-lg mb-3",children:"PROTECTION"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"bg-liberation-sovereignty-gold/10 rounded p-3",children:[t.jsx("div",{className:"text-liberation-sovereignty-gold font-bold text-sm",children:"LEGAL SHIELD"}),t.jsx("div",{className:"text-white text-xs",children:"Content rights protection"})]}),t.jsxs("div",{className:"bg-liberation-sovereignty-gold/10 rounded p-3",children:[t.jsx("div",{className:"text-liberation-sovereignty-gold font-bold text-sm",children:"FAIR TRADE"}),t.jsx("div",{className:"text-white text-xs",children:"Transparent payments"})]})]})]})]})]});case"governance":return t.jsxs("div",{className:"space-y-6 p-6 bg-gray-900",children:[t.jsxs("div",{className:"relative h-48 mb-8 rounded-2xl overflow-hidden bg-black",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-liberation-pride-purple/30 via-liberation-pride-purple/20 to-black"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-5xl font-black font-sans tracking-tight mb-2",children:"GOVERNANCE"}),t.jsx("p",{className:"text-xl font-bold opacity-90",children:"DEMOCRATIC POWER"}),t.jsx("div",{className:"mt-4 text-liberation-pride-purple font-bold text-lg",children:"YOUR VOICE SHAPES THE FUTURE"})]})}),t.jsxs("div",{className:"absolute bottom-4 left-6 flex space-x-3",children:[t.jsx("div",{className:"w-3 h-3 bg-liberation-pride-purple rounded-full animate-pulse"}),t.jsx("div",{className:"w-3 h-3 bg-liberation-pride-purple/70 rounded-full animate-pulse delay-100"}),t.jsx("div",{className:"w-3 h-3 bg-liberation-pride-purple/50 rounded-full animate-pulse delay-200"})]})]}),t.jsx("p",{className:"text-white font-bold text-lg mb-6",children:"Community ownership means community control. Your voice shapes our platform's evolution."}),t.jsxs("div",{className:"bg-gray-900 border-4 border-liberation-pride-purple rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-2xl font-black text-liberation-pride-purple font-sans",children:"ACTIVE PROPOSALS"}),t.jsx("div",{className:"text-sm bg-liberation-pride-purple text-white px-4 py-2 rounded-full font-black",children:"3 VOTING NOW"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gray-800 border border-liberation-pride-purple/30 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-bold text-white text-lg",children:"Should we prioritize mental health resources in IVOR?"}),t.jsx("div",{className:"text-liberation-pride-purple/80 text-sm mt-1",children:"Proposed by @community_healer • 2 days left"})]}),t.jsxs("div",{className:"text-liberation-pride-purple font-black text-xl",children:[((hs=o==null?void 0:o.democraticGovernance)==null?void 0:hs.mentalHealthSupport)||"87%"," YES"]})]}),t.jsx("div",{className:"w-full bg-gray-600 rounded-full h-3 mb-4",children:t.jsx("div",{className:"bg-liberation-pride-purple h-3 rounded-full",style:{width:"87%"}})}),d.mental_health_priority?t.jsx("div",{className:"text-sm text-green-400 font-bold",children:"✓ VOTE CAST - THANK YOU!"}):t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:()=>rt("mental_health_priority","yes"),disabled:c,className:"text-sm bg-liberation-pride-purple text-white px-6 py-3 rounded-lg font-black hover:bg-liberation-pride-purple/90 disabled:opacity-50",children:c?"CASTING...":"VOTE YES"}),t.jsx("button",{onClick:()=>rt("mental_health_priority","no"),disabled:c,className:"text-sm bg-gray-600 text-white px-6 py-3 rounded-lg font-black hover:bg-gray-500 disabled:opacity-50",children:"VOTE NO"})]})]}),t.jsxs("div",{className:"bg-gray-800 border border-liberation-pride-purple/30 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-bold text-white text-lg",children:"Add mutual aid coordination to events calendar?"}),t.jsx("div",{className:"text-liberation-pride-purple/80 text-sm mt-1",children:"Proposed by @solidarity_organizer • 5 days left"})]}),t.jsxs("div",{className:"text-liberation-pride-purple font-black text-xl",children:[((us=o==null?void 0:o.democraticGovernance)==null?void 0:us.mutualAidIntegration)||"92%"," YES"]})]}),t.jsx("div",{className:"w-full bg-gray-600 rounded-full h-3 mb-4",children:t.jsx("div",{className:"bg-liberation-pride-purple h-3 rounded-full",style:{width:"92%"}})}),d.mutual_aid_integration?t.jsx("div",{className:"text-sm text-green-400 font-bold",children:"✓ VOTE CAST - THANK YOU!"}):t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:()=>rt("mutual_aid_integration","yes"),disabled:c,className:"text-sm bg-liberation-pride-purple text-white px-6 py-3 rounded-lg font-black hover:bg-liberation-pride-purple/90 disabled:opacity-50",children:c?"CASTING...":"VOTE YES"}),t.jsx("button",{onClick:()=>rt("mutual_aid_integration","no"),disabled:c,className:"text-sm bg-gray-600 text-white px-6 py-3 rounded-lg font-black hover:bg-gray-500 disabled:opacity-50",children:"VOTE NO"})]})]})]}),t.jsx("button",{className:"w-full mt-6 py-4 bg-liberation-pride-purple text-white rounded-xl font-black text-lg hover:bg-liberation-pride-purple/90 transition-colors",children:"SUBMIT NEW PROPOSAL"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-gray-900 border-4 border-liberation-healing-sage rounded-2xl p-6",children:[t.jsx("h3",{className:"text-2xl font-black text-liberation-healing-sage mb-4",children:"MUTUAL AID"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-liberation-healing-sage/20 rounded-lg p-4",children:[t.jsx("div",{className:"font-bold text-liberation-healing-sage text-lg",children:"RENT SUPPORT FUND"}),t.jsx("div",{className:"text-white font-bold",children:"£2,400 raised • 8 members helped this month"})]}),t.jsxs("div",{className:"bg-liberation-healing-sage/20 rounded-lg p-4",children:[t.jsx("div",{className:"font-bold text-liberation-healing-sage text-lg",children:"FOOD SHARE NETWORK"}),t.jsx("div",{className:"text-white font-bold",children:"12 active coordinators • South London"})]}),t.jsxs("div",{className:"bg-liberation-healing-sage/20 rounded-lg p-4",children:[t.jsx("div",{className:"font-bold text-liberation-healing-sage text-lg",children:"EMERGENCY SUPPORT"}),t.jsx("div",{className:"text-white font-bold",children:"24/7 crisis fund • Immediate response"})]})]}),t.jsx("button",{onClick:Nr,className:"w-full mt-6 py-4 bg-liberation-healing-sage text-gray-900 rounded-xl font-black text-lg hover:bg-liberation-healing-sage/90 transition-colors",children:"JOIN NETWORK"})]}),t.jsxs("div",{className:"bg-gray-900 border-4 border-liberation-sovereignty-gold rounded-2xl p-6",children:[t.jsx("h3",{className:"text-2xl font-black text-liberation-sovereignty-gold mb-4",children:"COMMUNITY OWNERSHIP"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-liberation-sovereignty-gold/20 rounded-lg p-4",children:[t.jsx("div",{className:"font-bold text-liberation-sovereignty-gold text-lg",children:"COLLECTIVE OWNERSHIP"}),t.jsx("div",{className:"text-white font-bold",children:"Community-controlled, asset-locked"})]}),t.jsxs("div",{className:"bg-liberation-sovereignty-gold/20 rounded-lg p-4",children:[t.jsx("div",{className:"font-bold text-liberation-sovereignty-gold text-lg",children:"PROFIT REINVESTMENT"}),t.jsx("div",{className:"text-white font-bold",children:"Surplus builds community services"})]}),t.jsxs("div",{className:"bg-liberation-sovereignty-gold/20 rounded-lg p-4",children:[t.jsx("div",{className:"font-bold text-liberation-sovereignty-gold text-lg",children:"DEMOCRATIC CONTROL"}),t.jsx("div",{className:"text-white font-bold",children:"1 vote per member (equal power)"})]})]}),t.jsx("button",{className:"w-full mt-6 py-4 bg-liberation-sovereignty-gold text-gray-900 rounded-xl font-black text-lg hover:bg-liberation-sovereignty-gold/90 transition-colors",children:"LEARN CBS MODEL"})]})]}),t.jsxs("div",{className:"bg-gray-900 border-4 border-liberation-pride-purple rounded-2xl p-6",children:[t.jsx("h3",{className:"text-2xl font-black text-liberation-pride-purple mb-4",children:"RECENT VICTORIES"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center py-3 bg-liberation-pride-purple/10 rounded-lg px-4",children:[t.jsx("span",{className:"text-white font-bold text-lg",children:"Implement 75% creator sovereignty"}),t.jsx("span",{className:"text-green-400 font-black text-lg",children:"✓ PASSED (94% YES)"})]}),t.jsxs("div",{className:"flex justify-between items-center py-3 bg-liberation-pride-purple/10 rounded-lg px-4",children:[t.jsx("span",{className:"text-white font-bold text-lg",children:"Add trauma-informed content warnings"}),t.jsx("span",{className:"text-green-400 font-black text-lg",children:"✓ PASSED (89% YES)"})]}),t.jsxs("div",{className:"flex justify-between items-center py-3 bg-liberation-pride-purple/10 rounded-lg px-4",children:[t.jsx("span",{className:"text-white font-bold text-lg",children:"Establish community moderation council"}),t.jsx("span",{className:"text-green-400 font-black text-lg",children:"✓ PASSED (91% YES)"})]})]})]})]});case"community":return t.jsxs("div",{className:"space-y-6 p-6 bg-gray-900",children:[t.jsxs("div",{className:"relative h-48 mb-8 rounded-2xl overflow-hidden bg-black",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-liberation-healing-sage/30 via-liberation-healing-sage/20 to-black"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-5xl font-black font-sans tracking-tight mb-2",children:"COMMUNITY"}),t.jsx("p",{className:"text-xl font-bold opacity-90",children:"COLLECTIVE POWER"}),t.jsx("div",{className:"mt-4 text-liberation-healing-sage font-bold text-lg",children:"REAL MEMBERSHIP • REAL BENEFITS • REAL LIBERATION"})]})}),t.jsxs("div",{className:"absolute bottom-4 left-6 flex space-x-3",children:[t.jsx("div",{className:"w-3 h-3 bg-liberation-healing-sage rounded-full animate-pulse"}),t.jsx("div",{className:"w-3 h-3 bg-liberation-healing-sage/70 rounded-full animate-pulse delay-100"}),t.jsx("div",{className:"w-3 h-3 bg-liberation-healing-sage/50 rounded-full animate-pulse delay-200"})]})]}),t.jsx("p",{className:"text-white font-bold text-lg mb-6",children:"Join our cooperative community and own the platform that serves you. Real membership, real benefits, real liberation."}),t.jsxs("div",{className:"bg-gray-900 border-4 border-liberation-healing-sage rounded-2xl p-8 mb-8",children:[t.jsx("h3",{className:"text-3xl font-black text-liberation-healing-sage mb-6 font-sans",children:"BECOME AN OWNER"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-liberation-healing-sage/20 rounded-xl p-6",children:[t.jsx("div",{className:"font-black text-liberation-healing-sage text-xl mb-2",children:"🗳️ DEMOCRATIC POWER"}),t.jsx("div",{className:"text-white font-bold text-lg",children:"Equal vote on all platform decisions"})]}),t.jsxs("div",{className:"bg-liberation-sovereignty-gold/20 rounded-xl p-6",children:[t.jsx("div",{className:"font-black text-liberation-sovereignty-gold text-xl mb-2",children:"💰 COMMUNITY WEALTH"}),t.jsx("div",{className:"text-white font-bold text-lg",children:"Profits reinvested in community services"})]}),t.jsxs("div",{className:"bg-liberation-pride-purple/20 rounded-xl p-6",children:[t.jsx("div",{className:"font-black text-liberation-pride-purple text-xl mb-2",children:"🤝 MUTUAL AID"}),t.jsx("div",{className:"text-white font-bold text-lg",children:"Emergency fund & community support"})]}),t.jsxs("div",{className:"bg-liberation-healing-sage/20 rounded-xl p-6",children:[t.jsx("div",{className:"font-black text-liberation-healing-sage text-xl mb-2",children:"🛡️ SAFE SPACE"}),t.jsx("div",{className:"text-white font-bold text-lg",children:"Trauma-informed, community-moderated"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-gray-900 border-4 border-liberation-healing-sage rounded-2xl p-6",children:[t.jsx("h3",{className:"text-2xl font-black text-liberation-healing-sage mb-4",children:"WHAT YOU GIVE"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-3 h-3 bg-liberation-healing-sage rounded-full mt-2"}),t.jsxs("span",{className:"text-white font-bold text-lg",children:[t.jsx("strong",{className:"text-liberation-healing-sage",children:"£25/MONTH"})," - Platform costs & community funds"]})]}),t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-3 h-3 bg-liberation-healing-sage rounded-full mt-2"}),t.jsxs("span",{className:"text-white font-bold text-lg",children:[t.jsx("strong",{className:"text-liberation-healing-sage",children:"PARTICIPATION"})," - Vote, share, contribute"]})]}),t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-3 h-3 bg-liberation-healing-sage rounded-full mt-2"}),t.jsxs("span",{className:"text-white font-bold text-lg",children:[t.jsx("strong",{className:"text-liberation-healing-sage",children:"MUTUAL SUPPORT"})," - Help when you can"]})]}),t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-3 h-3 bg-liberation-healing-sage rounded-full mt-2"}),t.jsxs("span",{className:"text-white font-bold text-lg",children:[t.jsx("strong",{className:"text-liberation-healing-sage",children:"LIBERATION VALUES"})," - Respect, care, community"]})]})]})]}),t.jsxs("div",{className:"bg-gray-900 border-4 border-liberation-sovereignty-gold rounded-2xl p-6",children:[t.jsx("h3",{className:"text-2xl font-black text-liberation-sovereignty-gold mb-4",children:"WHAT YOU GET"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-3 h-3 bg-liberation-sovereignty-gold rounded-full mt-2"}),t.jsxs("span",{className:"text-white font-bold text-lg",children:[t.jsx("strong",{className:"text-liberation-sovereignty-gold",children:"OWNERSHIP"})," - Control platform future"]})]}),t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-3 h-3 bg-liberation-sovereignty-gold rounded-full mt-2"}),t.jsxs("span",{className:"text-white font-bold text-lg",children:[t.jsx("strong",{className:"text-liberation-sovereignty-gold",children:"REINVESTED PROFITS"})," - More community services"]})]}),t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-3 h-3 bg-liberation-sovereignty-gold rounded-full mt-2"}),t.jsxs("span",{className:"text-white font-bold text-lg",children:[t.jsx("strong",{className:"text-liberation-sovereignty-gold",children:"24/7 IVOR SUPPORT"})," - AI assistant"]})]}),t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-3 h-3 bg-liberation-sovereignty-gold rounded-full mt-2"}),t.jsxs("span",{className:"text-white font-bold text-lg",children:[t.jsx("strong",{className:"text-liberation-sovereignty-gold",children:"EMERGENCY AID"})," - Community fund access"]})]}),t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-3 h-3 bg-liberation-sovereignty-gold rounded-full mt-2"}),t.jsxs("span",{className:"text-white font-bold text-lg",children:[t.jsx("strong",{className:"text-liberation-sovereignty-gold",children:"75% REVENUE"})," - Creator sovereignty"]})]})]})]})]}),t.jsx("div",{className:"bg-gray-900 border-4 border-liberation-pride-pink rounded-2xl p-8 text-white",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"text-4xl font-black text-liberation-pride-pink mb-4 font-sans",children:"READY TO OWN YOUR LIBERATION?"}),t.jsx("p",{className:"text-xl font-bold text-white mb-6",children:"Join 847 community members building Black queer liberation through cooperative ownership."}),t.jsxs("div",{className:"flex items-center justify-center space-x-8 text-lg font-bold mb-8",children:[t.jsx("div",{className:"text-liberation-pride-pink",children:"✓ NO CORPORATE EXTRACTORS"}),t.jsx("div",{className:"text-liberation-sovereignty-gold",children:"✓ DEMOCRATIC GOVERNANCE"}),t.jsx("div",{className:"text-liberation-healing-sage",children:"✓ COMMUNITY WEALTH BUILDING"})]}),t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("button",{onClick:Nt,className:"bg-liberation-pride-pink text-gray-900 px-12 py-6 rounded-2xl font-black text-2xl hover:bg-liberation-pride-pink/90 transition-colors mb-4",children:"BECOME A MEMBER"}),t.jsx("div",{className:"text-liberation-pride-pink/80 font-bold text-lg",children:"FIRST MONTH FREE"})]})]})}),t.jsxs("div",{className:"bg-gray-900 border-4 border-liberation-healing-sage rounded-2xl p-8",children:[t.jsx("h3",{className:"text-3xl font-black text-liberation-healing-sage mb-4 font-sans",children:"TRAUMA-INFORMED SAFE SPACES"}),t.jsx("p",{className:"text-white font-bold text-xl leading-relaxed",children:"Our community prioritizes trauma-informed approaches, restorative justice, and comprehensive support for all members. Every interaction is designed with healing in mind."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[t.jsxs("div",{className:"bg-liberation-healing-sage/20 rounded-xl p-6",children:[t.jsx("div",{className:"font-black text-liberation-healing-sage text-lg mb-2",children:"🛡️ PROTECTION"}),t.jsx("div",{className:"text-white font-bold",children:"Community-moderated spaces"})]}),t.jsxs("div",{className:"bg-liberation-healing-sage/20 rounded-xl p-6",children:[t.jsx("div",{className:"font-black text-liberation-healing-sage text-lg mb-2",children:"💚 HEALING"}),t.jsx("div",{className:"text-white font-bold",children:"Restorative justice practices"})]}),t.jsxs("div",{className:"bg-liberation-healing-sage/20 rounded-xl p-6",children:[t.jsx("div",{className:"font-black text-liberation-healing-sage text-lg mb-2",children:"🤝 SUPPORT"}),t.jsx("div",{className:"text-white font-bold",children:"Comprehensive member care"})]})]})]})]});case"about":return t.jsx(Di,{});case"news":return t.jsx(no,{});case"stories":return t.jsx(ao,{});default:return null}};return t.jsxs("div",{className:"min-h-screen bg-gray-900",children:[Cr(),t.jsxs("div",{className:"flex flex-col min-h-screen",children:[t.jsx("header",{className:"bg-black/95 backdrop-blur-sm border-b border-liberation-pride-purple/20 sticky top-0 z-50",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center justify-between h-24",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:te("w-14 h-14 rounded-2xl flex items-center justify-center","bg-gradient-to-br from-liberation-pride-pink via-liberation-pride-purple to-liberation-sovereignty-gold","shadow-lg shadow-liberation-pride-purple/20"),children:t.jsx(K,{className:"h-7 w-7 text-white","aria-hidden":"true"})}),t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight",children:["BLKOUT",t.jsx("span",{className:"text-liberation-sovereignty-gold",children:"."})]}),t.jsx("div",{className:"text-liberation-pride-purple font-bold text-sm tracking-wide",children:"LIBERATION PLATFORM"})]})]}),t.jsx("nav",{className:"hidden md:flex space-x-1","aria-label":"Main navigation",children:vr.map(T=>{const C=T.icon,q=i===T.id;return t.jsxs("button",{onClick:()=>wr(T.id),className:te("group relative flex items-center space-x-3 px-6 py-4 rounded-2xl font-bold text-base","transition-all duration-300 min-h-[56px]",q?"bg-liberation-pride-purple/20 text-white border border-liberation-pride-purple/40":"text-gray-400 hover:text-white hover:bg-white/5 border border-transparent"),"aria-current":q?"page":void 0,children:[t.jsx(C,{className:te("h-5 w-5 transition-colors duration-300",q?"text-liberation-pride-purple":"text-gray-500 group-hover:text-liberation-pride-purple"),"aria-hidden":"true"}),t.jsx("span",{className:"hidden lg:inline tracking-wide font-sans",children:T.label}),q&&t.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1 w-2 h-2 bg-liberation-pride-purple rounded-full"})]},T.id)})}),t.jsx("button",{className:"md:hidden w-10 h-10 flex items-center justify-center text-white",children:t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"w-5 h-0.5 bg-white"}),t.jsx("div",{className:"w-5 h-0.5 bg-liberation-pride-purple"}),t.jsx("div",{className:"w-5 h-0.5 bg-white"})]})})]})})}),t.jsxs("main",{className:"flex-1",children:[m&&t.jsx("div",{className:"fixed top-32 right-8 z-50 max-w-md",children:t.jsx("div",{className:"bg-liberation-pride-pink/90 backdrop-blur-sm border border-liberation-pride-pink/30 rounded-2xl p-4 shadow-2xl shadow-liberation-pride-pink/20 animate-gentle-fade",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),t.jsx("span",{className:"text-white font-bold text-sm",children:m})]})})}),t.jsx("div",{className:"bg-liberation-healing-sage/5 border-b border-liberation-healing-sage/10",children:t.jsx("div",{className:"max-w-7xl mx-auto px-8 py-3",children:t.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(we,{className:"h-4 w-4 text-liberation-healing-sage","aria-hidden":"true"}),t.jsx("span",{className:"font-bold text-liberation-healing-sage",children:"Trauma-Informed Safe Space"})]}),t.jsx("div",{className:"w-1 h-1 bg-liberation-healing-sage/50 rounded-full"}),t.jsx("span",{className:"text-gray-600",children:"Community guidelines and comprehensive support active"})]})})}),Or()]}),y&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-gray-900 border-4 border-liberation-pride-purple rounded-2xl p-8 max-w-md w-full",children:[t.jsx("h3",{className:"text-2xl font-black text-liberation-pride-purple mb-6",children:"CREATE LIBERATION EVENT"}),t.jsxs("form",{onSubmit:T=>{T.preventDefault();const C=new FormData(T.target);kr({title:C.get("title"),date:C.get("date"),location:C.get("location"),spots:`0/${C.get("maxSpots")}`,urgency:C.get("urgency"),description:C.get("description")})},children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("input",{name:"title",placeholder:"Event title",required:!0,className:"w-full p-3 bg-gray-800 text-white rounded-lg border border-liberation-pride-purple/30 focus:border-liberation-pride-purple"}),t.jsx("input",{name:"date",type:"datetime-local",required:!0,className:"w-full p-3 bg-gray-800 text-white rounded-lg border border-liberation-pride-purple/30 focus:border-liberation-pride-purple"}),t.jsx("input",{name:"location",placeholder:"Location",required:!0,className:"w-full p-3 bg-gray-800 text-white rounded-lg border border-liberation-pride-purple/30 focus:border-liberation-pride-purple"}),t.jsx("input",{name:"maxSpots",type:"number",placeholder:"Max attendees",required:!0,className:"w-full p-3 bg-gray-800 text-white rounded-lg border border-liberation-pride-purple/30 focus:border-liberation-pride-purple"}),t.jsxs("select",{name:"urgency",required:!0,className:"w-full p-3 bg-gray-800 text-white rounded-lg border border-liberation-pride-purple/30 focus:border-liberation-pride-purple",children:[t.jsx("option",{value:"low",children:"Low Priority"}),t.jsx("option",{value:"medium",children:"Medium Priority"}),t.jsx("option",{value:"high",children:"High Priority"})]}),t.jsx("textarea",{name:"description",placeholder:"Event description",rows:3,className:"w-full p-3 bg-gray-800 text-white rounded-lg border border-liberation-pride-purple/30 focus:border-liberation-pride-purple"})]}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx("button",{type:"submit",className:"flex-1 py-3 bg-liberation-pride-purple text-white rounded-xl font-black hover:bg-liberation-pride-purple/90",children:"CREATE EVENT"}),t.jsx("button",{type:"button",onClick:()=>b(!1),className:"flex-1 py-3 bg-gray-600 text-white rounded-xl font-black hover:bg-gray-500",children:"CANCEL"})]})]})]})}),N&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-gray-900 border-4 border-liberation-sovereignty-gold rounded-2xl p-8 max-w-md w-full",children:[t.jsx("h3",{className:"text-2xl font-black text-liberation-sovereignty-gold mb-6",children:"CONTROL THE NARRATIVE"}),t.jsxs("form",{onSubmit:T=>{T.preventDefault();const C=new FormData(T.target);Sr({title:C.get("title"),category:C.get("category"),content:C.get("content")})},children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("input",{name:"title",placeholder:"Article title",required:!0,className:"w-full p-3 bg-gray-800 text-white rounded-lg border border-liberation-sovereignty-gold/30 focus:border-liberation-sovereignty-gold"}),t.jsxs("select",{name:"category",required:!0,className:"w-full p-3 bg-gray-800 text-white rounded-lg border border-liberation-sovereignty-gold/30 focus:border-liberation-sovereignty-gold",children:[t.jsx("option",{value:"Breaking",children:"Breaking News"}),t.jsx("option",{value:"Latest",children:"Latest"}),t.jsx("option",{value:"Feature",children:"Feature Story"}),t.jsx("option",{value:"Analysis",children:"Analysis"})]}),t.jsx("textarea",{name:"content",placeholder:"Article content",rows:4,required:!0,className:"w-full p-3 bg-gray-800 text-white rounded-lg border border-liberation-sovereignty-gold/30 focus:border-liberation-sovereignty-gold"})]}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx("button",{type:"submit",className:"flex-1 py-3 bg-liberation-sovereignty-gold text-gray-900 rounded-xl font-black hover:bg-liberation-sovereignty-gold/90",children:"PUBLISH"}),t.jsx("button",{type:"button",onClick:()=>A(!1),className:"flex-1 py-3 bg-gray-600 text-white rounded-xl font-black hover:bg-gray-500",children:"CANCEL"})]})]})]})}),I&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-gray-900 border-4 border-liberation-healing-sage rounded-2xl p-8 max-w-md w-full",children:[t.jsx("h3",{className:"text-2xl font-black text-liberation-healing-sage mb-6",children:"SHARE YOUR LIBERATION STORY"}),t.jsxs("form",{onSubmit:T=>{T.preventDefault();const C=new FormData(T.target);Er({title:C.get("title"),category:C.get("category"),content:C.get("content")})},children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("input",{name:"title",placeholder:"Story title",required:!0,className:"w-full p-3 bg-gray-800 text-white rounded-lg border border-liberation-healing-sage/30 focus:border-liberation-healing-sage"}),t.jsxs("select",{name:"category",required:!0,className:"w-full p-3 bg-gray-800 text-white rounded-lg border border-liberation-healing-sage/30 focus:border-liberation-healing-sage",children:[t.jsx("option",{value:"Recent",children:"Recent Story"}),t.jsx("option",{value:"Archive",children:"Archive Story"}),t.jsx("option",{value:"Featured",children:"Featured Story"}),t.jsx("option",{value:"Journey",children:"Liberation Journey"})]}),t.jsx("textarea",{name:"content",placeholder:"Your liberation story...",rows:4,required:!0,className:"w-full p-3 bg-gray-800 text-white rounded-lg border border-liberation-healing-sage/30 focus:border-liberation-healing-sage"})]}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx("button",{type:"submit",className:"flex-1 py-3 bg-liberation-healing-sage text-gray-900 rounded-xl font-black hover:bg-liberation-healing-sage/90",children:"SHARE STORY"}),t.jsx("button",{type:"button",onClick:()=>U(!1),className:"flex-1 py-3 bg-gray-600 text-white rounded-xl font-black hover:bg-gray-500",children:"CANCEL"})]})]})]})}),t.jsx("footer",{className:"bg-gradient-to-br from-black via-gray-900 to-black border-t border-liberation-pride-purple/30",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-16",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 mb-12",children:[t.jsxs("div",{className:"lg:col-span-2",children:[t.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[t.jsx("img",{src:"/Branding and logos/blkout_logo_roundel_colour.png",alt:"BLKOUT Liberation Platform",className:"h-16 w-16 object-contain",onError:T=>{const C=T.currentTarget.parentElement;C&&(C.innerHTML='<div class="w-16 h-16 rounded-xl flex items-center justify-center bg-gradient-to-br from-liberation-pride-pink via-liberation-pride-purple to-liberation-sovereignty-gold"><svg class="h-8 w-8 text-white" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path></svg></div>')}}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-black text-white mb-1",children:"BLKOUT LIBERATION"}),t.jsx("div",{className:"text-liberation-pride-purple font-bold text-sm",children:"Community Empowerment Platform"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx("div",{className:"w-2 h-2 bg-liberation-sovereignty-gold rounded-full animate-pulse"}),t.jsx("span",{className:"text-liberation-sovereignty-gold text-xs font-medium",children:"Building Community Sovereignty"})]})]})]}),t.jsx("p",{className:"text-gray-400 text-lg leading-relaxed mb-8",children:"Building collective power through community ownership, creator sovereignty, and Black queer joy. Where liberation meets technology, and community controls the future."}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h3",{className:"text-liberation-pride-pink font-bold text-sm mb-4 uppercase tracking-wide",children:"Liberation Ecosystem"}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"group",children:[t.jsx("div",{className:"text-white font-medium hover:text-liberation-pride-pink transition-colors cursor-pointer group-hover:underline",children:"Events"}),t.jsx("div",{className:"text-gray-500 text-xs",children:"Real liberation spaces"})]}),t.jsxs("div",{className:"group",children:[t.jsx("div",{className:"text-white font-medium hover:text-liberation-sovereignty-gold transition-colors cursor-pointer group-hover:underline",children:"News"}),t.jsx("div",{className:"text-gray-500 text-xs",children:"Community journalism"})]}),t.jsxs("div",{className:"group",children:[t.jsx("div",{className:"text-white font-medium hover:text-liberation-healing-sage transition-colors cursor-pointer group-hover:underline",children:"IVOR AI"}),t.jsx("div",{className:"text-gray-500 text-xs",children:"Liberation assistant"})]}),t.jsxs("div",{className:"group",children:[t.jsx("div",{className:"text-white font-medium hover:text-liberation-pride-purple transition-colors cursor-pointer group-hover:underline",children:"Community"}),t.jsx("div",{className:"text-gray-500 text-xs",children:"Safe spaces"})]})]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h3",{className:"text-liberation-sovereignty-gold font-bold text-sm mb-4 uppercase tracking-wide",children:"Partner Platforms"}),t.jsx("div",{className:"flex items-center space-x-6",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-liberation-pride-pink/20 rounded-lg flex items-center justify-center",children:t.jsx(K,{className:"h-4 w-4 text-liberation-pride-pink"})}),t.jsxs("div",{children:[t.jsx("a",{href:"https://blkouthub.com/invitation?code=BE862C",target:"_blank",rel:"noopener noreferrer",className:"text-white font-medium hover:text-liberation-pride-pink transition-colors",children:"BLKOUTHUB"}),t.jsx("div",{className:"text-gray-500 text-xs",children:"Mobile community app"})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(qe,{className:"h-5 w-5 text-liberation-sovereignty-gold","aria-hidden":"true"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-liberation-sovereignty-gold font-bold text-sm",children:"Creator Sovereignty"}),t.jsx("div",{className:"text-gray-500 text-xs",children:"75% guaranteed"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(ut,{className:"h-5 w-5 text-liberation-pride-purple","aria-hidden":"true"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-liberation-pride-purple font-bold text-sm",children:"Democratic Control"}),t.jsx("div",{className:"text-gray-500 text-xs",children:"Community governed"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(K,{className:"h-5 w-5 text-liberation-pride-pink","aria-hidden":"true"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-liberation-pride-pink font-bold text-sm",children:"Black Queer Joy"}),t.jsx("div",{className:"text-gray-500 text-xs",children:"Always centered"})]})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-liberation-pride-purple/20 rounded-2xl p-8",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[t.jsx("img",{src:"/Branding and logos/raisedfistlogo.png",alt:"Empowerment Symbol",className:"h-8 w-8 object-contain",onError:T=>T.currentTarget.style.display="none"}),t.jsx("h3",{className:"text-xl font-bold text-white",children:"Liberation Impact"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Community Members"}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:"text-liberation-sovereignty-gold font-bold",children:"847"}),t.jsx("div",{className:"text-xs text-gray-500",children:"📊 Sample Data"})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Stories Shared"}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:"text-liberation-healing-sage font-bold",children:p.length}),t.jsx("div",{className:"text-xs text-liberation-healing-sage",children:"✅ Live Count"})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Community Fund"}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:"text-liberation-pride-purple font-bold",children:"£50K"}),t.jsx("div",{className:"text-xs text-gray-500",children:"🎯 Target Goal"})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-400",children:"Creator Sovereignty"}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:"text-liberation-pride-pink font-bold",children:"75%"}),t.jsx("div",{className:"text-xs text-liberation-pride-pink",children:"✅ Guaranteed"})]})]})]}),t.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-700",children:[t.jsx("h4",{className:"text-sm font-bold text-liberation-pride-purple mb-4 uppercase tracking-wide",children:"Community Connections"}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("button",{className:"bg-liberation-pride-pink/10 hover:bg-liberation-pride-pink/20 border border-liberation-pride-pink/30 text-liberation-pride-pink px-4 py-2 rounded-lg font-medium text-sm transition-colors",children:"Discord"}),t.jsx("button",{className:"bg-liberation-sovereignty-gold/10 hover:bg-liberation-sovereignty-gold/20 border border-liberation-sovereignty-gold/30 text-liberation-sovereignty-gold px-4 py-2 rounded-lg font-medium text-sm transition-colors",children:"WhatsApp"})]})]})]})]}),t.jsxs("div",{className:"border-t border-liberation-pride-purple/20 pt-8 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-4",children:[t.jsx("img",{src:"/Branding and logos/blkout_logo_roundel_colour.png",alt:"BLKOUT",className:"h-8 w-8 object-contain",onError:T=>T.currentTarget.style.display="none"}),t.jsx("p",{className:"text-gray-500 font-medium",children:"© 2024 BLKOUT Liberation Platform. Built by community, for community."})]}),t.jsx("div",{className:"flex items-center justify-center space-x-4 mb-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-2 h-2 bg-liberation-pride-pink rounded-full animate-pulse"}),t.jsx("span",{className:"text-gray-600 text-sm font-medium",children:"Liberation in Progress"}),t.jsx("div",{className:"w-2 h-2 bg-liberation-sovereignty-gold rounded-full animate-pulse delay-150"})]})}),t.jsxs("div",{className:"bg-liberation-healing-sage/5 border border-liberation-healing-sage/20 rounded-lg px-6 py-4 max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[t.jsx(we,{className:"h-4 w-4 text-liberation-healing-sage"}),t.jsx("span",{className:"text-liberation-healing-sage font-bold text-sm uppercase tracking-wide",children:"Platform Transparency"})]}),t.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"This platform features both live community features and sample data demonstrations. All sample content is clearly labeled. Admin access enables real content creation and community management."})]})]})]})}),_&&t.jsx(Ui,{onAuthenticated:Tr,onCancel:Ar,requiredAction:_e}),H&&t.jsx(co,{onClose:()=>w(!1)})]})]})}const We=document.getElementById("root");if(!We)throw new Error("Root element not found - Liberation platform cannot initialize");We.setAttribute("data-liberation-platform","true");We.setAttribute("data-creator-sovereignty","75-percent");We.setAttribute("data-community-governance","democratic");We.setAttribute("data-trauma-informed","true");const uo=Lt.createRoot(We);class go extends Qt.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?t.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold mb-4",children:"BLKOUT Liberation Platform"}),t.jsx("p",{className:"text-gray-400",children:"Platform initializing..."}),t.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded",onClick:()=>window.location.reload(),children:"Reload"})]})}):this.props.children}}uo.render(t.jsx(Qt.StrictMode,{children:t.jsx(go,{children:t.jsx(ho,{})})}))});export default mo();
