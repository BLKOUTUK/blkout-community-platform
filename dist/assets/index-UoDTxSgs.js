var rt=Object.defineProperty,nt=Object.defineProperties;var ot=Object.getOwnPropertyDescriptors;var pe=Object.getOwnPropertySymbols;var Fe=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable;var Ce=(a,t,s)=>t in a?rt(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,I=(a,t)=>{for(var s in t||(t={}))Fe.call(t,s)&&Ce(a,s,t[s]);if(pe)for(var s of pe(t))$e.call(t,s)&&Ce(a,s,t[s]);return a},P=(a,t)=>nt(a,ot(t));var ye=(a,t)=>{var s={};for(var i in a)Fe.call(a,i)&&t.indexOf(i)<0&&(s[i]=a[i]);if(a!=null&&pe)for(var i of pe(a))t.indexOf(i)<0&&$e.call(a,i)&&(s[i]=a[i]);return s};var lt=(a,t)=>()=>(t||a((t={exports:{}}).exports,t),t.exports);var de=(a,t,s)=>Ce(a,typeof t!="symbol"?t+"":t,s);var C=(a,t,s)=>new Promise((i,r)=>{var n=b=>{try{l(s.next(b))}catch(j){r(j)}},o=b=>{try{l(s.throw(b))}catch(j){r(j)}},l=b=>b.done?i(b.value):Promise.resolve(b.value).then(n,o);l((s=s.apply(a,t)).next())});import{j as e,S as re,E as Je,a as me,L as Ue,P as ct,b as be,V as dt,c as Ee,U as Ie,d as we,F as Ne,C as Z,T as mt,X as xe,e as xt,G as Qe,f as ut,g as J,M as Me,h as ht,i as ge,k as Q,B as Ae,l as Be,m as gt,n as bt,o as pt,p as He,K as yt,q as vt,r as ft,s as $,t as Oe,u as jt,v as Le,D as Xe,H as V,w as wt,x as Nt,y as ee,A as Ze,z as _e,I as ke,J as ce,Z as kt,N as K,O as he,Q as et,R as St,W as Ct,Y as At,_ as Tt,$ as tt,a0 as Rt,a1 as Et,a2 as It,a3 as ie,a4 as Ot}from"./vendor-ui-D4vtjpMO.js";import{a as Lt,r as u,R as ae}from"./vendor-react-D-fuy27A.js";import{t as _t,c as st}from"./vendor-utils-6gDWDllp.js";import{m as B,A as Dt}from"./vendor-other-B6-IcdEZ.js";import{c as Se}from"./vendor-api-FQpWdcwn.js";var As=lt(M=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();var De={},ze=Lt;De.createRoot=ze.createRoot,De.hydrateRoot=ze.hydrateRoot;function _(...a){return _t(st(a))}const X={panAfrican:{red:"text-liberation-red-liberation bg-liberation-red-liberation",green:"text-liberation-green-africa bg-liberation-green-africa"},pride:{pink:"text-liberation-pride-pink bg-liberation-pride-pink",purple:"text-liberation-pride-purple bg-liberation-pride-purple"},healing:{sage:"text-liberation-healing-sage bg-liberation-healing-sage",lavender:"text-liberation-healing-lavender bg-liberation-healing-lavender"},economic:{sovereignty:"text-liberation-sovereignty-gold bg-liberation-sovereignty-gold"}},Pt={formatDate:a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),formatDateTime:a=>new Date(a).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}),isDatePast:a=>new Date(a)<new Date,getDaysUntil:a=>{const t=new Date,i=new Date(a).getTime()-t.getTime();return Math.ceil(i/(1e3*60*60*24))}},ve={getContrastClass:a=>{switch(a){case"light":return"text-gray-900";case"medium":return"text-white";case"dark":return"text-white";default:return"text-gray-900"}},getTouchFriendlySize:a=>{switch(a){case"small":return"min-h-[44px] min-w-[44px] p-2";case"medium":return"min-h-[48px] min-w-[48px] p-3";case"large":return"min-h-[56px] min-w-[56px] p-4";default:return"min-h-[48px] min-w-[48px] p-3"}}},F={getGentleAnimation:a=>{switch(a){case"fade":return"animate-gentle-fade";case"slide":return"animate-soft-slide";case"celebration":return"animate-celebration";default:return""}},getSafeTransition:a=>{switch(a){case"fast":return"transition-all duration-200 ease-in-out";case"medium":return"transition-all duration-300 ease-in-out";case"slow":return"transition-all duration-500 ease-in-out";default:return"transition-all duration-300 ease-in-out"}},getGentleHover:()=>"hover:scale-[1.02] hover:shadow-sm transition-transform duration-200 ease-out"};function Ut({onAuthenticated:a,onCancel:t,requiredAction:s}){const[i,r]=u.useState(""),[n,o]=u.useState(""),[l,b]=u.useState(!1),[j,w]=u.useState(!1),[v,c]=u.useState(""),A=8*60*60*1e3,g={admin:"blkOUT2025!",moderator:"blkOUT2025!"},E=f=>C(this,null,function*(){f.preventDefault(),w(!0),c("");try{const m=i==="admin"&&n===g.admin,p=i==="moderator"&&n===g.moderator;if(!m&&!p)throw new Error("Invalid credentials. Access denied to moderation system.");const y={isAuthenticated:!0,expiresAt:new Date().getTime()+A,role:m?"admin":"moderator",username:i};localStorage.setItem("liberation_admin_session",JSON.stringify(y)),console.log(`✅ ${y.role} access granted for moderation system`),yield new Promise(d=>setTimeout(d,1e3)),a()}catch(m){c(m instanceof Error?m.message:"Authentication failed"),console.error("🚨 Admin authentication failed:",m)}finally{w(!1)}}),x=()=>{r(""),o(""),c(""),t()};return e.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-900 border-4 border-liberation-sovereignty-gold rounded-2xl p-8 max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-liberation-sovereignty-gold rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(re,{className:"h-8 w-8 text-gray-900"})}),e.jsx("h2",{className:"text-2xl font-black text-liberation-sovereignty-gold mb-2",children:"MODERATION ACCESS"}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Authentication required for: ",s]})]}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-bold text-gray-300 mb-2",children:"Username"}),e.jsx("input",{id:"username",type:"text",value:i,onChange:f=>r(f.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-liberation-sovereignty-gold focus:outline-none",placeholder:"Enter email address",required:!0,disabled:j})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-gray-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:l?"text":"password",value:n,onChange:f=>o(f.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 pr-12 text-white focus:border-liberation-sovereignty-gold focus:outline-none",placeholder:"Enter secure password",required:!0,disabled:j}),e.jsx("button",{type:"button",onClick:()=>b(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-liberation-sovereignty-gold",disabled:j,children:l?e.jsx(Je,{className:"h-5 w-5"}):e.jsx(me,{className:"h-5 w-5"})})]})]}),v&&e.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-3 text-red-400 text-sm",children:v}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:j||!i||!n,className:"flex-1 bg-liberation-sovereignty-gold hover:bg-liberation-sovereignty-gold/90 text-gray-900 py-3 px-6 rounded-lg font-bold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:j?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-gray-900 border-t-transparent rounded-full animate-spin mr-2"}),"Authenticating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Authenticate"]})}),e.jsx("button",{type:"button",onClick:x,disabled:j,className:"px-6 py-3 border-2 border-gray-600 text-gray-300 hover:border-liberation-sovereignty-gold hover:text-liberation-sovereignty-gold rounded-lg font-bold transition-all duration-300 disabled:opacity-50",children:"Cancel"})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-liberation-sovereignty-gold/10 border border-liberation-sovereignty-gold/20 rounded-lg",children:[e.jsx("h4",{className:"text-liberation-sovereignty-gold font-bold text-sm mb-2",children:"Moderation Principles"}),e.jsxs("div",{className:"text-gray-400 text-xs space-y-1",children:[e.jsx("div",{children:"• Community protection and trauma-informed moderation"}),e.jsx("div",{children:"• Creator sovereignty and community consent"}),e.jsx("div",{children:"• Liberation-focused content curation"})]})]})]})})}const Mt=()=>{try{const a=localStorage.getItem("liberation_admin_session");if(a){const t=JSON.parse(a);if(t.isAuthenticated&&new Date().getTime()<t.expiresAt)return{isAuthenticated:!0,role:t.role};localStorage.removeItem("liberation_admin_session")}}catch(a){console.error("Auth check failed:",a),localStorage.removeItem("liberation_admin_session")}return{isAuthenticated:!1}};u.createContext(void 0);const Bt=()=>{const[a,t]=u.useState(null),[s,i]=u.useState(!0),[r,n]=u.useState(null);u.useEffect(()=>{C(M,null,function*(){try{const v=localStorage.getItem("blkout_admin_token");if(v){const c=yield Ht(v);t(c)}}catch(v){console.error("Auth check error:",v),localStorage.removeItem("blkout_admin_token")}finally{i(!1)}})},[]);const o=(w,v)=>C(M,null,function*(){try{if(i(!0),n(null),!w||!v)throw new Error("Email and password are required");if(v!=="blkOUT2025!")throw new Error("Invalid password. Please check your credentials.");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w))throw new Error("Please enter a valid email address.");const g={id:`admin-${Date.now()}`,name:w.split("@")[0].replace(/[._-]/g," ").trim(),email:w.toLowerCase(),role:"admin",permissions:["moderate_content","manage_curators","view_analytics","manage_extensions","train_ivor"]};yield new Promise(x=>setTimeout(x,500));const E=`blkout_token_${Date.now()}_${btoa(w)}`;localStorage.setItem("blkout_admin_token",E),localStorage.setItem("blkout_user_data",JSON.stringify(g)),t(g)}catch(c){const A=c instanceof Error?c.message:"Authentication failed";throw n(A),console.error("Sign in error:",c),c}finally{i(!1)}}),l=()=>{localStorage.removeItem("blkout_admin_token"),localStorage.removeItem("blkout_user_data"),t(null)},b=(a==null?void 0:a.role)==="admin",j=(a==null?void 0:a.role)==="curator"||b;return{user:a,isAdmin:b,isCurator:j,signIn:o,signOut:l,loading:s,error:r}},Ht=a=>C(M,null,function*(){const t=localStorage.getItem("blkout_user_data");if(t)return JSON.parse(t);throw new Error("Invalid token")}),Ft="https://api.blkoutcollective.org/v1/community";class $t{constructor(t=Ft){de(this,"baseURL");this.baseURL=t}getLiberationDashboard(){return C(this,null,function*(){const t=yield this.fetchFromAPIGateway("/liberation-dashboard");return this.validateLiberationJourneyResponse(t)})}getCreatorDashboard(){return C(this,null,function*(){const t=yield this.fetchFromAPIGateway("/creator-dashboard");return this.validateCreatorSovereigntyResponse(t)})}getGovernanceDashboard(){return C(this,null,function*(){const t=yield this.fetchFromAPIGateway("/governance-dashboard");return this.validateGovernanceResponse(t)})}getCommunityProtection(){return C(this,null,function*(){const t=yield this.fetchFromAPIGateway("/community-protection");return this.validateProtectionResponse(t)})}submitVote(t){return C(this,null,function*(){const s=yield this.postToAPIGateway("/submit-vote",t);return this.validateVoteResult(s)})}submitProposal(t){return C(this,null,function*(){const s=yield this.postToAPIGateway("/submit-proposal",t);return this.validateProposalResult(s)})}fetchFromAPIGateway(t){return C(this,null,function*(){const s=`${this.baseURL}${t}`;try{const i=yield fetch(s,{method:"GET",headers:{"Content-Type":"application/json","X-Liberation-Layer":"frontend-presentation","X-API-Contract":"community-api-v1"},credentials:"include"});if(!i.ok)throw new Error(`API Gateway error: ${i.status} ${i.statusText}`);return yield i.json()}catch(i){throw console.error("Community API Gateway communication error:",i),new Error("Unable to connect to community services")}})}postToAPIGateway(t,s){return C(this,null,function*(){const i=`${this.baseURL}${t}`;try{const r=yield fetch(i,{method:"POST",headers:{"Content-Type":"application/json","X-Liberation-Layer":"frontend-presentation","X-API-Contract":"community-api-v1"},credentials:"include",body:JSON.stringify(s)});if(!r.ok)throw new Error(`API Gateway error: ${r.status} ${r.statusText}`);return yield r.json()}catch(r){throw console.error("Community API Gateway communication error:",r),new Error("Unable to submit to community services")}})}validateLiberationJourneyResponse(t){if(!t||typeof t!="object")throw new Error("Invalid liberation journey data received");return{currentStage:t.currentStage||"discovering",progressPercentage:Math.min(100,Math.max(0,t.progressPercentage||0)),celebrationMoments:Array.isArray(t.celebrationMoments)?t.celebrationMoments:[],nextMilestones:Array.isArray(t.nextMilestones)?t.nextMilestones:[]}}validateCreatorSovereigntyResponse(t){if(!t||typeof t!="object")throw new Error("Invalid creator sovereignty data received");const s=t.revenueTransparency||{},i=s.creatorShare||0;return i<.75&&console.warn("Creator sovereignty violation: Share below 75% minimum"),{creatorId:t.creatorId||"",revenueTransparency:{creatorShare:i,totalRevenue:s.totalRevenue||"0.00",creatorEarnings:s.creatorEarnings||"0.00",platformShare:s.platformShare||"0.00",communityBenefit:s.communityBenefit||"0.00",lastUpdated:s.lastUpdated||new Date().toISOString()},contentOwnership:t.contentOwnership||{hasFullEditorialControl:!1,hasContentRemovalRights:!1,hasAttributionControl:!1,hasDistributionControl:!1,licenseType:"Unknown"},narrativeAuthority:t.narrativeAuthority||{canControlPresentation:!1,canModifyHeadlines:!1,canControlImagery:!1,canControlTags:!1,canControlPromotion:!1}}}validateGovernanceResponse(t){if(!t||typeof t!="object")throw new Error("Invalid governance data received");const s=t.votingRights||{};return(s.voteWeight||1)!==1&&console.warn("Democratic governance violation: Vote weight not equal to 1"),{votingRights:{canVote:s.canVote||!1,canPropose:s.canPropose||!1,canModerate:s.canModerate||!1,voteWeight:1,participationLevel:s.participationLevel||"observer"},activeProposals:Array.isArray(t.activeProposals)?t.activeProposals:[],votingHistory:Array.isArray(t.votingHistory)?t.votingHistory:[],consensusParticipation:Array.isArray(t.consensusParticipation)?t.consensusParticipation:[]}}validateProtectionResponse(t){if(!t||typeof t!="object")throw new Error("Invalid community protection data received");return{safetySettings:t.safetySettings||{contentWarningsEnabled:!0,communityModerationLevel:"standard",crisisResourcesVisible:!0,supportNetworkConnected:!1,reportingEnabled:!0},traumaInformedSettings:t.traumaInformedSettings||{gentleAnimations:!0,softTransitions:!0,contentPreview:!0,consentBeforeAction:!0,easyExit:!0,supportResourcesIntegrated:!1},accessibilitySettings:t.accessibilitySettings||{screenReaderOptimized:!1,highContrastMode:!1,textScaling:100,keyboardNavigationOnly:!1,reducedMotion:!1,colorBlindFriendly:!1},communityGuidelines:t.communityGuidelines||{title:"Community Guidelines",summary:"Community-controlled guidelines for safe participation",lastUpdated:new Date().toISOString(),communityApproved:!1,enforcementLevel:"community",reportingProcess:"Community-driven restorative justice process"}}}validateVoteResult(t){return{success:t.success||!1,message:t.message||"Vote submission result unknown",proposalStatus:t.proposalStatus||"pending"}}validateProposalResult(t){return{success:t.success||!1,proposalId:t.proposalId||"",message:t.message||"Proposal submission result unknown",reviewDate:t.reviewDate||new Date().toISOString()}}submitStoryFromExtension(t){return C(this,null,function*(){const s=yield this.postToAPIGateway("/story-submissions",P(I({},t),{submittedVia:"chrome-extension",submittedAt:new Date().toISOString()}));return this.validateStorySubmissionResult(s)})}submitEventFromExtension(t){return C(this,null,function*(){const s=yield this.postToAPIGateway("/event-submissions",P(I({},t),{submittedVia:"chrome-extension",submittedAt:new Date().toISOString()}));return this.validateEventSubmissionResult(s)})}getModerationQueue(t){return C(this,null,function*(){const s=t?`/moderation-queue?curatorId=${t}`:"/moderation-queue",i=yield this.fetchFromAPIGateway(s);return this.validateModerationQueueResponse(i)})}updateStoryRating(t,s,i){return C(this,null,function*(){const r=yield this.postToAPIGateway("/story-ratings",{storyId:t,interestLevel:s,userId:i,ratedAt:new Date().toISOString()});return this.validateRatingResult(r)})}updateEventRating(t,s,i){return C(this,null,function*(){const r=yield this.postToAPIGateway("/event-ratings",P(I({eventId:t},s),{userId:i,ratedAt:new Date().toISOString()}));return this.validateEventRatingResult(r)})}getStoryArchive(t){return C(this,null,function*(){const s=new URLSearchParams;t&&Object.entries(t).forEach(([n,o])=>{o!==void 0&&(Array.isArray(o)?o.forEach(l=>s.append(n,l)):s.append(n,o.toString()))});const i=`/story-archive${s.toString()?`?${s.toString()}`:""}`,r=yield this.fetchFromAPIGateway(i);return this.validateStoryArchiveResponse(r)})}getNewsArticles(t){return C(this,null,function*(){const s=new URLSearchParams;t&&Object.entries(t).forEach(([n,o])=>{o!==void 0&&s.append(n,o.toString())});const i=`/news-articles${s.toString()?`?${s.toString()}`:""}`,r=yield this.fetchFromAPIGateway(i);return this.validateNewsArticlesResponse(r)})}validateStorySubmissionResult(t){return{success:t.success||!1,id:t.id||void 0,message:t.message||"Story submission result unknown"}}validateEventSubmissionResult(t){return{success:t.success||!1,id:t.id||void 0,message:t.message||"Event submission result unknown"}}validateEventRatingResult(t){return{success:t.success||!1,ratingId:t.ratingId||"",aggregateRating:Math.min(5,Math.max(0,t.aggregateRating||0)),totalRatings:Math.max(0,t.totalRatings||0)}}validateModerationQueueResponse(t){var s,i,r;return{submissions:Array.isArray(t.submissions)?t.submissions:[],stats:{totalPending:((s=t.stats)==null?void 0:s.totalPending)||0,yourSubmissions:((i=t.stats)==null?void 0:i.yourSubmissions)||0,approvalRate:((r=t.stats)==null?void 0:r.approvalRate)||0}}}validateRatingResult(t){return{success:t.success||!1,newInterestScore:Math.min(100,Math.max(0,t.newInterestScore||0)),totalVotes:Math.max(0,t.totalVotes||0)}}validateStoryArchiveResponse(t){var s,i,r,n;return{articles:Array.isArray(t.articles)?t.articles:[],pagination:{total:Math.max(0,((s=t.pagination)==null?void 0:s.total)||0),limit:Math.max(1,((i=t.pagination)==null?void 0:i.limit)||20),offset:Math.max(0,((r=t.pagination)==null?void 0:r.offset)||0),hasMore:((n=t.pagination)==null?void 0:n.hasMore)||!1}}}validateNewsArticlesResponse(t){var s,i,r,n;return{articles:Array.isArray(t.articles)?t.articles:[],featured:t.featured||void 0,pagination:{total:Math.max(0,((s=t.pagination)==null?void 0:s.total)||0),limit:Math.max(1,((i=t.pagination)==null?void 0:i.limit)||20),offset:Math.max(0,((r=t.pagination)==null?void 0:r.offset)||0),hasMore:((n=t.pagination)==null?void 0:n.hasMore)||!1}}}}class zt extends $t{getHeaders(){return{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("blkout_admin_token")}`,"X-Liberation-Layer":"admin-interface"}}getEventModerationQueue(){return C(this,null,function*(){try{const t=yield fetch(`${this.baseURL}/admin/events/moderation-queue`,{headers:this.getHeaders()});if(!t.ok)throw new Error(`Failed to fetch event moderation queue: ${t.statusText}`);return yield t.json()}catch(t){return console.error("Event moderation queue fetch error:",t),[{id:"event-001",title:"Black Queer Youth Mental Health Workshop",submittedBy:"community_organizer_001",submittedAt:"2024-01-15T10:00:00Z",category:"education",type:"hybrid",date:"2024-02-01T18:00:00Z",description:"Trauma-informed mental health workshop specifically designed for Black queer youth.",organizer:"Liberation Mental Health Collective",status:"pending"},{id:"event-002",title:"Community Mutual Aid Distribution",submittedBy:"mutual_aid_coord",submittedAt:"2024-01-14T15:30:00Z",category:"mutual-aid",type:"in-person",date:"2024-01-25T14:00:00Z",description:"Weekly food and resource distribution for community members in need.",organizer:"BLKOUT Mutual Aid Network",status:"pending"}]}})}approveEventForCalendar(t){return C(this,null,function*(){try{const s=yield fetch(`${this.baseURL}/admin/events/${t}/approve`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify({action:"approve_to_calendar"})});if(!s.ok)throw new Error(`Failed to approve event: ${s.statusText}`)}catch(s){throw console.error("Event approval error:",s),s}})}rejectEvent(t){return C(this,null,function*(){try{const s=yield fetch(`${this.baseURL}/admin/events/${t}/reject`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify({action:"reject"})});if(!s.ok)throw new Error(`Failed to reject event: ${s.statusText}`)}catch(s){throw console.error("Event rejection error:",s),s}})}submitSingleEvent(t){return C(this,null,function*(){try{const s=yield fetch(`${this.baseURL}/admin/events/submit`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(t)});if(!s.ok)throw new Error(`Failed to submit event: ${s.statusText}`)}catch(s){throw console.error("Single event submission error:",s),s}})}submitBulkEvents(t){return C(this,null,function*(){try{const s=yield fetch(`${this.baseURL}/admin/events/bulk-submit`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(t)});if(!s.ok)throw new Error(`Failed to submit bulk events: ${s.statusText}`)}catch(s){throw console.error("Bulk events submission error:",s),s}})}getAdminStats(){return C(this,null,function*(){try{const t=yield fetch(`${this.baseURL}/admin/stats`,{headers:this.getHeaders()});if(!t.ok)throw new Error(`Failed to fetch admin stats: ${t.statusText}`);return yield t.json()}catch(t){return console.error("Admin stats fetch error:",t),{pendingStories:12,approvedToday:8,totalCurators:45,weeklySubmissions:28}}})}approveStoryForNewsroom(t){return C(this,null,function*(){try{const s=yield fetch(`${this.baseURL}/admin/stories/${t}/approve`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify({action:"approve_to_newsroom"})});if(!s.ok)throw new Error(`Failed to approve story: ${s.statusText}`)}catch(s){throw console.error("Story approval error:",s),s}})}rejectStory(t){return C(this,null,function*(){try{const s=yield fetch(`${this.baseURL}/admin/stories/${t}/reject`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify({action:"reject"})});if(!s.ok)throw new Error(`Failed to reject story: ${s.statusText}`)}catch(s){throw console.error("Story rejection error:",s),s}})}submitSingleStory(t){return C(this,null,function*(){try{const s=yield fetch(`${this.baseURL}/admin/stories/submit`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(t)});if(!s.ok)throw new Error(`Failed to submit story: ${s.statusText}`)}catch(s){throw console.error("Single story submission error:",s),s}})}}const W=new zt,Ve=a=>typeof a=="boolean"?`${a}`:a===0?"0":a,Ge=st,Vt=(a,t)=>s=>{var i;if((t==null?void 0:t.variants)==null)return Ge(a,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:r,defaultVariants:n}=t,o=Object.keys(r).map(j=>{const w=s==null?void 0:s[j],v=n==null?void 0:n[j];if(w===null)return null;const c=Ve(w)||Ve(v);return r[j][c]}),l=s&&Object.entries(s).reduce((j,w)=>{let[v,c]=w;return c===void 0||(j[v]=c),j},{}),b=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((j,w)=>{let g=w,{class:v,className:c}=g,A=ye(g,["class","className"]);return Object.entries(A).every(E=>{let[x,f]=E;return Array.isArray(f)?f.includes(I(I({},n),l)[x]):I(I({},n),l)[x]===f})?[...j,v,c]:j},[]);return Ge(a,o,b,s==null?void 0:s.class,s==null?void 0:s.className)},Gt=Vt(_("inline-flex items-center justify-center rounded-md text-sm font-medium","ring-offset-white transition-colors focus-visible:outline-none","focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50",ve.getTouchFriendlySize("medium"),F.getSafeTransition("medium"),"font-liberation"),{variants:{variant:{"creator-sovereignty":_(X.economic.sovereignty,"hover:bg-liberation-sovereignty-gold/90 text-liberation-black-power","border-2 border-liberation-sovereignty-gold",F.getGentleHover()),"democratic-governance":_(X.pride.purple,"hover:bg-liberation-pride-purple/90 text-white","border-2 border-liberation-pride-purple",F.getGentleHover()),"community-protection":_(X.healing.sage,"hover:bg-liberation-healing-sage/90 text-liberation-black-power","border-2 border-liberation-healing-sage",F.getGentleHover()),"black-queer-joy":_(X.pride.pink,"hover:bg-liberation-pride-pink/90 text-liberation-black-power","border-2 border-liberation-pride-pink",F.getGentleAnimation("celebration")),"anti-oppression":_(X.panAfrican.red,"hover:bg-liberation-red-liberation/90 text-white","border-2 border-liberation-red-liberation",F.getGentleHover()),"community-healing":_(X.healing.lavender,"hover:bg-liberation-healing-lavender/90 text-liberation-black-power","border-2 border-liberation-healing-lavender",F.getGentleHover()),"organizing-action":_(X.panAfrican.green,"hover:bg-liberation-green-africa/90 text-white","border-2 border-liberation-green-africa",F.getGentleHover()),secondary:_("bg-slate-100 text-slate-900 hover:bg-slate-100/80","border-2 border-slate-200",F.getGentleHover()),ghost:_("hover:bg-slate-100 hover:text-slate-900","border-2 border-transparent",F.getGentleHover()),destructive:_("bg-red-500 text-slate-50 hover:bg-red-500/90","border-2 border-red-500","focus-visible:ring-red-500",F.getGentleHover())},size:{sm:ve.getTouchFriendlySize("small"),md:ve.getTouchFriendlySize("medium"),lg:ve.getTouchFriendlySize("large"),icon:"h-10 w-10 min-h-[44px] min-w-[44px]"},traumaInformed:{true:_("hover:scale-[1.01] active:scale-[0.99]",F.getSafeTransition("slow"),"focus-visible:ring-offset-4 focus-visible:ring-opacity-50"),false:""},joyLevel:{gentle:"",moderate:F.getGentleAnimation("fade"),celebration:_(F.getGentleAnimation("celebration"),"hover:animate-pulse")}},defaultVariants:{variant:"secondary",size:"md",traumaInformed:!0,joyLevel:"gentle"}}),q=ae.forwardRef((d,y)=>{var k=d,{className:a,variant:t,size:s,traumaInformed:i=!0,joyLevel:r="gentle",liberationContext:n,communityRole:o,requiresConfirmation:l=!1,confirmationText:b,gentleInteraction:j=!0,celebratesJoy:w=!1,panAfricanColors:v=!1,prideColors:c=!1,loading:A=!1,loadingText:g="Processing...",ariaDescription:E,screenReaderText:x,children:f,onClick:m}=k,p=ye(k,["className","variant","size","traumaInformed","joyLevel","liberationContext","communityRole","requiresConfirmation","confirmationText","gentleInteraction","celebratesJoy","panAfricanColors","prideColors","loading","loadingText","ariaDescription","screenReaderText","children","onClick"]);const h=N=>{if(l&&b&&!window.confirm(b)){N.preventDefault();return}m&&m(N)},S=()=>v&&c?"bg-gradient-to-r from-liberation-red-liberation via-liberation-pride-purple to-liberation-green-africa":v?"border-l-4 border-liberation-red-liberation border-r-4 border-r-liberation-green-africa":c?"border-l-4 border-liberation-pride-pink border-r-4 border-r-liberation-pride-blue":"",T=()=>w?_("relative overflow-hidden","before:absolute before:inset-0 before:bg-gradient-to-r","before:from-liberation-pride-pink/10 before:to-liberation-pride-yellow/10","before:opacity-0 hover:before:opacity-100 before:transition-opacity"):"";return e.jsxs("button",P(I({className:_(Gt({variant:t,size:s,traumaInformed:i,joyLevel:r}),S(),T(),a),ref:y,onClick:h,disabled:A||p.disabled,"aria-description":E,"data-liberation-context":n,"data-community-role":o,"data-trauma-informed":i,"data-celebrates-joy":w},p),{children:[A&&e.jsx("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent","aria-hidden":"true"}),x&&e.jsx("span",{className:"sr-only",children:x}),e.jsx("span",{className:_(A&&"opacity-70"),children:A?g:f})]}))});q.displayName="LiberationButton";const te=({title:a,subtitle:t,description:s,videos:i,textColor:r="light",overlayOpacity:n=.6,height:o="lg",className:l,children:b})=>{const[j,w]=u.useState(0),[v,c]=u.useState(!0),[A,g]=u.useState(!0),[E,x]=u.useState([]);u.useEffect(()=>{if(i.length<=1)return;const k=setInterval(()=>{w(h=>(h+1)%i.length)},8e3);return()=>clearInterval(k)},[i.length]),u.useEffect(()=>{x(new Array(i.length).fill(null))},[i.length]);const f=k=>h=>{x(S=>{const T=[...S];return T[k]=h,T})},m=()=>{const k=E[j];k&&(v?k.pause():k.play(),c(!v))},p=()=>{E.forEach(k=>{k&&(k.muted=!A)}),g(!A)},y={sm:"h-64 md:h-80",md:"h-80 md:h-96",lg:"h-96 md:h-[32rem]",xl:"h-[32rem] md:h-[40rem]"},d={light:"text-liberation-silver",dark:"text-liberation-black-power"};return e.jsxs("div",{className:_("relative overflow-hidden rounded-xl",y[o],l),children:[e.jsx("div",{className:"absolute inset-0",children:i.map((k,h)=>e.jsxs(B.video,{ref:f(h),className:"absolute inset-0 w-full h-full object-cover",autoPlay:!0,muted:A,loop:!0,playsInline:!0,initial:{opacity:0},animate:{opacity:h===j?1:0,scale:h===j?1:1.1},transition:{duration:1.5,ease:"easeInOut"},onLoadedData:()=>{const S=E[h];S&&h===j&&v&&S.play()},"aria-label":`Background video ${h+1} of ${i.length}`,children:[e.jsx("source",{src:k,type:"video/mp4"}),"Your browser does not support the video tag."]},k))}),e.jsx("div",{className:"absolute inset-0 bg-liberation-black-power",style:{opacity:n},"aria-hidden":"true"}),e.jsx("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-center px-4 md:px-8 z-10",children:e.jsxs(B.div,{className:"max-w-4xl mx-auto",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.5},children:[e.jsx("h1",{className:_("text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black mb-4 md:mb-6","leading-tight tracking-tight",r==="light"?"text-liberation-gold-divine":"text-liberation-black-power","drop-shadow-2xl"),children:a}),t&&e.jsx(B.h2,{className:_("text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold mb-3 md:mb-4","uppercase tracking-wider",d[r],"drop-shadow-lg"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1,delay:.7},children:t}),s&&e.jsx(B.p,{className:_("text-base sm:text-lg md:text-xl lg:text-2xl mb-6 md:mb-8","leading-relaxed max-w-3xl mx-auto",d[r],"drop-shadow-md"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1,delay:.9},children:s}),b&&e.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1,delay:1.1},children:b})]})}),e.jsxs("div",{className:"absolute bottom-4 right-4 flex space-x-2 z-20",children:[e.jsx("button",{onClick:m,className:"bg-liberation-black-power bg-opacity-70 text-liberation-silver p-2 rounded-full hover:bg-opacity-90 transition-colors backdrop-blur-sm","aria-label":v?"Pause video":"Play video",children:v?e.jsx(ct,{className:"h-4 w-4"}):e.jsx(be,{className:"h-4 w-4"})}),e.jsx("button",{onClick:p,className:"bg-liberation-black-power bg-opacity-70 text-liberation-silver p-2 rounded-full hover:bg-opacity-90 transition-colors backdrop-blur-sm","aria-label":A?"Unmute video":"Mute video",children:A?e.jsx(dt,{className:"h-4 w-4"}):e.jsx(Ee,{className:"h-4 w-4"})})]}),i.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2 z-20",children:i.map((k,h)=>e.jsx("button",{onClick:()=>w(h),className:_("w-2 h-2 rounded-full transition-all duration-300",h===j?"bg-liberation-gold-divine scale-125":"bg-liberation-silver bg-opacity-50 hover:bg-opacity-80"),"aria-label":`Switch to video ${h+1}`},h))}),e.jsxs("div",{className:"sr-only",children:["Hero section with rotating background videos featuring ",a,".",i.length>1&&`Currently showing video ${j+1} of ${i.length}.`,"Video controls available in bottom right corner."]})]})},Wt=({curatorId:a,onSubmissionComplete:t,className:s})=>{const[i,r]=u.useState([]),[n,o]=u.useState(!1),[l,b]=u.useState(null),j=()=>{const x={id:`story_${Date.now()}`,title:"",excerpt:"",originalUrl:"",sourceName:"",category:"community",tags:[],contentType:"article",status:"draft"};r(f=>[...f,x])},w=x=>{r(f=>f.filter(m=>m.id!==x))},v=(x,f)=>{r(m=>m.map(p=>p.id===x?I(I({},p),f):p))},c=(x,f)=>C(M,null,function*(){var m;if(f){v(x,{status:"submitting"});try{const p=new URL(f),y=p.hostname.replace("www.",""),d=p.pathname.split("/").filter(Boolean),k=((m=d[d.length-1])==null?void 0:m.replace(/-/g," "))||"Extracted Article";v(x,{originalUrl:f,sourceName:y.charAt(0).toUpperCase()+y.slice(1),title:k.charAt(0).toUpperCase()+k.slice(1),excerpt:`Content extracted from ${y}`,status:"draft"})}catch(p){v(x,{status:"error",errorMessage:"Invalid URL or extraction failed"})}}}),A=()=>C(M,null,function*(){if(i.length===0)return;o(!0),b(null);let x=0,f=0;for(const m of i)if(m.status!=="submitted"){v(m.id,{status:"submitting"});try{const p=yield W.submitStoryFromExtension({title:m.title,excerpt:m.excerpt,originalUrl:m.originalUrl,sourceName:m.sourceName,category:m.category,tags:m.tags,curatorId:a,contentType:m.contentType,eventData:m.eventData,extractedImages:m.extractedImages});p.success?(v(m.id,{status:"submitted"}),x++):(v(m.id,{status:"error",errorMessage:p.message}),f++)}catch(p){v(m.id,{status:"error",errorMessage:p instanceof Error?p.message:"Submission failed"}),f++}}b({successful:x,failed:f,total:i.length}),o(!1),t&&t(x)}),g=x=>{var p;const f=(p=x.target.files)==null?void 0:p[0];if(!f)return;const m=new FileReader;m.onload=y=>{var d;try{const k=(d=y.target)==null?void 0:d.result;let h=[];if(f.name.endsWith(".json"))h=JSON.parse(k);else if(f.name.endsWith(".csv")){const T=k.split(`
`),N=T[0].split(",").map(O=>O.trim());h=T.slice(1).map(O=>{const D=O.split(",").map(U=>U.trim()),R={};return N.forEach((U,Y)=>{R[U]=D[Y]||""}),R})}const S=h.map((T,N)=>({id:`imported_${Date.now()}_${N}`,title:T.title||T.Title||"",excerpt:T.excerpt||T.Excerpt||T.description||"",originalUrl:T.url||T.URL||T.originalUrl||"",sourceName:T.source||T.Source||T.sourceName||"",category:T.category||T.Category||"community",tags:typeof T.tags=="string"?T.tags.split(",").map(O=>O.trim()):[],contentType:T.contentType||"article",status:"draft"}));r(T=>[...T,...S])}catch(k){console.error("Import failed:",k)}},m.readAsText(f)},E=(x,f)=>{var m,p,y;return e.jsxs("div",{className:_("p-6 rounded-lg border-2 transition-all duration-200",x.status==="submitted"?"border-green-200 bg-green-50":x.status==="error"?"border-red-200 bg-red-50":x.status==="submitting"?"border-yellow-200 bg-yellow-50":"border-gray-200 bg-white hover:border-liberation-pride-purple/30"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Story #",f+1]}),x.status==="submitted"&&e.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Submitted"})]}),x.status==="error"&&e.jsxs("div",{className:"flex items-center space-x-1 text-red-600",children:[e.jsx(mt,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Error"})]}),x.status==="submitting"&&e.jsxs("div",{className:"flex items-center space-x-1 text-yellow-600",children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),e.jsx("span",{className:"text-sm",children:"Submitting..."})]})]}),e.jsx(q,{variant:"danger",size:"sm",onClick:()=>w(x.id),disabled:x.status==="submitting",children:e.jsx(xe,{className:"h-4 w-4"})})]}),x.status==="error"&&x.errorMessage&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-200 rounded text-red-700 text-sm",children:x.errorMessage}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(xt,{className:"h-4 w-4 inline mr-1"}),"Article URL"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"url",value:x.originalUrl,onChange:d=>v(x.id,{originalUrl:d.target.value}),onBlur:()=>c(x.id,x.originalUrl),placeholder:"https://example.com/article",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-liberation-pride-purple",disabled:x.status==="submitting"}),e.jsx(q,{variant:"secondary",size:"sm",onClick:()=>c(x.id,x.originalUrl),disabled:!x.originalUrl||x.status==="submitting",children:"Extract"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Ne,{className:"h-4 w-4 inline mr-1"}),"Title"]}),e.jsx("input",{type:"text",value:x.title,onChange:d=>v(x.id,{title:d.target.value}),placeholder:"Article title",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-liberation-pride-purple",disabled:x.status==="submitting"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Qe,{className:"h-4 w-4 inline mr-1"}),"Source"]}),e.jsx("input",{type:"text",value:x.sourceName,onChange:d=>v(x.id,{sourceName:d.target.value}),placeholder:"Publication name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-liberation-pride-purple",disabled:x.status==="submitting"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Excerpt/Summary"}),e.jsx("textarea",{value:x.excerpt,onChange:d=>v(x.id,{excerpt:d.target.value}),placeholder:"Brief description of the article content",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-liberation-pride-purple",disabled:x.status==="submitting"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:x.category,onChange:d=>v(x.id,{category:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-liberation-pride-purple",disabled:x.status==="submitting",children:[e.jsx("option",{value:"community",children:"Community"}),e.jsx("option",{value:"liberation",children:"Liberation"}),e.jsx("option",{value:"culture",children:"Culture"}),e.jsx("option",{value:"politics",children:"Politics"}),e.jsx("option",{value:"health",children:"Health"}),e.jsx("option",{value:"economics",children:"Economics"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Type"}),e.jsxs("select",{value:x.contentType,onChange:d=>v(x.id,{contentType:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-liberation-pride-purple",disabled:x.status==="submitting",children:[e.jsx("option",{value:"article",children:"Article"}),e.jsx("option",{value:"event",children:"Event"}),e.jsx("option",{value:"story",children:"Story"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ut,{className:"h-4 w-4 inline mr-1"}),"Tags"]}),e.jsx("input",{type:"text",value:x.tags.join(", "),onChange:d=>v(x.id,{tags:d.target.value.split(",").map(k=>k.trim()).filter(Boolean)}),placeholder:"liberation, community, mutual-aid",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-liberation-pride-purple",disabled:x.status==="submitting"})]})]}),x.contentType==="event"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(J,{className:"h-4 w-4 inline mr-1"}),"Event Date"]}),e.jsx("input",{type:"datetime-local",value:((m=x.eventData)==null?void 0:m.date)||"",onChange:d=>v(x.id,{eventData:P(I({},x.eventData),{date:d.target.value})}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-liberation-pride-purple",disabled:x.status==="submitting"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Me,{className:"h-4 w-4 inline mr-1"}),"Location"]}),e.jsx("input",{type:"text",value:((p=x.eventData)==null?void 0:p.location)||"",onChange:d=>v(x.id,{eventData:P(I({},x.eventData),{location:d.target.value})}),placeholder:"Event location",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-liberation-pride-purple",disabled:x.status==="submitting"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ht,{className:"h-4 w-4 inline mr-1"}),"Capacity"]}),e.jsx("input",{type:"number",value:((y=x.eventData)==null?void 0:y.capacity)||"",onChange:d=>v(x.id,{eventData:P(I({},x.eventData),{capacity:parseInt(d.target.value)||void 0})}),placeholder:"Max attendees",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-liberation-pride-purple",disabled:x.status==="submitting"})]})]})]},x.id)};return e.jsxs("div",{className:_("space-y-8",s),children:[e.jsx(te,{title:"📚 BULK STORY SUBMISSION",subtitle:"Community curator content management",description:"Submit multiple stories, articles, and events efficiently. Help build our community knowledge base by curating content from across the liberation movement.",videos:["/videos/hero/PLATFORM HERO 1.mp4","/videos/hero/PLATFORM HERO 2.mp4","/videos/hero/PLATFORM HERO 3.mp4"],height:"md",textColor:"light",overlayOpacity:.8,className:"mb-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between p-6 bg-white rounded-lg border-2 border-liberation-pride-purple/20",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-liberation-pride-purple mb-2",children:"Story Submission Interface"}),e.jsx("p",{className:"text-gray-600",children:"Add stories individually or import from CSV/JSON files"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("input",{type:"file",accept:".csv,.json",onChange:g,className:"hidden",id:"import-file"}),e.jsx("label",{htmlFor:"import-file",children:e.jsxs(q,{variant:"secondary",size:"sm",as:"span",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Import CSV/JSON"]})}),e.jsxs(q,{variant:"community-engagement",size:"sm",onClick:j,children:[e.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Story"]})]})]}),i.length>0&&e.jsx("div",{className:"space-y-4",children:i.map((x,f)=>E(x,f))}),i.length===0&&e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[e.jsx(Ne,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Stories Added Yet"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Start by adding a story manually or importing from a CSV/JSON file."}),e.jsxs(q,{onClick:j,children:[e.jsx(we,{className:"h-4 w-4 mr-2"}),"Add Your First Story"]})]}),i.length>0&&e.jsx("div",{className:"p-6 bg-white rounded-lg border-2 border-liberation-pride-purple/20",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Ready to Submit ",i.length," ",i.length===1?"Story":"Stories"]}),e.jsx("p",{className:"text-gray-600",children:"All stories will be added to the moderation queue for review."})]}),e.jsx(q,{onClick:A,disabled:n||i.every(x=>x.status==="submitted"),size:"lg",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-current border-t-transparent rounded-full"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Submit All Stories"]})})]})}),l&&e.jsxs("div",{className:"p-6 bg-white rounded-lg border-2 border-liberation-pride-purple/20",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Submission Results"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.successful}),e.jsx("div",{className:"text-sm text-green-700",children:"Successfully Submitted"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.failed}),e.jsx("div",{className:"text-sm text-red-700",children:"Failed"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.total}),e.jsx("div",{className:"text-sm text-blue-700",children:"Total Stories"})]})]})]})]})]})},qt=({className:a,onFeedbackSubmitted:t})=>{const[s,i]=u.useState([]),[r,n]=u.useState(null),[o,l]=u.useState({}),[b,j]=u.useState(null),[w,v]=u.useState(!0),[c,A]=u.useState(!1),[g,E]=u.useState("feedback"),x=["health-information","crisis-support","resource-recommendations","community-connections","mental-health","identity-affirmation","safety-planning","advocacy-guidance","cultural-sensitivity","trauma-awareness","accessibility","intersectionality"];u.useEffect(()=>{f(),m()},[]);const f=()=>C(M,null,function*(){try{v(!0);const h=[{id:"int_001",timestamp:new Date(Date.now()-1e3*60*30).toISOString(),userQuery:"I'm feeling overwhelmed and need mental health resources in my area",ivorResponse:"I understand you're feeling overwhelmed. Here are some mental health resources that may help: [1] Crisis Text Line: Text HOME to 741741 [2] National Suicide Prevention Lifeline: 988 [3] Local community centers with sliding scale therapy. Would you like me to help you find specific resources in your location?",responseType:"support",context:"Mental health crisis support",sessionId:"sess_abc123"},{id:"int_002",timestamp:new Date(Date.now()-1e3*60*60*2).toISOString(),userQuery:"What are some Black-owned businesses I can support in my community?",ivorResponse:"Supporting Black-owned businesses is a powerful way to strengthen our community! I can help you find local Black-owned businesses. Could you share your city or zip code? I can then provide specific recommendations for restaurants, shops, services, and professional businesses in your area.",responseType:"recommendation",context:"Community economic support",sessionId:"sess_def456"},{id:"int_003",timestamp:new Date(Date.now()-1e3*60*60*6).toISOString(),userQuery:"How do I advocate for myself in healthcare settings?",ivorResponse:"Healthcare self-advocacy is crucial, especially for Black and LGBTQ+ individuals who face documented disparities. Here are key strategies: [1] Prepare questions in advance [2] Bring a support person if possible [3] Document everything [4] Know your rights to request different providers [5] Trust your instincts about your body. Would you like specific scripts for common healthcare situations?",responseType:"guidance",context:"Healthcare advocacy",sessionId:"sess_ghi789"}];i(h)}catch(h){console.error("Failed to load recent interactions:",h)}finally{v(!1)}}),m=()=>C(M,null,function*(){try{j({totalFeedback:1247,helpfulResponses:1089,accuracyAverage:4.2,commonIssues:[{category:"resource-outdated",frequency:23,examples:["Phone numbers no longer working","Websites not accessible","Services discontinued"]},{category:"tone-too-clinical",frequency:18,examples:["Sounds like a medical textbook","Not warm enough for crisis situations"]},{category:"missing-cultural-context",frequency:15,examples:["Didn't account for religious considerations","Missed intersectional identity factors"]}],improvementAreas:["Real-time resource verification","More conversational crisis support tone","Enhanced cultural competency responses","Better geographic specificity"],successPatterns:["Trauma-informed language consistently rated highly","Community resource recommendations well-received","Identity-affirming responses show strong positive feedback","Safety-first approach appreciated in crisis situations"]})}catch(h){console.error("Failed to load learning metrics:",h)}}),p=()=>C(M,null,function*(){if(!(!r||!o.rating))try{A(!0);const h={interactionId:r.id,rating:o.rating,accuracy:o.accuracy||3,relevance:o.relevance||3,tone:o.tone||"appropriate",suggestions:o.suggestions||"",categories:o.categories||[],learningPriority:o.learningPriority||"medium"};console.log("Submitting feedback for IVOR learning:",h),t&&t(h),l({}),n(null),yield m()}catch(h){console.error("Failed to submit feedback:",h)}finally{A(!1)}}),y=h=>e.jsxs("div",{className:_("p-4 rounded-lg border-2 cursor-pointer transition-all duration-200",(r==null?void 0:r.id)===h.id?"border-liberation-pride-purple bg-liberation-pride-purple/5":"border-gray-200 hover:border-liberation-pride-purple/30"),onClick:()=>n(h),children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:new Date(h.timestamp).toLocaleString()}),e.jsx("span",{className:_("text-xs px-2 py-1 rounded",h.responseType==="support"?"bg-red-100 text-red-700":h.responseType==="guidance"?"bg-blue-100 text-blue-700":h.responseType==="recommendation"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:h.responseType})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:"User Query:"}),e.jsx("div",{className:"text-sm text-gray-600 line-clamp-2",children:h.userQuery})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:"IVOR Response:"}),e.jsx("div",{className:"text-sm text-gray-600 line-clamp-3",children:h.ivorResponse})]})]},h.id),d=()=>r?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Providing Feedback For:"}),e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("strong",{children:"Query:"})," ",r.userQuery]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Response:"})," ",r.ivorResponse]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Overall Rating *"}),e.jsx("div",{className:"flex space-x-4",children:[{value:"helpful",icon:Be,label:"Helpful",color:"green"},{value:"not_helpful",icon:gt,label:"Not Helpful",color:"yellow"},{value:"harmful",icon:bt,label:"Potentially Harmful",color:"red"}].map(({value:h,icon:S,label:T,color:N})=>e.jsxs("button",{onClick:()=>l(O=>P(I({},O),{rating:h})),className:_("flex items-center space-x-2 px-4 py-2 rounded-lg border-2 transition-colors",o.rating===h?N==="green"?"border-green-500 bg-green-50 text-green-700":N==="yellow"?"border-yellow-500 bg-yellow-50 text-yellow-700":"border-red-500 bg-red-50 text-red-700":"border-gray-300 hover:border-gray-400"),children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:T})]},h))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accuracy (1-5)"}),e.jsx("input",{type:"range",min:"1",max:"5",value:o.accuracy||3,onChange:h=>l(S=>P(I({},S),{accuracy:parseInt(h.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Inaccurate"}),e.jsx("span",{children:o.accuracy||3}),e.jsx("span",{children:"Very Accurate"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relevance (1-5)"}),e.jsx("input",{type:"range",min:"1",max:"5",value:o.relevance||3,onChange:h=>l(S=>P(I({},S),{relevance:parseInt(h.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Irrelevant"}),e.jsx("span",{children:o.relevance||3}),e.jsx("span",{children:"Very Relevant"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Response Tone"}),e.jsxs("select",{value:o.tone||"appropriate",onChange:h=>l(S=>P(I({},S),{tone:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-liberation-pride-purple",children:[e.jsx("option",{value:"appropriate",children:"Appropriate and balanced"}),e.jsx("option",{value:"too_clinical",children:"Too clinical/medical"}),e.jsx("option",{value:"too_casual",children:"Too casual for situation"}),e.jsx("option",{value:"insensitive",children:"Culturally insensitive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relevant Categories (select all that apply)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:x.map(h=>{var S;return e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:((S=o.categories)==null?void 0:S.includes(h))||!1,onChange:T=>{const N=o.categories||[];T.target.checked?l(O=>P(I({},O),{categories:[...N,h]})):l(O=>P(I({},O),{categories:N.filter(D=>D!==h)}))},className:"rounded border-gray-300 text-liberation-pride-purple focus:ring-liberation-pride-purple"}),e.jsx("span",{className:"text-sm text-gray-700",children:h.replace("-"," ").replace(/\b\w/g,T=>T.toUpperCase())})]},h)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Suggestions for Improvement"}),e.jsx("textarea",{value:o.suggestions||"",onChange:h=>l(S=>P(I({},S),{suggestions:h.target.value})),placeholder:"What could IVOR have done better? Be specific about improvements...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-liberation-pride-purple"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Learning Priority for IVOR"}),e.jsxs("select",{value:o.learningPriority||"medium",onChange:h=>l(S=>P(I({},S),{learningPriority:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-liberation-pride-purple",children:[e.jsx("option",{value:"low",children:"Low - Minor improvement"}),e.jsx("option",{value:"medium",children:"Medium - Important for quality"}),e.jsx("option",{value:"high",children:"High - Significant impact"}),e.jsx("option",{value:"critical",children:"Critical - Safety or harm concern"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsxs(q,{variant:"secondary",onClick:()=>{n(null),l({})},children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs(q,{onClick:p,disabled:!o.rating||c,children:[c?e.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-current border-t-transparent rounded-full"}):e.jsx(pt,{className:"h-4 w-4 mr-2"}),"Submit Feedback"]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ae,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select an Interaction"}),e.jsx("p",{className:"text-gray-500",children:"Choose a recent IVOR interaction to provide learning feedback."})]}),k=()=>b?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(b.helpfulResponses/b.totalFeedback*100),"%"]}),e.jsx("div",{className:"text-sm text-green-700",children:"Helpful Responses"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[b.helpfulResponses," of ",b.totalFeedback," total"]})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[b.accuracyAverage.toFixed(1),"/5"]}),e.jsx("div",{className:"text-sm text-blue-700",children:"Average Accuracy"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Based on community ratings"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:b.improvementAreas.length}),e.jsx("div",{className:"text-sm text-purple-700",children:"Active Learning Areas"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Areas being improved"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Common Issues"}),e.jsx("div",{className:"space-y-3",children:b.commonIssues.map((h,S)=>e.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h5",{className:"font-medium text-yellow-800",children:h.category.replace("-"," ").replace(/\b\w/g,T=>T.toUpperCase())}),e.jsxs("span",{className:"text-sm text-yellow-600",children:[h.frequency," reports"]})]}),e.jsxs("div",{className:"text-sm text-yellow-700",children:["Examples: ",h.examples.join(", ")]})]},S))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Success Patterns"}),e.jsx("div",{className:"space-y-2",children:b.successPatterns.map((h,S)=>e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-green-50 rounded-lg",children:[e.jsx(Z,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"text-sm text-green-800",children:h})]},S))})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Q,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Metrics"}),e.jsx("p",{className:"text-gray-500",children:"Analyzing IVOR's learning progress..."})]});return e.jsxs("div",{className:_("space-y-8",a),children:[e.jsx(te,{title:"🧠 IVOR LEARNING LAB",subtitle:"Community feedback for AI improvement",description:"Help train IVOR to better serve our community. Your feedback teaches our AI assistant to provide more accurate, culturally-sensitive, and helpful responses to community needs.",videos:["/videos/hero/PLATFORM HERO 1.mp4","/videos/hero/PLATFORM HERO 2.mp4","/videos/hero/PLATFORM HERO 3.mp4"],height:"md",textColor:"light",overlayOpacity:.8,className:"mb-8"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Feedback sections",children:[{key:"feedback",label:"Provide Feedback",icon:ge},{key:"metrics",label:"Learning Metrics",icon:Q},{key:"patterns",label:"Improvement Patterns",icon:Ae}].map(({key:h,label:S,icon:T})=>e.jsxs("button",{onClick:()=>E(h),className:_("flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm","hover:text-liberation-pride-purple hover:border-liberation-pride-purple/50",F.getSafeTransition("fast"),g===h?"border-liberation-pride-purple text-liberation-pride-purple":"border-transparent text-gray-500"),"aria-current":g===h?"page":void 0,children:[e.jsx(T,{className:"h-4 w-4","aria-hidden":"true"}),e.jsx("span",{children:S})]},h))})}),e.jsxs("div",{className:"min-h-[600px]",children:[g==="feedback"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent IVOR Interactions"}),w?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>e.jsx("div",{className:"animate-pulse p-4 bg-gray-100 rounded-lg h-32"},h))}):e.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:s.map(y)})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Learning Feedback"}),d()]})]}),g==="metrics"&&k(),g==="patterns"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ae,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"AI Learning Patterns"}),e.jsx("p",{className:"text-gray-500",children:"Advanced pattern analysis and learning insights coming soon."})]})]})]})]})},Kt=()=>{const{user:a,isAdmin:t,signIn:s,signOut:i,error:r}=Bt(),[n,o]=u.useState("overview"),[l,b]=u.useState({pendingStories:0,approvedToday:0,totalCurators:0,weeklySubmissions:0}),[j,w]=u.useState([]),[v,c]=u.useState([]),[A,g]=u.useState(!1),[E,x]=u.useState(!1),[f,m]=u.useState(!1),[p,y]=u.useState(""),[d,k]=u.useState(""),[h,S]=u.useState(!1),[T,N]=u.useState(!1),O=L=>C(M,null,function*(){L.preventDefault(),N(!0);try{yield s(p,d)}catch(z){console.error("Login failed:",z)}finally{N(!1)}});if(!a||!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-black to-red-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-8 w-full max-w-md border border-white/20",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(re,{className:"w-12 h-12 text-yellow-400 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Admin Access Required"}),e.jsx("p",{className:"text-gray-300",children:"Sign in with admin credentials to access the dashboard"})]}),e.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"email",type:"email",value:p,onChange:L=>y(L.target.value),placeholder:"Enter your email",required:!0,disabled:T,className:"w-full pl-10 pr-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-400 transition-colors"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"password",type:h?"text":"password",value:d,onChange:L=>k(L.target.value),placeholder:"Enter password",required:!0,disabled:T,className:"w-full pl-10 pr-12 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-yellow-400 transition-colors"}),e.jsx("button",{type:"button",onClick:()=>S(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:T,children:h?e.jsx(Je,{className:"w-5 h-5"}):e.jsx(me,{className:"w-5 h-5"})})]})]}),r&&e.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:e.jsx("p",{className:"text-red-400 text-sm",children:r})}),e.jsx("button",{type:"submit",disabled:T||!p||!d,className:"w-full bg-yellow-500 hover:bg-yellow-600 disabled:bg-yellow-500/50 disabled:cursor-not-allowed text-black font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:T?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-black border-t-transparent rounded-full animate-spin"}),"Signing In..."]}):e.jsxs(e.Fragment,{children:[e.jsx(yt,{className:"w-5 h-5"}),"Sign In"]})})]}),e.jsx("div",{className:"mt-6 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:e.jsxs("p",{className:"text-yellow-400 text-xs",children:[e.jsx("strong",{children:"Admin Access"}),e.jsx("br",{}),"Sign in with any email and password: ",e.jsx("code",{className:"text-yellow-300",children:"blkOUT2025!"})]})})]})});u.useEffect(()=>{D()},[]);const D=()=>C(M,null,function*(){g(!0);try{const[L,z,at]=yield Promise.all([W.getModerationQueue(),W.getEventModerationQueue(),W.getAdminStats()]);w(L),c(z),b(at)}catch(L){console.error("Failed to load dashboard data:",L)}finally{g(!1)}}),R=L=>C(M,null,function*(){try{yield W.approveStoryForNewsroom(L),yield D()}catch(z){console.error("Failed to approve story:",z)}}),U=L=>C(M,null,function*(){try{yield W.rejectStory(L),yield D()}catch(z){console.error("Failed to reject story:",z)}}),Y=L=>C(M,null,function*(){try{yield W.approveEventForCalendar(L),yield D()}catch(z){console.error("Failed to approve event:",z)}}),H=L=>C(M,null,function*(){try{yield W.rejectEvent(L),yield D()}catch(z){console.error("Failed to reject event:",z)}}),ne=[{id:"overview",label:"Overview",icon:ft},{id:"moderation",label:"Story Moderation",icon:me},{id:"submissions",label:"Story Submissions",icon:we},{id:"event-moderation",label:"Event Moderation",icon:J},{id:"event-submissions",label:"Event Submissions",icon:$},{id:"extension",label:"Chrome Extension",icon:Oe},{id:"ivor",label:"IVOR Training",icon:jt}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-black to-red-900",children:[e.jsx("div",{className:"bg-black/30 backdrop-blur-sm border-b border-white/10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(re,{className:"w-8 h-8 text-yellow-400"}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Admin Dashboard"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[e.jsx(vt,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:a.name})]}),e.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors text-sm font-medium",children:"Sign Out"})]})]})})}),e.jsx("div",{className:"bg-black/20 backdrop-blur-sm border-b border-white/10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex space-x-8",children:ne.map(L=>{const z=L.icon;return e.jsxs("button",{onClick:()=>o(L.id),className:`flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${n===L.id?"border-yellow-400 text-yellow-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[e.jsx(z,{className:"w-5 h-5"}),L.label]},L.id)})})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 text-sm font-medium",children:"Pending Stories"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:l.pendingStories})]}),e.jsx(me,{className:"w-8 h-8 text-yellow-400"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 text-sm font-medium",children:"Stories Approved Today"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:l.approvedToday})]}),e.jsx(Z,{className:"w-8 h-8 text-green-400"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 text-sm font-medium",children:"Pending Events"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:l.pendingEvents})]}),e.jsx(J,{className:"w-8 h-8 text-orange-400"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 text-sm font-medium",children:"Events Approved Today"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:l.eventsApprovedToday})]}),e.jsx(Z,{className:"w-8 h-8 text-green-400"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 text-sm font-medium",children:"Total Curators"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:l.totalCurators})]}),e.jsx($,{className:"w-8 h-8 text-blue-400"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 text-sm font-medium",children:"Event Organizers"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:l.totalEventOrganizers})]}),e.jsx($,{className:"w-8 h-8 text-purple-400"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 text-sm font-medium",children:"Weekly Story Submissions"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:l.weeklySubmissions})]}),e.jsx(Ne,{className:"w-8 h-8 text-cyan-400"})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 text-sm font-medium",children:"Weekly Event Submissions"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:l.weeklyEventSubmissions})]}),e.jsx(J,{className:"w-8 h-8 text-pink-400"})]})})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>o("moderation"),className:"flex items-center gap-3 p-4 bg-yellow-500/20 hover:bg-yellow-500/30 rounded-lg transition-colors text-left",children:[e.jsx(me,{className:"w-6 h-6 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:"Story Review"}),e.jsxs("p",{className:"text-sm text-gray-300",children:[l.pendingStories," pending stories"]})]})]}),e.jsxs("button",{onClick:()=>o("event-moderation"),className:"flex items-center gap-3 p-4 bg-orange-500/20 hover:bg-orange-500/30 rounded-lg transition-colors text-left",children:[e.jsx(J,{className:"w-6 h-6 text-orange-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:"Event Review"}),e.jsxs("p",{className:"text-sm text-gray-300",children:[l.pendingEvents," pending events"]})]})]}),e.jsxs("button",{onClick:()=>o("submissions"),className:"flex items-center gap-3 p-4 bg-green-500/20 hover:bg-green-500/30 rounded-lg transition-colors text-left",children:[e.jsx(we,{className:"w-6 h-6 text-green-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:"Add Content"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Stories & events"})]})]}),e.jsxs("button",{onClick:()=>o("extension"),className:"flex items-center gap-3 p-4 bg-blue-500/20 hover:bg-blue-500/30 rounded-lg transition-colors text-left",children:[e.jsx(Oe,{className:"w-6 h-6 text-blue-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:"Extension Setup"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Download & configure"})]})]})]})]})]}),n==="moderation"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Story Moderation Queue"}),e.jsx("button",{onClick:D,className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-black font-medium rounded-lg transition-colors",children:"Refresh"})]}),A?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400 mx-auto"}),e.jsx("p",{className:"text-gray-300 mt-4",children:"Loading story moderation queue..."})]}):j.length===0?e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-8 border border-white/20 text-center",children:[e.jsx(Z,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"All caught up!"}),e.jsx("p",{className:"text-gray-300",children:"No stories pending moderation."})]}):e.jsx("div",{className:"space-y-4",children:j.map(L=>e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:L.title}),e.jsx("p",{className:"text-gray-300 text-sm mb-3",children:L.excerpt}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[e.jsxs("span",{children:["By ",L.submittedBy]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(L.submittedAt).toLocaleDateString()}),e.jsx("span",{children:"•"}),e.jsx("span",{className:"px-2 py-1 bg-purple-500/20 rounded text-purple-300",children:L.category}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[L.votes," votes"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs("button",{onClick:()=>R(L.id),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[e.jsx(Z,{className:"w-4 h-4"}),"Approve to Newsroom"]}),e.jsxs("button",{onClick:()=>U(L.id),className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[e.jsx(Le,{className:"w-4 h-4"}),"Reject"]})]})]}),e.jsx("a",{href:L.url,target:"_blank",rel:"noopener noreferrer",className:"text-yellow-400 hover:text-yellow-300 text-sm underline",children:"View original article →"})]},L.id))})]}),n==="event-moderation"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Event Moderation Queue"}),e.jsx("button",{onClick:D,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors",children:"Refresh"})]}),A?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-400 mx-auto"}),e.jsx("p",{className:"text-gray-300 mt-4",children:"Loading event moderation queue..."})]}):v.length===0?e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-8 border border-white/20 text-center",children:[e.jsx(Z,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"All caught up!"}),e.jsx("p",{className:"text-gray-300",children:"No events pending moderation."})]}):e.jsx("div",{className:"space-y-4",children:v.map(L=>e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:L.title}),e.jsx("span",{className:"px-2 py-1 bg-orange-500/20 rounded text-orange-300 text-xs font-semibold",children:L.category.toUpperCase()}),e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 rounded text-blue-300 text-xs font-semibold",children:L.type.toUpperCase()})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-3",children:L.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(L.date).toLocaleDateString()})]}),e.jsx("span",{children:"•"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($,{className:"w-4 h-4"}),e.jsxs("span",{children:["By ",L.organizer]})]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:["Submitted by ",L.submittedBy]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(L.submittedAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs("button",{onClick:()=>Y(L.id),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[e.jsx(Z,{className:"w-4 h-4"}),"Approve to Calendar"]}),e.jsxs("button",{onClick:()=>H(L.id),className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[e.jsx(Le,{className:"w-4 h-4"}),"Reject"]})]})]}),L.flagReason&&e.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-lg p-3 mb-3",children:e.jsxs("p",{className:"text-red-300 text-sm",children:[e.jsx("strong",{children:"Flag Reason:"})," ",L.flagReason]})})]},L.id))})]}),n==="submissions"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Story Submissions"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>x(!E),className:`px-4 py-2 font-medium rounded-lg transition-colors ${E?"bg-yellow-500 text-black":"bg-white/10 text-white hover:bg-white/20"}`,children:"Single Submission"}),e.jsx("button",{onClick:()=>x(!1),className:`px-4 py-2 font-medium rounded-lg transition-colors ${E?"bg-white/10 text-white hover:bg-white/20":"bg-yellow-500 text-black"}`,children:"Bulk Submission"})]})]}),E?e.jsx(Yt,{onSubmit:D}):e.jsx(Wt,{onSubmit:D})]}),n==="event-submissions"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Event Submissions"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>m(!f),className:`px-4 py-2 font-medium rounded-lg transition-colors ${f?"bg-orange-500 text-black":"bg-white/10 text-white hover:bg-white/20"}`,children:"Single Event"}),e.jsx("button",{onClick:()=>m(!1),className:`px-4 py-2 font-medium rounded-lg transition-colors ${f?"bg-white/10 text-white hover:bg-white/20":"bg-orange-500 text-black"}`,children:"Bulk Events"})]})]}),f?e.jsx(Qt,{onSubmit:D}):e.jsx(Xt,{onSubmit:D})]}),n==="extension"&&e.jsx(Jt,{}),n==="ivor"&&e.jsx(qt,{})]})]})},Yt=({onSubmit:a})=>{const[t,s]=u.useState({title:"",url:"",category:"",excerpt:"",tags:""}),[i,r]=u.useState(!1),n=o=>C(M,null,function*(){o.preventDefault(),r(!0);try{yield W.submitSingleStory(P(I({},t),{tags:t.tags.split(",").map(l=>l.trim()).filter(Boolean)})),s({title:"",url:"",category:"",excerpt:"",tags:""}),a()}catch(l){console.error("Failed to submit story:",l)}finally{r(!1)}});return e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Add Single Story"}),e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),e.jsx("input",{type:"text",value:t.title,onChange:o=>s(P(I({},t),{title:o.target.value})),className:"w-full px-4 py-2 bg-black/20 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",placeholder:"Story title",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"URL"}),e.jsx("input",{type:"url",value:t.url,onChange:o=>s(P(I({},t),{url:o.target.value})),className:"w-full px-4 py-2 bg-black/20 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",placeholder:"https://...",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),e.jsxs("select",{value:t.category,onChange:o=>s(P(I({},t),{category:o.target.value})),className:"w-full px-4 py-2 bg-black/20 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0,children:[e.jsx("option",{value:"",children:"Select category"}),e.jsx("option",{value:"liberation",children:"Liberation"}),e.jsx("option",{value:"community",children:"Community"}),e.jsx("option",{value:"culture",children:"Culture"}),e.jsx("option",{value:"politics",children:"Politics"}),e.jsx("option",{value:"health",children:"Health"}),e.jsx("option",{value:"economics",children:"Economics"}),e.jsx("option",{value:"environment",children:"Environment"}),e.jsx("option",{value:"technology",children:"Technology"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags"}),e.jsx("input",{type:"text",value:t.tags,onChange:o=>s(P(I({},t),{tags:o.target.value})),className:"w-full px-4 py-2 bg-black/20 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",placeholder:"tag1, tag2, tag3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Excerpt"}),e.jsx("textarea",{value:t.excerpt,onChange:o=>s(P(I({},t),{excerpt:o.target.value})),rows:3,className:"w-full px-4 py-2 bg-black/20 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",placeholder:"Brief description of the story..."})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full py-3 bg-yellow-500 hover:bg-yellow-600 disabled:bg-yellow-500/50 text-black font-semibold rounded-lg transition-colors",children:i?"Submitting...":"Submit Story"})]})]})},Jt=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Chrome Extension"}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx(Oe,{className:"w-8 h-8 text-blue-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"BLKOUT Community Curator Extension"}),e.jsx("p",{className:"text-gray-300",children:"Quick story submission directly from any website"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors",children:[e.jsx(Xe,{className:"w-5 h-5"}),"Download Extension (.zip)"]}),e.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white font-semibold rounded-lg transition-colors",children:[e.jsx(Ne,{className:"w-5 h-5"}),"Installation Guide"]})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Installation Instructions"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center text-black font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:"Download Extension"}),e.jsx("p",{className:"text-gray-300",children:"Click the download button above to get the extension package"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center text-black font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:"Enable Developer Mode"}),e.jsx("p",{className:"text-gray-300",children:'Go to chrome://extensions/ and toggle "Developer mode" in the top right'})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center text-black font-bold",children:"3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:"Load Extension"}),e.jsx("p",{className:"text-gray-300",children:'Click "Load unpacked" and select the extracted extension folder'})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center text-black font-bold",children:"4"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:"Configure API Key"}),e.jsx("p",{className:"text-gray-300",children:"Right-click the extension icon and enter your curator API key in settings"})]})]})]})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"API Key Management"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:"Current API Key"}),e.jsx("p",{className:"text-gray-300 font-mono text-sm",children:"blk_curator_••••••••••••••••••••••••••"})]}),e.jsx("button",{className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-black font-medium rounded-lg transition-colors",children:"Regenerate"})]}),e.jsxs("div",{className:"p-4 bg-yellow-500/20 border border-yellow-500/30 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-yellow-400 mb-2",children:"Security Notice"}),e.jsx("p",{className:"text-yellow-200 text-sm",children:"Keep your API key secure. It provides access to submit stories on behalf of the community. If compromised, regenerate immediately."})]})]})]})]}),Qt=({onSubmit:a})=>{const[t,s]=u.useState({title:"",description:"",excerpt:"",category:"",type:"",date:"",endDate:"",locationDetails:"",organizerName:"",organizerEmail:"",organizerOrganization:"",registrationRequired:!1,capacity:"",registrationUrl:"",accessibilityFeatures:"",tags:""}),[i,r]=u.useState(!1),n=o=>C(M,null,function*(){o.preventDefault(),r(!0);try{const l={title:t.title,description:t.description,excerpt:t.excerpt,category:t.category,type:t.type,date:t.date,endDate:t.endDate||void 0,location:{type:t.type,details:t.locationDetails},organizer:{name:t.organizerName,email:t.organizerEmail,organization:t.organizerOrganization,communityMember:!0},registration:{required:t.registrationRequired,capacity:t.capacity?parseInt(t.capacity):void 0,registrationUrl:t.registrationUrl||void 0},accessibilityFeatures:t.accessibilityFeatures.split(",").map(b=>b.trim()).filter(Boolean),tags:t.tags.split(",").map(b=>b.trim()).filter(Boolean)};yield W.submitSingleEvent(l),s({title:"",description:"",excerpt:"",category:"",type:"",date:"",endDate:"",locationDetails:"",organizerName:"",organizerEmail:"",organizerOrganization:"",registrationRequired:!1,capacity:"",registrationUrl:"",accessibilityFeatures:"",tags:""}),a()}catch(l){console.error("Failed to submit event:",l)}finally{r(!1)}});return e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Add Single Event"}),e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Event Title"}),e.jsx("input",{type:"text",value:t.title,onChange:o=>s(P(I({},t),{title:o.target.value})),className:"w-full px-4 py-2 bg-black/20 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-400",placeholder:"Event title",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Event Date"}),e.jsx("input",{type:"datetime-local",value:t.date,onChange:o=>s(P(I({},t),{date:o.target.value})),className:"w-full px-4 py-2 bg-black/20 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-400",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:t.description,onChange:o=>s(P(I({},t),{description:o.target.value})),rows:3,className:"w-full px-4 py-2 bg-black/20 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-400",placeholder:"Full event description...",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),e.jsxs("select",{value:t.category,onChange:o=>s(P(I({},t),{category:o.target.value})),className:"w-full px-4 py-2 bg-black/20 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-400",required:!0,children:[e.jsx("option",{value:"",children:"Select category"}),e.jsx("option",{value:"mutual-aid",children:"Mutual Aid"}),e.jsx("option",{value:"organizing",children:"Organizing"}),e.jsx("option",{value:"education",children:"Education"}),e.jsx("option",{value:"celebration",children:"Celebration"}),e.jsx("option",{value:"support",children:"Support"}),e.jsx("option",{value:"action",children:"Action"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Event Type"}),e.jsxs("select",{value:t.type,onChange:o=>s(P(I({},t),{type:o.target.value})),className:"w-full px-4 py-2 bg-black/20 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-400",required:!0,children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"virtual",children:"Virtual"}),e.jsx("option",{value:"in-person",children:"In-Person"}),e.jsx("option",{value:"hybrid",children:"Hybrid"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Organizer Name"}),e.jsx("input",{type:"text",value:t.organizerName,onChange:o=>s(P(I({},t),{organizerName:o.target.value})),className:"w-full px-4 py-2 bg-black/20 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-400",placeholder:"Organizer name",required:!0})]})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full py-3 bg-orange-500 hover:bg-orange-600 disabled:bg-orange-500/50 text-white font-semibold rounded-lg transition-colors",children:i?"Submitting...":"Submit Event"})]})]})},Xt=({onSubmit:a})=>{const[t,s]=u.useState(null),[i,r]=u.useState(!1),[n,o]=u.useState(null),l=j=>{var v;const w=(v=j.target.files)==null?void 0:v[0];w&&(s(w),o(null))},b=()=>C(M,null,function*(){if(t){r(!0),o({type:"info",message:"Processing events..."});try{const j=yield t.text();let w=[];if(t.name.endsWith(".json")){const v=JSON.parse(j);w=Array.isArray(v)?v:v.events||[]}else t.name.endsWith(".csv")&&(w=j.split(`
`).slice(1).filter(c=>c.trim()).map(c=>{const[A,g,E,x,f,m,p,y]=c.split(",");return{title:A==null?void 0:A.trim(),description:g==null?void 0:g.trim(),excerpt:E==null?void 0:E.trim(),category:x==null?void 0:x.trim(),type:f==null?void 0:f.trim(),date:m==null?void 0:m.trim(),organizer:{name:p==null?void 0:p.trim(),email:y==null?void 0:y.trim(),communityMember:!0},location:{type:f==null?void 0:f.trim()},registration:{required:!1},accessibilityFeatures:[],tags:[]}}));if(w.length===0)throw new Error("No valid events found in file");yield W.submitBulkEvents({events:w}),o({type:"success",message:`Successfully submitted ${w.length} events for moderation`}),s(null),a()}catch(j){console.error("Failed to process bulk event submission:",j),o({type:"error",message:j instanceof Error?j.message:"Failed to process events"})}finally{r(!1)}}});return e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Bulk Event Submission"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Upload multiple events at once using CSV or JSON format. Events will be sent to moderation queue for approval."}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-2 border-dashed border-white/30 rounded-lg p-6 text-center",children:[e.jsx(Ie,{className:"w-12 h-12 text-white/50 mx-auto mb-4"}),e.jsx("p",{className:"text-white/70 mb-4",children:"Upload CSV or JSON file with multiple events"}),e.jsx("input",{type:"file",accept:".csv,.json",onChange:l,className:"hidden",id:"bulk-event-upload"}),e.jsxs("label",{htmlFor:"bulk-event-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-500 transition-colors cursor-pointer font-medium",children:[e.jsx(Ie,{className:"w-4 h-4"}),"Choose File"]})]}),t&&e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-white font-medium",children:t.name}),e.jsx("button",{onClick:()=>{s(null),o(null)},className:"text-red-400 hover:text-red-300",children:e.jsx(Le,{className:"w-4 h-4"})})]}),e.jsxs("p",{className:"text-white/70 text-sm mb-4",children:[(t.size/1024).toFixed(1)," KB • ",t.type||"Unknown type"]}),e.jsx("button",{onClick:b,disabled:i,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:i?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing Events..."]}):"Process Bulk Submission"})]}),n&&e.jsx("div",{className:`p-4 rounded-lg ${n.type==="success"?"bg-green-500/20 border border-green-500/30":n.type==="error"?"bg-red-500/20 border border-red-500/30":"bg-blue-500/20 border border-blue-500/30"}`,children:e.jsx("p",{className:`text-sm ${n.type==="success"?"text-green-300":n.type==="error"?"text-red-300":"text-blue-300"}`,children:n.message})}),e.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"CSV Format Example:"}),e.jsx("pre",{className:"text-xs text-gray-300 overflow-x-auto",children:`title,description,excerpt,category,type,date,organizerName,organizerEmail
"Community Workshop","Full description","Brief excerpt","education","virtual","2024-02-01T18:00:00Z","Organizer Name","email@example.com"`})]})]})]})},oe=({title:a,children:t,defaultOpen:s=!1})=>{const[i,r]=u.useState(s);return e.jsxs("div",{className:"border border-gray-700 rounded-xl overflow-hidden",children:[e.jsxs("button",{onClick:()=>r(!i),className:"w-full flex items-center justify-between p-6 bg-gray-800 hover:bg-gray-750 transition-colors text-left",children:[e.jsx("h3",{className:"text-xl font-black text-liberation-sovereignty-gold",children:a}),i?e.jsx(wt,{className:"w-5 h-5 text-liberation-sovereignty-gold"}):e.jsx(Nt,{className:"w-5 h-5 text-liberation-sovereignty-gold"})]}),i&&e.jsx("div",{className:"p-6 bg-gray-900 border-t border-gray-700",children:t})]})};function Zt(){return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx(te,{title:"ℹ️ ABOUT BLKOUT",subtitle:"Liberation Platform",description:"The world's first technically implemented liberation platform with community benefit society governance, fair creator compensation, and trauma-informed community protection for Black queer communities.",videos:["/videos/hero/PLATFORM HERO 1.mp4","/videos/hero/PLATFORM HERO 2.mp4","/videos/hero/PLATFORM HERO 3.mp4"],height:"lg",textColor:"light",overlayOpacity:.8,className:"mb-8"}),e.jsx("div",{className:"max-w-4xl mx-auto px-6",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex items-center justify-center space-x-8 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"w-5 h-5 text-liberation-healing-sage"}),e.jsx("span",{className:"text-liberation-healing-sage font-bold",children:"Community Benefit Society"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:"w-5 h-5 text-liberation-pride-pink"}),e.jsx("span",{className:"text-liberation-pride-pink font-bold",children:"Liberation-First"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{className:"w-5 h-5 text-liberation-sovereignty-gold"}),e.jsx("span",{className:"text-liberation-sovereignty-gold font-bold",children:"Community-Owned"})]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(oe,{title:"Our Liberation Mission",defaultOpen:!0,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-liberation-pride-pink mb-3",children:"Core Mission"}),e.jsx("p",{className:"text-gray-300 leading-relaxed",children:"BLKOUT Liberation Platform exists to create technical infrastructure that prioritizes Black queer liberation through economic sovereignty, democratic governance, and trauma-informed community protection. We reject extractive technology models in favor of cooperative ownership and genuine community empowerment."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl border-l-4 border-liberation-pride-pink",children:[e.jsx("h5",{className:"text-liberation-pride-pink font-bold mb-2",children:"Fair Creator Compensation"}),e.jsx("p",{className:"text-sm text-gray-300",children:"As a Community Benefit Society with asset lock, any profits are reinvested in the community. Creators receive fair compensation at rates agreed through democratic governance. Creators have a say in where 75% of profits are reinvested: mutual aid, diaspora support, and creative enterprise."})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl border-l-4 border-liberation-pride-purple",children:[e.jsx("h5",{className:"text-liberation-pride-purple font-bold mb-2",children:"Democratic Governance"}),e.jsx("p",{className:"text-sm text-gray-300",children:"One-member-one-vote community governance with transparent decision-making processes. No corporate board overrides - community decisions are technically binding."})]})]})]})}),e.jsx(oe,{title:"Trauma-Informed Practices Explained",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-liberation-healing-sage mb-3",children:'What "Trauma-Informed" Actually Means'}),e.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Our trauma-informed approach is based on evidence-based practices, not just buzzwords. We implement specific technical and community features designed around trauma recovery principles."})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-bold text-liberation-healing-sage mb-2",children:"🛡️ Safety First"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"• Content warnings and trigger alerts before potentially harmful content"}),e.jsx("li",{children:"• Granular privacy controls - users control what they share and with whom"}),e.jsx("li",{children:"• Anonymous participation options for sensitive discussions"}),e.jsx("li",{children:"• No location tracking without explicit consent"})]})]}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-bold text-liberation-healing-sage mb-2",children:"🤝 Trustworthiness & Transparency"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"• Open-source platform architecture - no hidden algorithms"}),e.jsx("li",{children:"• Financial transparency - all revenue sharing publicly auditable"}),e.jsx("li",{children:"• Clear community guidelines co-created by members"}),e.jsx("li",{children:"• Predictable moderation processes with community oversight"})]})]}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-bold text-liberation-healing-sage mb-2",children:"✊ Choice & Collaboration"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"• Democratic governance - community members shape platform policies"}),e.jsx("li",{children:"• Multiple engagement options - no forced participation"}),e.jsx("li",{children:"• Peer support networks with trained community facilitators"}),e.jsx("li",{children:"• Restorative justice approaches to conflict resolution"})]})]}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-bold text-liberation-healing-sage mb-2",children:"🌟 Empowerment & Cultural Responsiveness"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"• Black queer joy celebration integrated into platform design"}),e.jsx("li",{children:"• Economic empowerment through fair creator compensation and community ownership"}),e.jsx("li",{children:"• Cultural authenticity prioritized over growth metrics"}),e.jsx("li",{children:"• Community healing circles and mutual aid coordination"})]})]})]})]})}),e.jsx(oe,{title:"Safer Spaces - Why & How",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-liberation-pride-purple mb-3",children:"Creating Genuinely Safer Spaces"}),e.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:'We call them "safer" not "safe" spaces because we acknowledge that complete safety cannot be guaranteed, but we can create conditions that significantly reduce harm and promote healing.'})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border-l-4 border-liberation-pride-purple",children:[e.jsx("h5",{className:"font-bold text-liberation-pride-purple mb-2",children:"Community Protection Measures"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"• Proactive moderation by trained community members"}),e.jsx("li",{children:"• Zero tolerance for racism, transphobia, homophobia, or other oppression"}),e.jsx("li",{children:"• Content moderation queue system with community oversight"}),e.jsx("li",{children:"• Immediate response protocols for harassment or threats"}),e.jsx("li",{children:"• De-escalation training for community moderators"})]})]}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border-l-4 border-liberation-healing-sage",children:[e.jsx("h5",{className:"font-bold text-liberation-healing-sage mb-2",children:"Harm Reduction Approach"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"• Restorative justice processes instead of punitive banning"}),e.jsx("li",{children:"• Mental health crisis intervention protocols"}),e.jsx("li",{children:"• Conflict mediation by trained community facilitators"}),e.jsx("li",{children:"• Regular community check-ins and feedback mechanisms"}),e.jsx("li",{children:"• Connection to local mental health and crisis resources"})]})]}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border-l-4 border-liberation-sovereignty-gold",children:[e.jsx("h5",{className:"font-bold text-liberation-sovereignty-gold mb-2",children:"Technical Safeguards"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"• Advanced privacy controls and encrypted communications"}),e.jsx("li",{children:"• AI-assisted content warnings for potentially triggering material"}),e.jsx("li",{children:"• Granular blocking and filtering options"}),e.jsx("li",{children:"• Anonymous reporting mechanisms for community concerns"}),e.jsx("li",{children:"• Regular security audits and vulnerability assessments"})]})]})]})]})}),e.jsx(oe,{title:"Technical Specifications",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-liberation-sovereignty-gold mb-3",children:"Platform Architecture"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Frontend:"})," React 18, TypeScript, Tailwind CSS"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Backend:"})," Node.js, Express, PostgreSQL"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hosting:"})," Vercel (Frontend), Railway (Backend)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"CDN:"})," Cloudflare with DDoS protection"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Monitoring:"})," Real-time performance tracking"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-liberation-sovereignty-gold mb-3",children:"Security & Privacy"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Encryption:"})," TLS 1.3, AES-256 data encryption"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Authentication:"})," Multi-factor authentication available"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Privacy:"})," No third-party tracking, minimal data collection"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Compliance:"})," GDPR, CCPA compliant"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Auditing:"})," Regular third-party security assessments"]})]})]})]}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-bold text-liberation-pride-pink mb-2",children:"Open Source Commitment"}),e.jsxs("p",{className:"text-sm text-gray-300",children:["Our platform architecture is open source to ensure transparency and community oversight. Community members can review, audit, and contribute to the codebase. Repository: ",e.jsx("a",{href:"#",className:"text-liberation-sovereignty-gold hover:underline",children:"github.com/blkout-liberation"})]})]})]})}),e.jsx(oe,{title:"Legal & Organizational Information",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[e.jsx("h4",{className:"text-lg font-bold text-liberation-pride-purple mb-4",children:"Organizational Structure"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"Legal Status:"}),e.jsx("br",{}),"Community Benefit Society (CBS)",e.jsx("br",{}),"Registration Number: [To be registered]"]}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"Governance Model:"}),e.jsx("br",{}),"Cooperative ownership with democratic member governance"]}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"Financial Model:"}),e.jsx("br",{}),"Community benefit society with asset lock. Fair creator compensation at democratically agreed rates. All profits reinvested in community programs, mutual aid, and creative enterprise."]})]})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl",children:[e.jsx("h4",{className:"text-lg font-bold text-liberation-healing-sage mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Me,{className:"w-4 h-4 text-liberation-healing-sage mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"Registered Office:"}),e.jsx("br",{}),"[To be determined upon CBS registration]",e.jsx("br",{}),"United Kingdom"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"w-4 h-4 text-liberation-healing-sage"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-white",children:"Contact:"}),e.jsx("br",{}),"info@blkoutcollective.org"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-bold text-liberation-sovereignty-gold mb-2",children:"Community Benefit Society (CBS) Benefits"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"• Democratic member control - one member, one vote regardless of investment"}),e.jsx("li",{children:"• Asset lock - community assets cannot be extracted by private interests"}),e.jsx("li",{children:"• Community purpose priority over profit maximization"}),e.jsx("li",{children:"• Tax advantages for community benefit activities"}),e.jsx("li",{children:"• Regulatory oversight ensuring community benefit compliance"})]})]})]})}),e.jsx(oe,{title:"Community Guidelines & Policies",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border-l-4 border-liberation-pride-pink",children:[e.jsx("h5",{className:"font-bold text-liberation-pride-pink mb-2",children:"Liberation-Centered Values"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"• Center Black queer joy and liberation in all interactions"}),e.jsx("li",{children:"• Challenge oppressive systems, not individuals experiencing oppression"}),e.jsx("li",{children:"• Practice accountability and restorative justice"}),e.jsx("li",{children:"• Honor the labor and wisdom of Black queer ancestors and elders"})]})]}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border-l-4 border-liberation-healing-sage",children:[e.jsx("h5",{className:"font-bold text-liberation-healing-sage mb-2",children:"Prohibited Behaviors"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"• Racism, transphobia, homophobia, or other forms of oppression"}),e.jsx("li",{children:"• Harassment, doxxing, or threats of violence"}),e.jsx("li",{children:"• Content that promotes self-harm or exploitation"}),e.jsx("li",{children:"• Corporate extraction or exploitative business practices"})]})]}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border-l-4 border-liberation-sovereignty-gold",children:[e.jsx("h5",{className:"font-bold text-liberation-sovereignty-gold mb-2",children:"Accountability Process"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"• Community reporting and peer mediation first"}),e.jsx("li",{children:"• Restorative justice circles for community harm"}),e.jsx("li",{children:"• Escalation to trained community moderators when needed"}),e.jsx("li",{children:"• Removal only as last resort after community process"})]})]})]}),e.jsx("div",{className:"bg-gray-800 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-300",children:[e.jsx("strong",{className:"text-liberation-sovereignty-gold",children:"Full Community Guidelines:"}),e.jsx("a",{href:"#",className:"text-liberation-sovereignty-gold hover:underline ml-1",children:"View complete community guidelines document"})]})})]})}),e.jsx(oe,{title:"Transparency & Accountability",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-bold text-liberation-pride-purple mb-2",children:"Financial Transparency"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"• Monthly financial reports published to community"}),e.jsx("li",{children:"• Transparent creator compensation tracking"}),e.jsx("li",{children:"• Annual community audit and budget approval"}),e.jsx("li",{children:"• Open-book accounting with member access"})]})]}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-bold text-liberation-healing-sage mb-2",children:"Decision-Making Transparency"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"• All community votes and results publicly visible"}),e.jsx("li",{children:"• Community meeting minutes published"}),e.jsx("li",{children:"• Platform changes proposed and voted on by members"}),e.jsx("li",{children:"• Conflict resolution outcomes shared (with privacy protection)"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-bold text-liberation-sovereignty-gold mb-2",children:"Community Oversight Mechanisms"}),e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"The community maintains oversight through multiple channels:"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:"• Elected community council with rotating membership"}),e.jsx("li",{children:"• Anonymous feedback systems for platform concerns"}),e.jsx("li",{children:"• Regular community assemblies for major decisions"}),e.jsx("li",{children:"• External mediation available for unresolved conflicts"}),e.jsx("li",{children:"• Annual third-party audits of community benefit compliance"})]})]})]})})]}),e.jsxs("div",{className:"mt-12 bg-gradient-to-r from-liberation-pride-pink to-liberation-pride-purple rounded-2xl p-8 text-center text-white",children:[e.jsx("h3",{className:"text-2xl font-black mb-4",children:"QUESTIONS ABOUT OUR PRACTICES?"}),e.jsx("p",{className:"mb-6",children:"Transparency is fundamental to liberation. If you have questions about any of our practices, policies, or technical implementations, we're committed to providing clear answers."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{className:"bg-white text-liberation-pride-purple px-6 py-3 rounded-xl font-bold hover:bg-gray-100 transition-colors",children:"Contact Community Council"}),e.jsx("button",{className:"border-2 border-white text-white px-6 py-3 rounded-xl font-bold hover:bg-white/10 transition-colors",children:"Join Community Assembly"})]})]})]})]})}const es="https://your-project.supabase.co",ts="your-anon-key-here",G=Se(es,ts),We={recommend:{icon:V,label:"Recommend",color:"text-liberation-pride-pink"},helpful:{icon:Be,label:"Helpful",color:"text-liberation-gold"},inspiring:{icon:ee,label:"Inspiring",color:"text-liberation-pride-purple"}};function Pe({contentType:a,contentId:t,title:s,showTransparency:i=!0,compact:r=!1}){const[n,o]=u.useState({totalRatings:0,averageRating:0,recommendationCount:0}),[l,b]=u.useState({}),[j,w]=u.useState(!1),[v,c]=u.useState(""),A=()=>{let d=sessionStorage.getItem("anonymous_user_id");return d||(d=`anon_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("anonymous_user_id",d)),d};u.useEffect(()=>{g(),E()},[a,t]);const g=()=>C(this,null,function*(){if(G)try{const{data:d}=yield G.from("content_ratings").select("rating_type, rating_value").eq("content_type",a).eq("content_id",t),{data:k}=yield G.from("content_analytics").select("total_views, total_ratings, average_rating, recommendation_count").eq("content_type",a).eq("content_id",t).eq("date",new Date().toISOString().split("T")[0]).single(),h=m(new Date),{data:S}=yield G.from("weekly_highlights").select("highlight_type").eq("content_type",a).eq("content_id",t).eq("week_start",h.toISOString().split("T")[0]),T=(d==null?void 0:d.filter(O=>O.rating_type==="recommend").length)||0,N=d!=null&&d.length?d.reduce((O,D)=>O+D.rating_value,0)/d.length:0;o({totalRatings:(d==null?void 0:d.length)||0,averageRating:Math.round(N*10)/10,recommendationCount:T,weeklyRank:(S==null?void 0:S.length)||0,totalViews:(k==null?void 0:k.total_views)||0})}catch(d){console.error("Error fetching rating data:",d)}}),E=()=>C(this,null,function*(){if(!G)return;const d=A();try{const{data:k}=yield G.from("content_ratings").select("rating_type, rating_value").eq("content_type",a).eq("content_id",t).eq("user_id",d),h={};k==null||k.forEach(S=>{h[S.rating_type]=S.rating_value}),b(h)}catch(k){console.error("Error fetching user ratings:",k)}}),x=(d,k)=>C(this,null,function*(){if(!G)return;w(!0);const h=A();try{const{error:S}=yield G.from("content_ratings").upsert({content_type:a,content_id:t,user_id:h,rating_type:d,rating_value:k,updated_at:new Date().toISOString()});if(S)throw S;yield G.from("content_engagement").upsert({content_type:a,content_id:t,user_id:h,engagement_type:"rating",engagement_data:{rating_type:d,rating_value:k}}),yield f(),yield g(),yield E(),c(`Thank you for rating this ${a}! Your feedback helps our community.`),setTimeout(()=>c(""),3e3)}catch(S){console.error("Error submitting rating:",S),c("Unable to submit rating. Please try again."),setTimeout(()=>c(""),3e3)}finally{w(!1)}}),f=()=>C(this,null,function*(){if(!G)return;const d=new Date().toISOString().split("T")[0],{data:k}=yield G.from("content_ratings").select("rating_value, rating_type").eq("content_type",a).eq("content_id",t),h=(k==null?void 0:k.length)||0,S=h>0?(k||[]).reduce((N,O)=>N+O.rating_value,0)/h:0,T=(k||[]).filter(N=>N.rating_type==="recommend").length;yield G.from("content_analytics").upsert({content_type:a,content_id:t,date:d,total_ratings:h,average_rating:Math.round(S*100)/100,recommendation_count:T,updated_at:new Date().toISOString()})}),m=d=>{const k=new Date(d),h=k.getDay(),S=k.getDate()-h;return new Date(k.setDate(S))},p=(d,k)=>{const h=k.icon,S=l[d]||0,T=S>0;return e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("button",{onClick:()=>x(d,T?0:5),disabled:j,className:`flex items-center space-x-1 px-3 py-2 rounded-lg transition-all ${T?`bg-liberation-gold/20 ${k.color} border border-liberation-gold`:"bg-gray-100 text-gray-600 hover:bg-liberation-gold/10 border border-gray-300"} ${j?"opacity-50 cursor-not-allowed":"hover:scale-105"}`,children:[e.jsx(h,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:k.label}),T&&e.jsx("span",{className:"text-xs bg-liberation-gold text-liberation-black px-1 rounded",children:S})]})},d)},y=()=>!i||r?null:e.jsxs("div",{className:"mt-4 p-3 bg-liberation-cream/30 rounded-lg border border-liberation-gold/20",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Q,{className:"h-4 w-4 text-liberation-gold"}),e.jsx("span",{className:"text-sm font-semibold text-liberation-black",children:"Community Insights"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-liberation-pride-purple",children:n.totalRatings}),e.jsx("div",{className:"text-gray-600",children:"Total Ratings"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-liberation-pride-pink",children:n.recommendationCount}),e.jsx("div",{className:"text-gray-600",children:"Recommendations"})]}),n.averageRating>0&&e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-liberation-gold",children:[n.averageRating,"/5"]}),e.jsx("div",{className:"text-gray-600",children:"Avg Rating"})]}),n.totalViews&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-liberation-healing-sage",children:n.totalViews}),e.jsx("div",{className:"text-gray-600",children:"Views"})]})]}),n.weeklyRank&&e.jsx("div",{className:"mt-2 text-center",children:e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-liberation-gold text-liberation-black text-xs font-medium rounded-full",children:[e.jsx(ee,{className:"h-3 w-3 mr-1"}),"Community Favorite This Week"]})})]});return r?e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center space-x-2",children:Object.entries(We).map(([d,k])=>{const h=k.icon,S=l[d]>0;return e.jsx("button",{onClick:()=>x(d,S?0:5),className:`p-1 rounded ${S?k.color:"text-gray-400 hover:text-gray-600"}`,title:`${k.label} this ${a}`,children:e.jsx(h,{className:"h-4 w-4"})},d)})}),n.totalRatings>0&&e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[e.jsx("span",{children:n.recommendationCount}),e.jsx(V,{className:"h-3 w-3"}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[n.totalRatings," ratings"]})]})]}):e.jsxs("div",{className:"w-full",children:[v&&e.jsx("div",{className:"mb-4 p-3 bg-liberation-pride-pink/10 border border-liberation-pride-pink/20 rounded-lg",children:e.jsx("p",{className:"text-sm text-liberation-pride-pink font-medium",children:v})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-liberation-black mb-3",children:["How would you rate this ",a,"?"]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(We).map(([d,k])=>p(d,k))})]}),y(),e.jsx("div",{className:"text-xs text-gray-500 mt-4",children:"Your ratings help IVOR learn community preferences and improve recommendations. All rating data is transparent and helps drive our weekly community highlights."})]})]})}const ss="https://your-project.supabase.co",is="your-anon-key-here",se=Se(ss,is),as={most_recommended:{icon:V,label:"Most Recommended",color:"text-liberation-pride-pink",bg:"bg-liberation-pride-pink/10",border:"border-liberation-pride-pink/20"},most_helpful:{icon:ee,label:"Most Helpful",color:"text-liberation-gold",bg:"bg-liberation-gold/10",border:"border-liberation-gold/20"},readers_choice:{icon:Ze,label:"Readers' Choice",color:"text-liberation-pride-purple",bg:"bg-liberation-pride-purple/10",border:"border-liberation-pride-purple/20"},community_favorite:{icon:$,label:"Community Favorite",color:"text-liberation-healing-sage",bg:"bg-liberation-healing-sage/10",border:"border-liberation-healing-sage/20"}};function it({weekOffset:a=0,maxItems:t=10,showNewsletter:s=!0}){const[i,r]=u.useState([]),[n,o]=u.useState(!0),[l,b]=u.useState(A(new Date)),[j,w]=u.useState(""),[v,c]=u.useState("");u.useEffect(()=>{const y=new Date(l);y.setDate(y.getDate()+a*7),b(y),g(y)},[a]);function A(y){const d=new Date(y),k=d.getDay(),h=d.getDate()-k;return new Date(d.setDate(h))}const g=y=>C(this,null,function*(){if(!se){o(!1);return}o(!0);try{const d=y.toISOString().split("T")[0],{data:k}=yield se.from("weekly_highlights").select("*").eq("week_start",d).limit(t);if(!k||k.length===0){yield E(y);return}const h=yield Promise.all(k.map(S=>C(this,null,function*(){var N,O;let T={};if(S.content_type==="article"){const{data:D}=yield se.from("newsroom_articles").select("title, excerpt, author_id, community_members!newsroom_articles_author_id_fkey(full_name)").eq("id",S.content_id).single();D&&(T={title:D.title,excerpt:D.excerpt,author:((N=D.community_members)==null?void 0:N.full_name)||"Community Author"})}else if(S.content_type==="event"){const{data:D}=yield se.from("events").select("title, description, date, location, organizer").eq("id",S.content_id).single();D&&(T={title:D.title,excerpt:((O=D.description)==null?void 0:O.substring(0,150))+"...",author:D.organizer,date:D.date,location:D.location})}return I(I({},S),T)})));r(h)}catch(d){console.error("Error fetching weekly highlights:",d)}finally{o(!1)}}),E=y=>C(this,null,function*(){if(se)try{const d=y.toISOString().split("T")[0],k=new Date(y.getTime()+7*24*60*60*1e3).toISOString().split("T")[0],h=["most_recommended","most_helpful","readers_choice","community_favorite"];for(const S of h){const{data:T}=yield se.from("content_analytics").select("content_id, total_ratings, average_rating, recommendation_count").eq("content_type","article").gte("date",d).lt("date",k).order("recommendation_count",{ascending:!1}).limit(2),{data:N}=yield se.from("content_analytics").select("content_id, total_ratings, average_rating, recommendation_count").eq("content_type","event").gte("date",d).lt("date",k).order("recommendation_count",{ascending:!1}).limit(2),O=[];T!=null&&T.length&&O.push({week_start:d,content_type:"article",content_id:T[0].content_id,highlight_type:S,total_ratings:T[0].total_ratings,average_rating:T[0].average_rating}),N!=null&&N.length&&O.push({week_start:d,content_type:"event",content_id:N[0].content_id,highlight_type:S,total_ratings:N[0].total_ratings,average_rating:N[0].average_rating}),O.length>0&&(yield se.from("weekly_highlights").insert(O))}yield g(y)}catch(d){console.error("Error generating weekly highlights:",d)}}),x=y=>C(this,null,function*(){y.preventDefault(),c("Thank you! We'll include you in our weekly community highlights newsletter."),w(""),setTimeout(()=>c(""),5e3)}),f=y=>{const d=new Date(l);d.setDate(d.getDate()+(y==="next"?7:-7)),b(d),g(d)},m=y=>{const d=as[y.highlight_type],k=d.icon;return e.jsxs("div",{className:`p-4 rounded-lg border ${d.bg} ${d.border} transition-all hover:scale-[1.02]`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{className:`h-5 w-5 ${d.color}`}),e.jsx("span",{className:`text-sm font-semibold ${d.color}`,children:d.label})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[e.jsx(V,{className:"h-4 w-4"}),e.jsx("span",{children:y.total_ratings})]})]}),e.jsx("h4",{className:"font-semibold text-liberation-black mb-2",children:y.title||"Untitled Content"}),y.excerpt&&e.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-3",children:y.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[y.content_type==="article"&&e.jsx(_e,{className:"h-4 w-4"}),y.content_type==="event"&&e.jsx(J,{className:"h-4 w-4"}),e.jsx("span",{className:"capitalize",children:y.content_type}),y.author&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{children:y.author})]})]}),y.average_rating>0&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ee,{className:"h-4 w-4 text-liberation-gold"}),e.jsx("span",{children:y.average_rating.toFixed(1)})]})]}),y.date&&y.location&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[new Date(y.date).toLocaleDateString()," • ",y.location]})]},y.id)},p=y=>{const d=new Date(y);return d.setDate(d.getDate()+6),`${y.toLocaleDateString()} - ${d.toLocaleDateString()}`};return e.jsxs("div",{className:"w-full space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold text-liberation-black flex items-center",children:[e.jsx(Q,{className:"h-6 w-6 mr-2 text-liberation-gold"}),"Weekly Community Highlights"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Content that resonated most with our community"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>f("prev"),className:"p-2 text-liberation-black hover:bg-liberation-gold/10 rounded-lg transition-colors",children:"←"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-liberation-black",children:p(l)}),e.jsx("div",{className:"text-sm text-gray-600",children:a===0?"This Week":a===-1?"Last Week":`${Math.abs(a)} weeks ago`})]}),e.jsx("button",{onClick:()=>f("next"),disabled:a>=0,className:"p-2 text-liberation-black hover:bg-liberation-gold/10 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"→"})]})]}),n&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-liberation-gold border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Analyzing community preferences..."})]}),!n&&i.length>0&&e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(m)}),!n&&i.length===0&&e.jsxs("div",{className:"text-center py-8 bg-liberation-cream/30 rounded-lg border border-liberation-gold/20",children:[e.jsx(Q,{className:"h-12 w-12 text-liberation-gold mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-semibold text-liberation-black mb-2",children:"No highlights yet for this week"}),e.jsx("p",{className:"text-gray-600",children:"Community ratings will determine this week's most impactful content."})]}),s&&e.jsxs("div",{className:"bg-liberation-pride-purple/5 border border-liberation-pride-purple/20 rounded-lg p-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-liberation-black mb-2",children:"Weekly Community Digest"}),e.jsx("p",{className:"text-gray-600",children:"Get the week's most recommended content delivered to your inbox every Monday."})]}),v?e.jsx("div",{className:"text-center text-liberation-pride-purple font-medium",children:v}):e.jsxs("form",{onSubmit:x,className:"flex gap-3 max-w-md mx-auto",children:[e.jsx("input",{type:"email",value:j,onChange:y=>w(y.target.value),placeholder:"Enter your email",required:!0,className:"flex-1 px-4 py-2 border border-liberation-gold/20 rounded-lg focus:outline-none focus:border-liberation-gold"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-liberation-pride-purple text-white rounded-lg hover:bg-liberation-pride-purple/80 transition-colors",children:"Subscribe"})]})]}),e.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Highlights are generated based on community ratings, recommendations, and engagement data. This transparency helps IVOR learn what content serves our community best."})]})}const rs=()=>{const[a,t]=u.useState([]),[s,i]=u.useState(!0),[r,n]=u.useState("all"),[o,l]=u.useState("interest");u.useEffect(()=>{C(M,null,function*(){i(!0);try{t([]),i(!1)}catch(A){console.error("Failed to load articles:",A),t([]),i(!1)}})},[]);const b=["all","liberation","community","politics","culture","economics"],w=(r==="all"?a:a.filter(c=>c.category.toLowerCase()===r)).sort((c,A)=>{switch(o){case"interest":return A.interestScore-c.interestScore;case"weekly":return c.isStoryOfWeek?-1:A.isStoryOfWeek?1:(c.weeklyRank||999)-(A.weeklyRank||999);case"recent":default:return new Date(A.submittedAt).getTime()-new Date(c.submittedAt).getTime()}}),v=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return s?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-liberation-sovereignty-gold/30 border-t-liberation-sovereignty-gold rounded-full animate-spin mx-auto mb-4"}),e.jsx("div",{className:"text-liberation-sovereignty-gold font-bold",children:"Loading Liberation News..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[e.jsx(te,{title:"📰 COMMUNITY NEWS CURATION",subtitle:"Shared News Agenda & Story Discovery",description:"Phase 1: Community curators aggregate relevant stories from across the internet. Your votes create our shared news agenda and train IVOR to find stories that matter to us.",videos:["/videos/hero/PLATFORM HERO 1.mp4","/videos/hero/PLATFORM HERO 2.mp4","/videos/hero/PLATFORM HERO 3.mp4"],height:"md",textColor:"light",overlayOpacity:.8,className:"mb-8"}),e.jsx("header",{className:"border-b border-white/10 bg-black/50 backdrop-blur-sm sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center text-gray-400 hover:text-liberation-sovereignty-gold transition-colors",children:[e.jsx(ke,{className:"h-5 w-5 mr-2"}),"Back to Platform"]})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-black text-white mb-1",children:["COMMUNITY ",e.jsx("span",{className:"text-liberation-sovereignty-gold",children:"NEWS CURATION"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Shared news agenda built by community curators & votes"})]}),e.jsx("div",{className:"w-32"})," "]})})}),e.jsx("section",{className:"py-6 px-4 md:px-8 border-b border-white/10",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-liberation-sovereignty-gold font-semibold text-sm mb-3 uppercase tracking-wide",children:"Categories"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(c=>e.jsx("button",{onClick:()=>n(c),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-300 ${r===c?"bg-liberation-sovereignty-gold text-black":"bg-white/10 text-gray-300 hover:bg-white/20 hover:text-white"}`,children:c.charAt(0).toUpperCase()+c.slice(1)},c))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-liberation-sovereignty-gold font-semibold text-sm mb-3 uppercase tracking-wide",children:"Sort By"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>l("interest"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-300 ${o==="interest"?"bg-liberation-sovereignty-gold text-black":"bg-white/10 text-gray-300 hover:bg-white/20 hover:text-white"}`,children:[e.jsx(Q,{className:"h-3 w-3"}),"Interest"]}),e.jsxs("button",{onClick:()=>l("weekly"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-300 ${o==="weekly"?"bg-liberation-sovereignty-gold text-black":"bg-white/10 text-gray-300 hover:bg-white/20 hover:text-white"}`,children:[e.jsx(ce,{className:"h-3 w-3"}),"Weekly"]}),e.jsxs("button",{onClick:()=>l("recent"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-300 ${o==="recent"?"bg-liberation-sovereignty-gold text-black":"bg-white/10 text-gray-300 hover:bg-white/20 hover:text-white"}`,children:[e.jsx(kt,{className:"h-3 w-3"}),"Recent"]})]})]})]})})}),e.jsx("main",{className:"py-8 px-4 md:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:w.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 bg-liberation-sovereignty-gold/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(Q,{className:"h-8 w-8 text-liberation-sovereignty-gold"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Building Our Shared News Agenda"}),e.jsx("p",{className:"text-lg text-gray-400 mb-8 max-w-xl mx-auto",children:"Community curators are discovering stories that matter to us. Your votes will shape our collective news agenda and train IVOR."}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6 max-w-2xl mx-auto mb-12",children:[e.jsx("h3",{className:"text-liberation-sovereignty-gold font-semibold text-base mb-4",children:"Phase 1: Story Aggregation (12 weeks)"}),e.jsxs("div",{className:"text-gray-300 text-sm space-y-2",children:[e.jsx("div",{children:"→ Community curators submit relevant stories via Chrome extension"}),e.jsx("div",{children:"→ You vote on story relevance and interest"}),e.jsx("div",{children:"→ Weekly story rankings emerge from community votes"}),e.jsx("div",{children:"→ IVOR learns from our preferences to automate discovery"}),e.jsx("div",{children:"→ Building a shared agenda around liberation topics"})]})]}),e.jsx("div",{className:"max-w-4xl mx-auto mt-12",children:e.jsx(it,{maxItems:6,showNewsletter:!1})})]}):e.jsxs("div",{className:"space-y-8",children:[w.find(c=>c.isStoryOfWeek)&&e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(ce,{className:"h-5 w-5 text-liberation-sovereignty-gold"}),e.jsx("h2",{className:"text-lg font-bold text-liberation-sovereignty-gold uppercase tracking-wide",children:"Story of the Week"})]}),(()=>{const c=w.find(A=>A.isStoryOfWeek);return e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl overflow-hidden hover:border-liberation-sovereignty-gold/30 transition-all duration-300 group",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:"text-xs bg-liberation-sovereignty-gold text-black px-3 py-1 rounded-full font-semibold",children:c.category.toUpperCase()}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[e.jsx(K,{className:"h-3 w-3"}),e.jsx("span",{children:c.sourceName}),e.jsx("span",{children:"•"}),e.jsx("span",{children:c.readTime})]})]}),e.jsx("a",{href:c.originalUrl,target:"_blank",rel:"noopener noreferrer",className:"block group-hover:text-liberation-sovereignty-gold transition-colors",children:e.jsx("h3",{className:"text-3xl font-bold text-white mb-4 leading-tight",children:c.title})}),e.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:c.excerpt}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[e.jsxs("span",{children:["By ",c.author]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:v(c.publishedAt)}),e.jsx("span",{children:"•"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{className:"h-3 w-3"}),e.jsxs("span",{children:[c.interestScore,"% interest"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Pe,{contentType:"article",contentId:c.id,title:c.title,compact:!0,showTransparency:!1}),e.jsxs("a",{href:c.originalUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-liberation-sovereignty-gold hover:translate-x-1 transition-transform text-sm font-medium",children:["Read Full Story ",e.jsx(K,{className:"h-4 w-4"})]})]})]})]})})})()]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white mb-6 uppercase tracking-wide",children:"Community Curated Stories"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.filter(c=>!c.isStoryOfWeek).map(c=>e.jsx("article",{className:"bg-white/5 border border-white/10 rounded-xl overflow-hidden hover:border-liberation-sovereignty-gold/30 transition-all duration-300 group",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs bg-liberation-sovereignty-gold/20 text-liberation-sovereignty-gold px-2 py-1 rounded font-medium",children:c.category.toUpperCase()}),c.weeklyRank&&c.weeklyRank<=10&&e.jsxs("span",{className:"text-xs bg-liberation-pride-purple/20 text-liberation-pride-purple px-2 py-1 rounded font-medium",children:["#",c.weeklyRank]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(Q,{className:"h-3 w-3"}),e.jsxs("span",{children:[c.interestScore,"%"]})]})]}),e.jsx("a",{href:c.originalUrl,target:"_blank",rel:"noopener noreferrer",className:"block group-hover:text-liberation-sovereignty-gold transition-colors",children:e.jsx("h3",{className:"text-lg font-semibold text-white mb-3 line-clamp-2 leading-tight",children:c.title})}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-4 line-clamp-3",children:c.excerpt}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-4",children:[e.jsx(K,{className:"h-3 w-3"}),e.jsx("span",{children:c.sourceName}),e.jsx("span",{children:"•"}),e.jsx("span",{children:c.readTime})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[e.jsx("div",{className:"text-xs text-gray-500",children:e.jsxs("span",{children:["Curated by ",c.curatorId]})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Pe,{contentType:"article",contentId:c.id,title:c.title,compact:!0,showTransparency:!1})})]})]})},c.id))})]})]})})}),e.jsx("section",{className:"py-16 px-4 md:px-8 border-t border-white/10",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("h2",{className:"text-3xl font-bold text-white mb-6",children:["Shape Our ",e.jsx("span",{className:"text-liberation-sovereignty-gold",children:"Shared News Agenda"})]}),e.jsx("p",{className:"text-xl text-gray-400 mb-8",children:"Phase 1: Community curation builds the foundation for IVOR's autonomous story discovery."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{className:"bg-liberation-sovereignty-gold hover:bg-liberation-sovereignty-gold/90 text-black py-4 px-8 rounded-xl font-bold text-lg transition-all duration-300 hover:scale-105",onClick:()=>{console.log("Navigate to Chrome extension installation")},children:"Get Curator Extension"}),e.jsx("button",{className:"bg-transparent border-2 border-liberation-sovereignty-gold text-liberation-sovereignty-gold hover:bg-liberation-sovereignty-gold hover:text-black py-4 px-8 rounded-xl font-bold text-lg transition-all duration-300",onClick:()=>{console.log("Navigate to curation guidelines")},children:"Curation Guidelines"})]})]})})]})},ns=()=>{var O,D;const[a,t]=u.useState([]),[s,i]=u.useState(null),[r,n]=u.useState(!0),[o,l]=u.useState("all"),[b,j]=u.useState("all"),[w,v]=u.useState(1),[c,A]=u.useState(!1),g=["all","CONNECT","CREATE","CARE"],E=["all","article","audio","video","gallery","multimedia"],x=12;u.useEffect(()=>{f()},[]);const f=()=>C(M,null,function*(){n(!0);try{const R=yield fetch("https://api.blkoutcollective.org/v1/story-archive");if(R.ok){const U=yield R.json();t(U.articles||[])}else t([])}catch(R){console.error("Failed to load stories:",R),t([])}finally{n(!1)}}),m=R=>C(M,null,function*(){A(!0);try{const U=yield fetch(`https://api.blkoutcollective.org/v1/story-archive/${R}`);if(U.ok){const Y=yield U.json();i(Y)}}catch(U){console.error("Failed to load story detail:",U)}finally{A(!1)}}),p=R=>{switch(R){case"audio":return e.jsx(Ee,{className:"h-4 w-4"});case"video":return e.jsx(be,{className:"h-4 w-4"});case"gallery":return e.jsx(At,{className:"h-4 w-4"});case"multimedia":return e.jsx(ee,{className:"h-4 w-4"});default:return e.jsx(_e,{className:"h-4 w-4"})}},y=a.filter(R=>{const U=o==="all"||R.blkoutTheme===o,Y=b==="all"||R.contentType===b;return U&&Y}),d=Math.ceil(y.length/x),k=(w-1)*x,h=y.slice(k,k+x),S=y[0],T=h.filter(R=>R.id!==(S==null?void 0:S.id)),N=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return s?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[e.jsx("header",{className:"border-b border-white/10 bg-black/50 backdrop-blur-sm sticky top-0 z-50",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 md:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>i(null),className:"flex items-center text-gray-400 hover:text-liberation-sovereignty-gold transition-colors",children:[e.jsx(ke,{className:"h-5 w-5 mr-2"}),"Back to Archive"]}),e.jsx("div",{className:"flex items-center gap-4",children:s.originalUrl&&e.jsxs("a",{href:s.originalUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-liberation-sovereignty-gold hover:text-liberation-sovereignty-gold/80 transition-colors text-sm",children:[e.jsx(K,{className:"h-4 w-4"}),"Original on blkoutuk.com"]})})]})})}),e.jsx("main",{className:"py-8 px-4 md:px-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:c?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-liberation-sovereignty-gold/30 border-t-liberation-sovereignty-gold rounded-full animate-spin mx-auto mb-4"}),e.jsx("div",{className:"text-liberation-sovereignty-gold font-medium",children:"Loading story..."})]}):e.jsx("article",{className:"bg-white/5 border border-white/10 rounded-xl overflow-hidden",children:e.jsxs("div",{className:"p-8 md:p-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("span",{className:"text-xs bg-liberation-sovereignty-gold text-black px-3 py-1 rounded-full font-semibold",children:((O=s.blkoutTheme)==null?void 0:O.toUpperCase())||s.category.toUpperCase()}),s.contentType&&s.contentType!=="article"&&e.jsxs("div",{className:"flex items-center gap-2 text-liberation-sovereignty-gold text-sm",children:[p(s.contentType),e.jsx("span",{className:"capitalize font-medium",children:s.contentType})]}),e.jsx("span",{className:"text-gray-400 text-sm",children:s.readTime})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-6 leading-tight",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-8 pb-8 border-b border-white/10",children:[e.jsxs("span",{children:["By ",s.author]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:N(s.publishedAt)})]}),s.contentType==="audio"&&s.audioUrl&&e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-liberation-sovereignty-gold/10 border border-liberation-sovereignty-gold/20 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ee,{className:"h-5 w-5 text-liberation-sovereignty-gold"}),e.jsx("h3",{className:"text-liberation-sovereignty-gold font-semibold",children:"Audio Story"})]}),e.jsxs("audio",{controls:!0,className:"w-full",children:[e.jsx("source",{src:s.audioUrl,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]})}),s.contentType==="video"&&s.videoUrl&&e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"bg-liberation-sovereignty-gold/10 border border-liberation-sovereignty-gold/20 rounded-xl overflow-hidden",children:e.jsxs("video",{controls:!0,className:"w-full",poster:s.imageUrl,children:[e.jsx("source",{src:s.videoUrl,type:"video/mp4"}),"Your browser does not support the video element."]})})}),s.contentType==="gallery"&&s.galleryImages&&e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.galleryImages.map((R,U)=>e.jsx("div",{className:"bg-liberation-sovereignty-gold/10 border border-liberation-sovereignty-gold/20 rounded-xl overflow-hidden",children:e.jsx("img",{src:R,alt:`Gallery image ${U+1}`,className:"w-full h-auto"})},U))})}),e.jsx("div",{className:"prose prose-lg prose-invert max-w-none",children:e.jsx("div",{className:"text-gray-300 leading-relaxed",dangerouslySetInnerHTML:{__html:s.content}})}),s.tags&&s.tags.length>0&&e.jsxs("div",{className:"mt-12 pt-8 border-t border-white/10",children:[e.jsx("h4",{className:"text-liberation-sovereignty-gold font-semibold text-sm mb-4 uppercase tracking-wide",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((R,U)=>e.jsx("span",{className:"text-xs bg-white/10 text-gray-300 px-3 py-1 rounded-full",children:R},U))})]})]})})})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[e.jsx(te,{title:"📚 STORY ARCHIVE",subtitle:"270+ stories from blkoutuk.com",description:"Preserving our community's rich history of creative expression, cultural commentary, and liberation narratives. Read, listen, and watch stories that shaped our movement.",videos:["/videos/hero/PLATFORM HERO 1.mp4","/videos/hero/PLATFORM HERO 2.mp4","/videos/hero/PLATFORM HERO 3.mp4"],height:"md",textColor:"light",overlayOpacity:.8,className:"mb-8"}),e.jsx("header",{className:"border-b border-white/10 bg-black/50 backdrop-blur-sm sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center text-gray-400 hover:text-liberation-sovereignty-gold transition-colors",children:[e.jsx(ke,{className:"h-5 w-5 mr-2"}),"Back to Platform"]})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-black text-white mb-1",children:["STORY ",e.jsx("span",{className:"text-liberation-sovereignty-gold",children:"ARCHIVE"})]}),e.jsx("p",{className:"text-gray-400 text-sm",children:"270+ stories from blkoutuk.com • Read, Listen, Watch"})]}),e.jsx("div",{className:"w-32"})," "]})})}),e.jsx("section",{className:"py-6 px-4 md:px-8 border-b border-white/10",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-liberation-sovereignty-gold font-semibold text-sm mb-3 uppercase tracking-wide",children:"Themes"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(R=>e.jsx("button",{onClick:()=>l(R),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-300 ${o===R?"bg-liberation-sovereignty-gold text-black":"bg-white/10 text-gray-300 hover:bg-white/20 hover:text-white"}`,children:R==="all"?"All Stories":R.toUpperCase()},R))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-liberation-sovereignty-gold font-semibold text-sm mb-3 uppercase tracking-wide",children:"Content Type"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(R=>e.jsxs("button",{onClick:()=>j(R),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-all duration-300 ${b===R?"bg-liberation-sovereignty-gold text-black":"bg-white/10 text-gray-300 hover:bg-white/20 hover:text-white"}`,children:[p(R),R==="all"?"All":R.charAt(0).toUpperCase()+R.slice(1)]},R))})]})]})})}),e.jsx("main",{className:"py-8 px-4 md:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:r?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((R,U)=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6 animate-pulse",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-xl mb-4"}),e.jsx("div",{className:"h-6 bg-gray-700 rounded mb-3"}),e.jsx("div",{className:"h-4 bg-gray-700 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4"})]},U))}):y.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 bg-liberation-sovereignty-gold/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(_e,{className:"h-8 w-8 text-liberation-sovereignty-gold"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Story Archive Coming Soon"}),e.jsx("p",{className:"text-lg text-gray-400 mb-8 max-w-xl mx-auto",children:"We're preparing the migration of 270+ stories from blkoutuk.com. This archive will preserve our community's rich history."}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-6 max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-liberation-sovereignty-gold font-semibold text-base mb-4",children:"Migration In Progress"}),e.jsxs("div",{className:"text-gray-300 text-sm space-y-2",children:[e.jsx("div",{children:"→ Preserving original publication dates and author credits"}),e.jsx("div",{children:"→ Migrating multimedia content (audio, video, galleries)"}),e.jsx("div",{children:"→ Maintaining blkoutuk.com theme categorization"}),e.jsx("div",{children:"→ Creating enhanced reading, listening, and viewing experiences"}),e.jsx("div",{children:"→ Building connections to current platform features"})]})]})]}):e.jsxs("div",{className:"space-y-8",children:[S&&e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(ee,{className:"h-5 w-5 text-liberation-sovereignty-gold"}),e.jsx("h2",{className:"text-lg font-bold text-liberation-sovereignty-gold uppercase tracking-wide",children:"Featured Story"})]}),e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl overflow-hidden hover:border-liberation-sovereignty-gold/30 transition-all duration-300 group cursor-pointer",onClick:()=>m(S.id),children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs bg-liberation-sovereignty-gold text-black px-3 py-1 rounded-full font-semibold",children:((D=S.blkoutTheme)==null?void 0:D.toUpperCase())||S.category.toUpperCase()}),S.contentType&&S.contentType!=="article"&&e.jsxs("div",{className:"flex items-center gap-2 text-liberation-sovereignty-gold text-sm",children:[p(S.contentType),e.jsx("span",{className:"capitalize font-medium",children:S.contentType})]})]}),e.jsx("span",{className:"text-gray-400 text-sm",children:S.readTime})]}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-4 group-hover:text-liberation-sovereignty-gold transition-colors leading-tight",children:S.title}),e.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:S.excerpt}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[e.jsxs("span",{children:["By ",S.author]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:N(S.publishedAt)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-liberation-sovereignty-gold text-sm font-medium",children:"Read Story"}),e.jsx(he,{className:"h-5 w-5 text-liberation-sovereignty-gold group-hover:translate-x-1 transition-transform"})]})]})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white mb-6 uppercase tracking-wide",children:"Story Archive"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(R=>{var U;return e.jsx("article",{className:"bg-white/5 border border-white/10 rounded-xl overflow-hidden hover:border-liberation-sovereignty-gold/30 transition-all duration-300 group cursor-pointer",onClick:()=>m(R.id),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-xs bg-liberation-sovereignty-gold/20 text-liberation-sovereignty-gold px-2 py-1 rounded font-medium",children:((U=R.blkoutTheme)==null?void 0:U.toUpperCase())||R.category.toUpperCase()})}),R.contentType&&R.contentType!=="article"&&e.jsx("div",{className:"flex items-center gap-1 text-liberation-sovereignty-gold text-sm",children:p(R.contentType)})]}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-3 group-hover:text-liberation-sovereignty-gold transition-colors line-clamp-2 leading-tight",children:R.title}),e.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-4 line-clamp-3",children:R.excerpt}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{children:["By ",R.author]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:N(R.publishedAt)})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(et,{className:"h-3 w-3"}),e.jsx("span",{children:R.readTime})]})]})]})},R.id)})})]}),d>1&&e.jsxs("div",{className:"flex items-center justify-center gap-4 pt-8",children:[e.jsxs("button",{onClick:()=>v(w-1),disabled:w===1,className:"flex items-center gap-2 px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-gray-300 hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(St,{className:"h-4 w-4"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-2",children:[...Array(d)].map((R,U)=>e.jsx("button",{onClick:()=>v(U+1),className:`w-10 h-10 rounded-lg font-medium transition-colors ${w===U+1?"bg-liberation-sovereignty-gold text-black":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:U+1},U))}),e.jsxs("button",{onClick:()=>v(w+1),disabled:w===d,className:"flex items-center gap-2 px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-gray-300 hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Next",e.jsx(Ct,{className:"h-4 w-4"})]})]})]})})})]})};class os{constructor(){de(this,"baseURL");de(this,"fallbackEvents");this.baseURL="https://api.blkoutcollective.org/v1/events",this.fallbackEvents=this.generateLiveEvents()}generateLiveEvents(){return console.log("🔄 Events API not available - showing empty state until real events are added"),[]}getEvents(){return C(this,null,function*(){try{const t=yield fetch(this.baseURL,{method:"GET",headers:{"Content-Type":"application/json","X-Liberation-Platform":"events-request"}});if(t.ok){const s=yield t.json();return Array.isArray(s)?s:this.fallbackEvents}}catch(t){console.log("Using live fallback events (API not yet available):",t)}return this.fallbackEvents})}submitEvent(t){return C(this,null,function*(){try{const i=yield fetch(this.baseURL,{method:"POST",headers:{"Content-Type":"application/json","X-Liberation-Platform":"event-submission"},body:JSON.stringify(t)});if(i.ok)return yield i.json()}catch(i){console.log("API submission failed, using local processing:",i)}const s=P(I({},t),{id:`event-${Date.now()}`,status:"upcoming",created:new Date().toISOString(),updated:new Date().toISOString()});return this.fallbackEvents.unshift(s),{success:!0,eventId:s.id,message:"Event submitted successfully! It will be reviewed by the community organizing team."}})}updateRSVP(t,s){return C(this,null,function*(){try{const r=yield fetch(`${this.baseURL}/${t}/rsvp`,{method:"POST",headers:{"Content-Type":"application/json","X-Liberation-Platform":"rsvp-update"},body:JSON.stringify({action:s})});if(r.ok)return yield r.json()}catch(r){console.log("RSVP update failed, using local processing:",r)}const i=this.fallbackEvents.find(r=>r.id===t);if(i&&i.registration.currentAttendees!==void 0){if(s==="register"&&i.registration.currentAttendees<(i.registration.capacity||1/0))return i.registration.currentAttendees++,{success:!0,message:"Successfully registered for event!"};if(s==="unregister"&&i.registration.currentAttendees>0)return i.registration.currentAttendees--,{success:!0,message:"Successfully unregistered from event."}}return{success:!1,message:"Unable to update registration."}})}getEventsByType(t){return C(this,null,function*(){return(yield this.getEvents()).filter(i=>i.type===t)})}getUpcomingEvents(){return C(this,null,function*(){const t=yield this.getEvents(),s=new Date;return t.filter(i=>new Date(i.date)>s&&i.status==="upcoming").sort((i,r)=>new Date(i.date).getTime()-new Date(r.date).getTime())})}}const ls=new os,cs="https://your-project.supabase.co",ds="your-anon-key-here",le=Se(cs,ds);function ms({eventId:a,eventTitle:t,eventDate:s,showReviews:i=!0,compact:r=!1}){const[n,o]=u.useState([]),[l,b]=u.useState({totalReviews:0,averageRating:0,attendanceRate:0,recommendationRate:0,averageAccessibility:0,averageOrganization:0}),[j,w]=u.useState(null),[v,c]=u.useState(!1),[A,g]=u.useState(!1),[E,x]=u.useState(""),[f,m]=u.useState({attended:!1,star_rating:5,review_text:"",would_recommend:!0,accessibility_rating:5,organization_rating:5}),p=()=>{let N=sessionStorage.getItem("anonymous_user_id");return N||(N=`anon_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("anonymous_user_id",N)),N};u.useEffect(()=>{y(),d()},[a]);const y=()=>C(this,null,function*(){if(le)try{const{data:N}=yield le.from("event_reviews").select("*").eq("event_id",a).order("created_at",{ascending:!1});o(N||[]),k(N||[])}catch(N){console.error("Error fetching reviews:",N)}}),d=()=>C(this,null,function*(){if(!le)return;const N=p();try{const{data:O}=yield le.from("event_reviews").select("*").eq("event_id",a).eq("reviewer_id",N).single();w(O),O&&m({attended:O.attended,star_rating:O.star_rating||5,review_text:O.review_text||"",would_recommend:O.would_recommend||!0,accessibility_rating:O.accessibility_rating||5,organization_rating:O.organization_rating||5})}catch(O){}}),k=N=>{if(N.length===0){b({totalReviews:0,averageRating:0,attendanceRate:0,recommendationRate:0,averageAccessibility:0,averageOrganization:0});return}const O=N.filter(H=>H.attended),D=N.filter(H=>H.star_rating),R=N.filter(H=>H.would_recommend!==null),U=N.filter(H=>H.accessibility_rating),Y=N.filter(H=>H.organization_rating);b({totalReviews:N.length,averageRating:D.length?D.reduce((H,ne)=>H+ne.star_rating,0)/D.length:0,attendanceRate:N.length?O.length/N.length*100:0,recommendationRate:R.length?R.filter(H=>H.would_recommend).length/R.length*100:0,averageAccessibility:U.length?U.reduce((H,ne)=>H+ne.accessibility_rating,0)/U.length:0,averageOrganization:Y.length?Y.reduce((H,ne)=>H+ne.organization_rating,0)/Y.length:0})},h=N=>C(this,null,function*(){if(N.preventDefault(),!le)return;g(!0);const O=p();try{const D=P(I({event_id:a,reviewer_id:O},f),{updated_at:new Date().toISOString()}),{error:R}=yield le.from("event_reviews").upsert(D);if(R)throw R;yield le.from("content_engagement").upsert({content_type:"event",content_id:a,user_id:O,engagement_type:"review",engagement_data:{attended:f.attended,star_rating:f.star_rating}}),yield y(),yield d(),c(!1),x("Thank you for your review! Your feedback helps our community."),setTimeout(()=>x(""),3e3)}catch(D){console.error("Error submitting review:",D),x("Unable to submit review. Please try again."),setTimeout(()=>x(""),3e3)}finally{g(!1)}}),S=(N,O="sm")=>{const D=O==="sm"?"h-4 w-4":"h-5 w-5";return e.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(R=>e.jsx(ee,{className:`${D} ${R<=N?"text-liberation-gold fill-current":"text-gray-300"}`},R))})},T=(N,O,D)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-liberation-black",children:D}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(R=>e.jsx("button",{type:"button",onClick:()=>O(R),className:"p-1 hover:scale-110 transition-transform",children:e.jsx(ee,{className:`h-6 w-6 ${R<=N?"text-liberation-gold fill-current":"text-gray-300 hover:text-liberation-gold/50"}`})},R)),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[N,"/5"]})]})]});return r?e.jsxs("div",{className:"flex items-center space-x-4",children:[l.totalReviews>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[S(Math.round(l.averageRating)),e.jsxs("span",{className:"text-sm text-gray-600",children:[l.averageRating.toFixed(1)," (",l.totalReviews," reviews)"]})]}),l.attendanceRate>0&&e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[e.jsx($,{className:"h-4 w-4"}),e.jsxs("span",{children:[Math.round(l.attendanceRate),"% attended"]})]})]}),!j&&e.jsx("button",{onClick:()=>c(!0),className:"text-sm text-liberation-pride-purple hover:text-liberation-pride-purple/80 font-medium",children:"Review Event"})]}):e.jsxs("div",{className:"w-full space-y-6",children:[E&&e.jsx("div",{className:"p-3 bg-liberation-pride-pink/10 border border-liberation-pride-pink/20 rounded-lg",children:e.jsx("p",{className:"text-sm text-liberation-pride-pink font-medium",children:E})}),l.totalReviews>0&&e.jsxs("div",{className:"bg-liberation-cream/30 rounded-lg p-4 border border-liberation-gold/20",children:[e.jsxs("h4",{className:"font-semibold text-liberation-black mb-4 flex items-center",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),"Community Feedback"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-1",children:S(Math.round(l.averageRating),"md")}),e.jsxs("div",{className:"font-bold text-liberation-pride-purple",children:[l.averageRating.toFixed(1),"/5"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Overall Rating"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-liberation-pride-pink",children:[Math.round(l.attendanceRate),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Attendance Rate"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-liberation-gold",children:[Math.round(l.recommendationRate),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Would Recommend"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-liberation-healing-sage",children:l.totalReviews}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Reviews"})]})]}),l.averageAccessibility>0&&e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-liberation-pride-purple",children:[l.averageAccessibility.toFixed(1),"/5"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Accessibility"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-liberation-pride-purple",children:[l.averageOrganization.toFixed(1),"/5"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Organization"})]})]})]}),!j&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-semibold text-liberation-black",children:"Did you attend this event?"}),e.jsx("button",{onClick:()=>c(!v),className:"px-4 py-2 bg-liberation-gold text-liberation-black rounded-lg hover:bg-liberation-gold/80 transition-colors",children:v?"Cancel":"Leave Review"})]}),v&&e.jsxs("form",{onSubmit:h,className:"space-y-6 p-4 bg-white rounded-lg border border-liberation-gold/20",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-sm font-medium text-liberation-black",children:"Did you attend?"}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:f.attended,onChange:N=>m(P(I({},f),{attended:N.target.checked})),className:"rounded border-liberation-gold/20"}),e.jsx("span",{className:"text-sm",children:"Yes, I attended this event"})]})]}),f.attended&&e.jsxs(e.Fragment,{children:[T(f.star_rating,N=>m(P(I({},f),{star_rating:N})),"Overall Rating"),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[T(f.accessibility_rating,N=>m(P(I({},f),{accessibility_rating:N})),"Accessibility"),T(f.organization_rating,N=>m(P(I({},f),{organization_rating:N})),"Organization")]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-liberation-black",children:"Would you recommend this event?"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",checked:f.would_recommend,onChange:()=>m(P(I({},f),{would_recommend:!0})),className:"border-liberation-gold/20"}),e.jsx("span",{className:"text-sm",children:"Yes"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",checked:!f.would_recommend,onChange:()=>m(P(I({},f),{would_recommend:!1})),className:"border-liberation-gold/20"}),e.jsx("span",{className:"text-sm",children:"No"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-liberation-black",children:"Share your experience (optional)"}),e.jsx("textarea",{value:f.review_text,onChange:N=>m(P(I({},f),{review_text:N.target.value})),placeholder:"What did you think of the event? How could it be improved?",className:"w-full p-3 border border-liberation-gold/20 rounded-lg focus:outline-none focus:border-liberation-gold resize-none",rows:4})]}),e.jsx("button",{type:"submit",disabled:A,className:"w-full py-3 bg-liberation-gold text-liberation-black rounded-lg hover:bg-liberation-gold/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:A?"Submitting...":"Submit Review"})]})]}),i&&n.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-liberation-black",children:"Community Reviews"}),n.map(N=>e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-liberation-gold/20",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[N.attended&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-liberation-pride-pink/10 text-liberation-pride-pink text-xs font-medium rounded-full",children:"Attended"}),N.star_rating&&S(N.star_rating)]}),e.jsx("div",{className:"text-sm text-gray-500",children:new Date(N.created_at).toLocaleDateString()})]}),N.review_text&&e.jsx("p",{className:"text-gray-700 mb-3",children:N.review_text}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[N.would_recommend!==null&&e.jsx("span",{className:`${N.would_recommend?"text-liberation-pride-pink":"text-gray-500"}`,children:N.would_recommend?"👍 Recommends":"👎 Doesn't recommend"}),N.accessibility_rating&&e.jsxs("span",{className:"text-gray-600",children:["Accessibility: ",N.accessibility_rating,"/5"]})]}),e.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-liberation-gold",children:[e.jsx(Be,{className:"h-4 w-4"}),e.jsx("span",{children:N.helpful_count||0})]})]})]},N.id))]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Reviews help IVOR learn about event quality and community preferences. All feedback is used to improve future events and recommendations."})]})}const xs=()=>{const[a,t]=u.useState([]),[s,i]=u.useState(!0),[r,n]=u.useState("all"),[o,l]=u.useState(null);u.useEffect(()=>{b()},[]);const b=()=>C(M,null,function*(){i(!0);try{const g=yield ls.getEvents();t(g)}catch(g){console.error("Failed to load events:",g),t([])}finally{i(!1)}}),j=[{key:"all",label:"All Events"},{key:"mutual-aid",label:"Mutual Aid"},{key:"organizing",label:"Organizing"},{key:"education",label:"Education"},{key:"celebration",label:"Celebration"},{key:"support",label:"Support"},{key:"action",label:"Action"}],w=r==="all"?a:a.filter(g=>g.type===r),v=g=>{const E=new Date(g);return{day:E.toLocaleDateString("en-US",{weekday:"short"}),date:E.toLocaleDateString("en-US",{month:"short",day:"numeric"}),time:E.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}},c=g=>({"mutual-aid":"bg-liberation-pride-pink/20 text-liberation-pride-pink border-liberation-pride-pink/30",organizing:"bg-liberation-gold/20 text-liberation-gold border-liberation-gold/30",education:"bg-liberation-pride-purple/20 text-liberation-pride-purple border-liberation-pride-purple/30",celebration:"bg-liberation-healing-sage/20 text-liberation-healing-sage border-liberation-healing-sage/30",support:"bg-liberation-cream/20 text-liberation-black border-liberation-cream/30",action:"bg-liberation-sovereignty-gold/20 text-liberation-sovereignty-gold border-liberation-sovereignty-gold/30"})[g]||"bg-gray-500/20 text-gray-500 border-gray-500/30",A=g=>new Date(g)<new Date;return s?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-liberation-sovereignty-gold/30 border-t-liberation-sovereignty-gold rounded-full animate-spin mx-auto mb-4"}),e.jsx("div",{className:"text-liberation-sovereignty-gold font-bold",children:"Loading Community Events..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900",children:[e.jsx(te,{title:"📅 COMMUNITY EVENTS",subtitle:"Liberation Organizing & Community Building",description:"Trauma-informed accessible spaces for democratic organizing, mutual aid, and collective liberation. Build community power through action.",videos:["/videos/hero/PLATFORM HERO 1.mp4","/videos/hero/PLATFORM HERO 2.mp4","/videos/hero/PLATFORM HERO 3.mp4"],height:"md",textColor:"light",overlayOpacity:.8,className:"mb-8"}),e.jsx("header",{className:"border-b border-liberation-sovereignty-gold/20 bg-black/50 backdrop-blur-sm sticky top-0 z-50",children:e.jsx("div",{className:"max-w-6xl mx-auto px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center text-gray-400 hover:text-liberation-sovereignty-gold transition-colors",children:[e.jsx(ke,{className:"h-5 w-5 mr-2"}),"Back to Platform"]})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-3xl font-black text-white mb-2",children:["COMMUNITY ",e.jsx("span",{className:"text-liberation-sovereignty-gold",children:"EVENTS"})]}),e.jsx("p",{className:"text-gray-400",children:"Liberation organizing and community building calendar"})]}),e.jsx("div",{className:"w-32"})]})})}),e.jsx("section",{className:"py-8 px-8 border-b border-gray-800",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx("div",{className:"flex flex-wrap gap-3",children:j.map(g=>e.jsx("button",{onClick:()=>n(g.key),className:`px-4 py-2 rounded-full text-sm font-bold transition-all duration-300 ${r===g.key?"bg-liberation-sovereignty-gold text-black":"bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:g.label},g.key))})})}),e.jsx("main",{className:"py-12 px-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:w.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-24 h-24 bg-liberation-sovereignty-gold/20 rounded-3xl flex items-center justify-center mx-auto mb-6",children:e.jsx(J,{className:"h-12 w-12 text-liberation-sovereignty-gold"})}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"No Events Yet"}),e.jsx("p",{className:"text-xl text-gray-400 mb-8 max-w-2xl mx-auto",children:"The community calendar is ready for liberation organizing. Be the first to build community power through collective action."}),e.jsxs("div",{className:"bg-liberation-sovereignty-gold/10 border border-liberation-sovereignty-gold/20 rounded-2xl p-8 max-w-2xl mx-auto mb-12",children:[e.jsx("h3",{className:"text-liberation-sovereignty-gold font-bold text-lg mb-4",children:"Community Event Values"}),e.jsxs("div",{className:"text-gray-300 text-left space-y-2",children:[e.jsx("div",{children:"• Trauma-informed and accessible spaces"}),e.jsx("div",{children:"• Democratic organizing and mutual aid"}),e.jsx("div",{children:"• Black queer joy and community celebration"}),e.jsx("div",{children:"• Anti-oppression education and healing"})]})]}),e.jsx("div",{className:"max-w-4xl mx-auto mt-12",children:e.jsx(it,{maxItems:6,showNewsletter:!1})})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:w.sort((g,E)=>new Date(g.date).getTime()-new Date(E.date).getTime()).map(g=>{const E=v(g.date),x=A(g.date),f=c(g.type);return e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-liberation-sovereignty-gold/10 rounded-2xl p-4 md:p-6 hover:border-liberation-sovereignty-gold/30 transition-all duration-300",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-bold border ${f}`,children:g.type.toUpperCase().replace("-"," ")}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-liberation-sovereignty-gold font-bold",children:E.day}),e.jsx("div",{className:"text-xs text-gray-400",children:E.date})]})]}),e.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-2 line-clamp-2",children:g.title}),e.jsx("p",{className:"text-gray-400 text-xs md:text-sm leading-relaxed mb-3 md:mb-4 line-clamp-3",children:g.description})]}),e.jsxs("div",{className:"space-y-2 mb-3 md:mb-4",children:[e.jsxs("div",{className:"flex items-center text-xs md:text-sm text-gray-300",children:[e.jsx(et,{className:"h-3 md:h-4 w-3 md:w-4 mr-2 text-liberation-sovereignty-gold"}),E.time]}),e.jsxs("div",{className:"flex items-start text-xs md:text-sm text-gray-300",children:[e.jsx(Me,{className:"h-3 md:h-4 w-3 md:w-4 mr-2 text-liberation-sovereignty-gold flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"capitalize",children:g.location.type}),g.location.details&&e.jsx("div",{className:"text-gray-400 text-xs",children:g.location.details})]})]}),e.jsxs("div",{className:"flex items-center text-xs md:text-sm text-gray-300",children:[e.jsx($,{className:"h-3 md:h-4 w-3 md:w-4 mr-2 text-liberation-sovereignty-gold"}),e.jsxs("span",{children:["Organized by ",g.organizer.name]})]}),g.sourceUrl&&e.jsxs("div",{className:"flex items-center text-xs md:text-sm text-gray-300",children:[e.jsx(K,{className:"h-3 md:h-4 w-3 md:w-4 mr-2 text-liberation-sovereignty-gold"}),e.jsx("a",{href:g.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-liberation-sovereignty-gold hover:text-liberation-sovereignty-gold/80 transition-colors underline",children:"View Original Source"})]}),g.registration.required&&g.registration.capacity&&e.jsxs("div",{className:"text-sm text-gray-400",children:[g.registration.currentAttendees||0," / ",g.registration.capacity," registered"]})]}),g.accessibilityFeatures.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs text-liberation-pride-pink font-semibold mb-1",children:"Accessibility:"}),e.jsx("div",{className:"text-xs text-gray-400",children:g.accessibilityFeatures.join(", ")})]}),e.jsx("div",{className:"border-t border-gray-700 pt-4 mb-4",children:e.jsx(Pe,{contentType:"event",contentId:g.id,title:g.title,compact:!0,showTransparency:!1})}),x&&e.jsx("div",{className:"border-t border-gray-700 pt-4",children:o===g.id?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm font-semibold text-liberation-pride-purple",children:"Share Your Experience"}),e.jsx("button",{onClick:()=>l(null),className:"text-xs text-gray-400 hover:text-white",children:"Cancel"})]}),e.jsx(ms,{eventId:g.id,eventTitle:g.title,compact:!0,onReviewSubmitted:()=>l(null)})]}):e.jsx("button",{onClick:()=>l(g.id),className:"w-full text-sm bg-liberation-pride-purple/20 border border-liberation-pride-purple/30 text-liberation-pride-purple hover:bg-liberation-pride-purple/30 py-2 px-4 rounded-lg transition-colors",children:"Did you attend? Share your experience"})}),!x&&g.registration.required&&e.jsx("div",{className:"border-t border-gray-700 pt-4",children:e.jsx("button",{onClick:()=>{console.log("RSVP for event:",g.id)},className:"w-full bg-liberation-sovereignty-gold hover:bg-liberation-sovereignty-gold/90 text-black py-2 px-4 rounded-lg font-semibold transition-colors",children:"Register for Event"})})]},g.id)})})})}),e.jsx("section",{className:"py-16 px-8 border-t border-gray-800",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("h2",{className:"text-3xl font-bold text-white mb-6",children:["Organize with ",e.jsx("span",{className:"text-liberation-sovereignty-gold",children:"Community Power"})]}),e.jsx("p",{className:"text-xl text-gray-400 mb-8",children:"Create trauma-informed, accessible events that build liberation and community solidarity."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{className:"bg-liberation-sovereignty-gold hover:bg-liberation-sovereignty-gold/90 text-black py-3 md:py-4 px-6 md:px-8 rounded-2xl font-bold text-base md:text-lg transition-all duration-300 hover:scale-105 touch-friendly",onClick:()=>{console.log("Navigate to event submission form")},children:"Organize an Event"}),e.jsx("button",{className:"bg-transparent border-2 border-liberation-sovereignty-gold text-liberation-sovereignty-gold hover:bg-liberation-sovereignty-gold hover:text-black py-3 md:py-4 px-6 md:px-8 rounded-2xl font-bold text-base md:text-lg transition-all duration-300 touch-friendly",onClick:()=>{console.log("Navigate to community organizing guidelines")},children:"Organizing Guidelines"})]})]})})]})},us="https://your-project.supabase.co",hs="your-anon-key-here",fe=Se(us,hs),Te=[{id:"problem-solving",name:"Problem-Solving Assistant",description:"Work through challenges step by step with community-centered solutions",icon:"🧠",category:"problem-solving",prompt:"I need help working through a problem. Can you guide me through a step-by-step process that centers community wisdom and liberation principles?"},{id:"conflict-resolution",name:"Conflict Resolution",description:"Navigate interpersonal challenges with trauma-informed approaches",icon:"🤝",category:"problem-solving",prompt:"I'm dealing with a conflict and need guidance on how to approach it with community care and trauma-informed practices."},{id:"study-buddy",name:"Study Partner",description:"Get help understanding concepts and organizing learning",icon:"📚",category:"learning",prompt:"I'd like you to be my study partner. Can you help me understand and learn about a topic?"},{id:"emotional-support",name:"Emotional Check-In",description:"Space for emotional processing and community support",icon:"💜",category:"emotional-support",prompt:"I could use some emotional support and a caring check-in. Can you help me process what I'm feeling?"},{id:"jokes-humor",name:"Jokes & Humor",description:"Share community-appropriate jokes and lighthearted moments",icon:"😄",category:"entertainment",prompt:"I could use a good laugh! Can you share some community-appropriate humor or a joke?"},{id:"liberation-wisdom",name:"Liberation Wisdom",description:"Explore liberation principles and community wisdom",icon:"✊🏾",category:"learning",prompt:"I'd like to explore liberation principles and community wisdom. Can you share some insights?"},{id:"creative-spark",name:"Creative Inspiration",description:"Get unstuck with creative projects and artistic expression",icon:"🎨",category:"problem-solving",prompt:"I'm feeling creatively stuck. Can you help me find inspiration and new approaches to my creative work?"},{id:"resource-finder",name:"Resource Navigator",description:"Find community resources and mutual aid opportunities",icon:"🗺️",category:"learning",prompt:"I need help finding resources or connecting with community support. Can you guide me?"}];function gs({onClose:a}){const[t,s]=u.useState([{id:"1",type:"ivor",content:"Hello! I'm IVOR, your community AI assistant. I'm here to support you with learning tools, problem-solving, and community wisdom. How can I help you today?",timestamp:new Date,category:"greeting"}]),[i,r]=u.useState(""),[n,o]=u.useState(!1),[l,b]=u.useState(!0),[j,w]=u.useState(null),v=u.useRef(null),c=()=>{var m;(m=v.current)==null||m.scrollIntoView({behavior:"smooth"})};u.useEffect(()=>{c()},[t]);const A=Array.from(new Set(Te.map(m=>m.category))),g=j?Te.filter(m=>m.category===j):Te,E=(...p)=>C(this,[...p],function*(m=i){if(!m.trim())return;const y={id:Date.now().toString(),type:"user",content:m.trim(),timestamp:new Date};s(d=>[...d,y]),r(""),o(!0),b(!1);try{fe&&(yield fe.from("ivor_conversations").insert([{user_message:m,timestamp:new Date().toISOString(),session_id:"webapp-session-"+Date.now()}]));const d=yield f(m),k={id:(Date.now()+1).toString(),type:"ivor",content:d,timestamp:new Date};s(h=>[...h,k]),fe&&(yield fe.from("ivor_conversations").insert([{ivor_response:d,timestamp:new Date().toISOString(),session_id:"webapp-session-"+Date.now()}]))}catch(d){console.error("Error sending message:",d);const k={id:(Date.now()+1).toString(),type:"ivor",content:"I apologize, but I'm having trouble responding right now. Please try again or reach out to the community for support.",timestamp:new Date};s(h=>[...h,k])}finally{o(!1)}}),x=m=>{E(m.prompt)},f=m=>C(this,null,function*(){const p=m.toLowerCase();if(p.includes("problem")||p.includes("challenge")||p.includes("step-by-step"))return`Let's work through this together using community-centered problem-solving:

1. **Define the Challenge**: What exactly are you facing? Let's name it clearly and without judgment.

2. **Community Perspective**: How might this challenge affect not just you, but your community connections?

3. **Resources & Strengths**: What resources, skills, or community support do you already have?

4. **Liberation-Centered Solutions**: What options align with our values of mutual aid, community care, and collective liberation?

5. **Action Steps**: What's one small, manageable step you could take today?

Would you like to work through any of these steps together? I'm here to support you with trauma-informed, community-centered guidance.`;if(p.includes("conflict")||p.includes("resolution")||p.includes("trauma-informed"))return`Conflict is natural in community spaces. Let's approach this with care:

**Trauma-Informed Approach:**
- Center safety for all involved
- Recognize that conflict can trigger past traumas
- Move at the pace of trust, not urgency

**Community Care Steps:**
1. Pause and breathe - your nervous system matters
2. Identify your needs and feelings without blame
3. Consider the other person's humanity and circumstances
4. Seek to understand before being understood
5. Focus on impact over intent

**Restorative Questions:**
- What happened and who was affected?
- What needs weren't met?
- How can we move forward together?

Would you like to explore any of these approaches more deeply? I'm here to support you in navigating this with community wisdom.`;if(p.includes("study")||p.includes("learn")||p.includes("understand"))return`I'd love to be your study partner! Learning is more powerful when we do it together.

**How I can support your learning:**
- Break down complex topics into manageable pieces
- Help you make connections between new and existing knowledge
- Practice active recall and spaced repetition
- Connect learning to liberation and community wisdom
- Celebrate your progress and growth

**Learning with Liberation Principles:**
- Knowledge belongs to the community
- Different ways of knowing are valuable
- Learning should serve collective liberation
- Mistakes are part of the process

What subject or topic would you like to explore together? I'm here to support your learning journey with patience and encouragement.`;if(p.includes("emotional")||p.includes("feeling")||p.includes("support")||p.includes("check-in"))return`Thank you for trusting me with your feelings. Your emotions are valid and deserve care.

**Gentle Check-In:**
How are you holding up right now? It's okay if the answer is "not great" - you don't have to be strong all the time.

**Reminders for Your Heart:**
- You are worthy of love and care exactly as you are
- It's okay to feel multiple things at once
- Community healing happens through individual healing
- Your struggles don't define your worth

**Community Care Suggestions:**
- Reach out to a trusted friend or community member
- Practice grounding techniques (5-4-3-2-1 senses)
- Move your body gently if it feels good
- Rest without guilt

I'm here to listen without judgment. What would feel most supportive for you right now?`;if(p.includes("joke")||p.includes("humor")||p.includes("laugh")){const y=["Why did the liberation organizer bring a ladder to the meeting? Because they heard it was time to raise consciousness! 😄","What's a community organizer's favorite type of music? Protest songs... but they're always in harmony! 🎵","Why don't oppressive systems ever win at hide and seek? Because the community always finds them! 👀","What did one liberation activist say to another? 'We're stronger together!' (And they weren't wrong!) ✊🏾","Why did the mutual aid network cross the road? To help the chicken get to the other side - because no one should have to journey alone! 🐔💜"];return`Here's some community humor for you:

${y[Math.floor(Math.random()*y.length)]}

Laughter is resistance! Community joy is a radical act. Sometimes we need moments of lightness to sustain us in the work of liberation.

Would you like another joke, or is there something else I can help brighten your day with?`}return p.includes("liberation")||p.includes("wisdom")||p.includes("principles")?`Liberation wisdom flows from our ancestors and grows through our collective experiences:

**Core Liberation Principles:**
- "Nobody's free until everybody's free" - We rise together
- Community care is not just self-care scaled up
- Center those most impacted by systems of oppression
- Mutual aid is solidarity, not charity
- Healing happens in community

**Ancestral Wisdom:**
"If you have come here to help me, you are wasting your time. But if you have come because your liberation is bound up with mine, then let us work together." - Aboriginal activists, Queensland, 1970s

**Community Practices:**
- Listen more than you speak
- Share resources and power
- Hold space for difficult emotions
- Celebrate small victories together
- Rest is resistance

What aspect of liberation wisdom resonates with you today? I'm here to explore these principles together.`:p.includes("creative")||p.includes("art")||p.includes("stuck")||p.includes("inspiration")?`Creative blocks are just energy waiting to flow in new directions! Let's unstick that creative spark:

**Creative Unsticking Techniques:**
- Change your environment (even just a different chair)
- Start with the "worst" idea first - take the pressure off
- Set a timer for 5 minutes and create anything
- Ask: "What would my ancestor create?"
- Connect your art to community needs

**Liberation-Centered Creativity:**
- How does your creativity serve the community?
- What stories need telling that only you can tell?
- How can your art be an act of resistance?
- What beauty can you bring to the movement?

**Creative Prompts:**
- Create something that celebrates community resilience
- Make art from materials you have right now
- Tell a story about mutual aid in action
- Design something that brings joy to your neighbors

What kind of creative work calls to you? I'm here to help you reconnect with your artistic power!`:p.includes("resource")||p.includes("help")||p.includes("support")||p.includes("mutual aid")?`Finding community resources is an act of mutual aid! Let's connect you with support:

**Types of Community Resources:**
- Mutual aid networks and food pantries
- Community healing and therapy resources
- Educational opportunities and skill shares
- Housing assistance and tenant organizing
- Economic justice and cooperative development
- Legal aid and know-your-rights trainings

**How to Find Local Resources:**
- Search "[your city] mutual aid network"
- Check with local community centers
- Connect with faith communities doing justice work
- Look for community fridges and little free libraries
- Ask neighbors and community members

**Mutual Aid Principles:**
- Solidarity, not charity
- No strings attached
- Led by those most impacted
- Meets immediate needs while working for systemic change

What specific type of support are you looking for? I can help you think through where to start looking and how to connect with community resources.`:`Thank you for sharing that with me. I'm here to support you however I can.

I can help with:
- Problem-solving and working through challenges
- Learning and studying together
- Emotional support and check-ins
- Finding community resources
- Creative inspiration
- Sharing liberation wisdom
- A good joke when you need one!

What would feel most helpful for you right now? I'm here to listen and support you with community-centered care.`});return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 md:p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl h-[95vh] md:h-[80vh] flex flex-col max-h-screen",children:[e.jsxs("div",{className:"bg-liberation-gold text-liberation-black p-3 md:p-4 rounded-t-lg flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[e.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-liberation-black rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-liberation-gold font-bold text-sm md:text-base",children:"I"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg md:text-xl font-bold",children:"IVOR - Community AI Assistant"}),e.jsx("p",{className:"text-xs md:text-sm opacity-80 hidden sm:block",children:"Your learning companion and community support"})]})]}),e.jsx("button",{onClick:a,className:"text-liberation-black hover:text-liberation-black/70 text-xl md:text-2xl font-bold touch-friendly p-1","aria-label":"Close IVOR Assistant",children:"×"})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[l&&e.jsxs("div",{className:"w-full md:w-1/3 bg-liberation-cream border-r border-liberation-gold/20 p-3 md:p-4 overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3 md:mb-4",children:[e.jsx("h3",{className:"font-bold text-liberation-black text-sm md:text-base",children:"Learning Tools"}),e.jsx("button",{onClick:()=>b(!1),className:"md:hidden text-liberation-black/60 hover:text-liberation-black touch-friendly","aria-label":"Close learning tools",children:"×"})]}),e.jsx("div",{className:"mb-3 md:mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1 md:gap-2",children:[e.jsx("button",{onClick:()=>w(null),className:`px-2 md:px-3 py-1 rounded-full text-xs touch-friendly ${j===null?"bg-liberation-gold text-liberation-black":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"All"}),A.map(m=>e.jsx("button",{onClick:()=>w(m),className:`px-2 md:px-3 py-1 rounded-full text-xs capitalize touch-friendly ${j===m?"bg-liberation-gold text-liberation-black":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:m.replace("-"," ")},m))]})}),e.jsx("div",{className:"space-y-2 md:space-y-3",children:g.map(m=>e.jsx("button",{onClick:()=>x(m),className:"w-full text-left p-2 md:p-3 bg-white rounded-lg border border-liberation-gold/20 hover:border-liberation-gold hover:bg-liberation-gold/5 transition-all touch-friendly",children:e.jsxs("div",{className:"flex items-start space-x-2 md:space-x-3",children:[e.jsx("span",{className:"text-lg md:text-2xl",children:m.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-liberation-black text-xs md:text-sm",children:m.name}),e.jsx("p",{className:"text-xs text-gray-600 mt-1 hidden sm:block",children:m.description})]})]})},m.id))})]}),e.jsxs("div",{className:`${l?"hidden md:flex md:w-2/3":"w-full"} flex-col`,children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 space-y-3 md:space-y-4",children:[t.map(m=>e.jsx("div",{className:`flex ${m.type==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[85%] md:max-w-[80%] p-2 md:p-3 rounded-lg ${m.type==="user"?"bg-liberation-gold text-liberation-black":"bg-liberation-cream text-liberation-black border border-liberation-gold/20"}`,children:[e.jsx("p",{className:"whitespace-pre-line text-sm md:text-base",children:m.content}),e.jsx("p",{className:"text-xs opacity-60 mt-1 md:mt-2",children:m.timestamp.toLocaleTimeString()})]})},m.id)),n&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-liberation-cream text-liberation-black border border-liberation-gold/20 p-2 md:p-3 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-liberation-gold rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-liberation-gold rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-liberation-gold rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),e.jsx("div",{ref:v})]}),e.jsxs("div",{className:"border-t border-liberation-gold/20 p-3 md:p-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:i,onChange:m=>r(m.target.value),onKeyPress:m=>m.key==="Enter"&&E(),placeholder:"Ask IVOR anything...",className:"flex-1 p-2 md:p-3 border border-liberation-gold/20 rounded-lg focus:outline-none focus:border-liberation-gold text-sm md:text-base",disabled:n}),e.jsx("button",{onClick:()=>E(),disabled:n||!i.trim(),className:"px-4 md:px-6 py-2 md:py-3 bg-liberation-gold text-liberation-black rounded-lg hover:bg-liberation-gold/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors touch-friendly text-sm md:text-base",children:"Send"})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("button",{onClick:()=>b(!l),className:"text-xs md:text-sm text-liberation-black/60 hover:text-liberation-black touch-friendly",children:l?"Hide Tools":"Show Tools"}),e.jsx("p",{className:"text-xs text-liberation-black/60 hidden sm:block",children:"IVOR supports community learning and mutual aid"})]})]})]})]})]})})}const bs=({activeTab:a,onTabChange:t,onIVOROpen:s,isAdminAuthenticated:i})=>{const[r,n]=u.useState(!1),o=[{id:"liberation",label:"Liberation",icon:V},{id:"about",label:"About",icon:tt},{id:"news",label:"News",icon:be},{id:"stories",label:"Stories",icon:V},{id:"events",label:"Events",icon:J}],l=b=>{t(b),n(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden",children:e.jsx("button",{onClick:()=>n(!r),className:"touch-friendly p-2 text-liberation-silver hover:text-liberation-gold-divine transition-colors","aria-label":"Open navigation menu",children:r?e.jsx(xe,{className:"h-6 w-6"}):e.jsx(Tt,{className:"h-6 w-6"})})}),r&&e.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-liberation-black-power bg-opacity-90 backdrop-blur-sm",onClick:()=>n(!1)}),e.jsxs("div",{className:"fixed inset-y-0 right-0 w-80 max-w-[80vw] bg-liberation-black-power border-l border-liberation-silver border-opacity-20 overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-liberation-silver border-opacity-20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xl font-bold text-liberation-gold-divine",children:"🏴‍☠️ BLKOUT"}),e.jsx("button",{onClick:()=>n(!1),className:"touch-friendly p-2 text-liberation-silver hover:text-liberation-gold-divine transition-colors","aria-label":"Close navigation menu",children:e.jsx(xe,{className:"h-6 w-6"})})]})}),e.jsxs("nav",{className:"p-4 space-y-2",children:[o.map(({id:b,label:j,icon:w})=>e.jsxs("button",{onClick:()=>l(b),className:_("w-full flex items-center gap-3 p-4 rounded-lg text-left transition-all duration-200 touch-friendly",a===b?"bg-liberation-gold-divine text-liberation-black-power font-semibold":"text-liberation-silver hover:bg-liberation-silver hover:bg-opacity-10 hover:text-liberation-gold-divine"),children:[e.jsx(w,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:j})]},b)),e.jsxs("div",{className:"pt-4 border-t border-liberation-silver border-opacity-20",children:[e.jsx("button",{onClick:()=>{s(),n(!1)},className:"w-full bg-liberation-green-africa text-white p-4 rounded-lg hover:bg-opacity-80 transition-colors touch-friendly font-medium",children:"Ask IVOR"}),i&&e.jsx("div",{className:"mt-2 text-liberation-gold-divine text-sm text-center",children:"Admin Authenticated"})]})]}),e.jsx("div",{className:"p-4 mt-8 border-t border-liberation-silver border-opacity-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-liberation-gold-divine font-semibold mb-2",children:"Liberation Values"}),e.jsxs("div",{className:"space-y-1 text-sm text-liberation-silver",children:[e.jsx("div",{children:"✊🏾 Fair Creator Compensation"}),e.jsx("div",{children:"🗳️ Democratic Governance"}),e.jsx("div",{children:"💜 Trauma-Informed Design"}),e.jsx("div",{children:"💰 Economic Justice"})]})]})})]})]})]})},ps=()=>{const[a,t]=u.useState(null),[s,i]=u.useState(!1),[r,n]=u.useState(!1);return u.useEffect(()=>{(()=>{const w=window.matchMedia("(display-mode: standalone)").matches,v=window.navigator.standalone===!0;n(w||v)})();const b=w=>{w.preventDefault(),t(w),i(!0),console.log("🏴‍☠️ BLKOUT Liberation Platform install prompt available")},j=()=>{n(!0),i(!1),t(null),console.log("🏴‍☠️ BLKOUT Liberation Platform installed successfully")};return window.addEventListener("beforeinstallprompt",b),window.addEventListener("appinstalled",j),()=>{window.removeEventListener("beforeinstallprompt",b),window.removeEventListener("appinstalled",j)}},[]),{isInstallable:s,isInstalled:r,promptInstall:()=>C(M,null,function*(){if(!a)return!1;try{return yield a.prompt(),(yield a.userChoice).outcome==="accepted"?(console.log("🏴‍☠️ User accepted liberation platform installation"),i(!1),t(null),!0):(console.log("🏴‍☠️ User dismissed liberation platform installation"),!1)}catch(l){return console.error("🏴‍☠️ Liberation platform installation error:",l),!1}})}},ys=()=>{const{isInstallable:a,isInstalled:t,promptInstall:s}=ps(),[i,r]=u.useState(!1);if(!a||t||i)return null;const n=()=>C(M,null,function*(){(yield s())||r(!0)}),o=()=>{r(!0)};return e.jsxs("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-80 bg-liberation-gold-divine text-liberation-black-power p-4 rounded-xl shadow-lg border-2 border-liberation-sovereignty-gold z-50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rt,{className:"h-5 w-5"}),e.jsx("h3",{className:"font-bold text-sm",children:"Install Liberation Platform"})]}),e.jsx("button",{onClick:o,className:"text-liberation-black-power/60 hover:text-liberation-black-power touch-friendly p-1","aria-label":"Dismiss install prompt",children:e.jsx(xe,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-xs mb-3 text-liberation-black-power/80",children:"Add BLKOUT to your home screen for faster access to community liberation."}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:n,className:"flex-1 bg-liberation-black-power text-liberation-gold-divine py-2 px-3 rounded-lg text-xs font-semibold hover:bg-opacity-80 transition-colors touch-friendly flex items-center justify-center space-x-1",children:[e.jsx(Xe,{className:"h-3 w-3"}),e.jsx("span",{children:"Install App"})]}),e.jsx("button",{onClick:o,className:"px-3 py-2 text-xs text-liberation-black-power/60 hover:text-liberation-black-power transition-colors touch-friendly",children:"Later"})]}),e.jsx("div",{className:"mt-2 text-xs text-liberation-black-power/60",children:"✊🏾 Creator Sovereignty • 🗳️ Democratic Governance"})]})},vs=({onComplete:a,onSkip:t,onOpenIVOR:s,className:i})=>{const[r,n]=u.useState(0),[o,l]=u.useState(null),b=[{id:"welcome",title:"🏴‍☠️ Welcome to the BLKOUT Ecosystem",content:"A complete digital liberation infrastructure by and for Black queer communities. Discover our interconnected platforms designed with your sovereignty in mind.",action:"next"},{id:"ecosystem",title:"Explore Our Liberation Ecosystem",content:"Choose how you want to begin your journey through our integrated platform experience.",action:"ecosystem"},{id:"transition",title:"Connecting You to Liberation",content:"Opening your selected pathway into the BLKOUT ecosystem...",action:"complete"}],j=()=>{r<b.length-1?n(r+1):v()},w=A=>{switch(n(2),A){case"scrollytelling":window.open("https://blkout-scrollytelling.vercel.app","_blank"),setTimeout(()=>v(),1e3);break;case"ivor":s&&setTimeout(()=>{v(),s()},1e3);break;case"platform":setTimeout(()=>v(),1e3);break;case"blkouthub":window.open("https://blkouthub.com","_blank"),setTimeout(()=>v(),1e3);break;case"newsletter":window.open("https://blkout.substack.com","_blank"),setTimeout(()=>v(),1e3);break}},v=()=>{localStorage.setItem("blkout-has-visited","true"),a()},c=()=>{localStorage.setItem("blkout-has-visited","true"),t()};return e.jsx(Dt,{mode:"wait",children:e.jsxs(B.div,{className:_("fixed inset-0 z-50 bg-gradient-to-br from-liberation-black-power via-liberation-purple-spirit to-liberation-black-power","flex items-center justify-center p-4",i),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-labelledby":"onboarding-title","aria-describedby":"onboarding-description",children:[e.jsx("button",{onClick:c,className:"absolute top-6 right-6 text-liberation-silver hover:text-liberation-gold-divine transition-colors z-10","aria-label":"Skip introduction",children:e.jsx(xe,{className:"h-6 w-6"})}),e.jsx("div",{className:"absolute top-6 left-6 flex space-x-2",children:b.map((A,g)=>e.jsx("div",{className:_("w-3 h-3 rounded-full transition-colors",g<=r?"bg-liberation-gold-divine":"bg-liberation-silver bg-opacity-30")},g))}),e.jsxs(B.div,{className:"max-w-2xl mx-auto text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:[e.jsxs(B.div,{className:"mb-8",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.6},children:[e.jsx("img",{src:"/blkout-logo.png",alt:"BLKOUT Logo",className:"h-20 w-20 mx-auto rounded-full mb-4"}),e.jsx("div",{className:"text-2xl font-bold text-liberation-gold-divine",children:"BLKOUT"})]}),e.jsx(B.h1,{id:"onboarding-title",className:"text-3xl md:text-4xl lg:text-5xl font-black text-liberation-gold-divine mb-6 leading-tight",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:b[r].title}),e.jsx(B.p,{id:"onboarding-description",className:"text-lg md:text-xl text-liberation-silver mb-8 leading-relaxed",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},children:b[r].content}),e.jsxs(B.div,{className:"space-y-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},children:[b[r].action==="ecosystem"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-4xl mx-auto",children:[e.jsxs(B.button,{onClick:()=>w("scrollytelling"),className:"group bg-gradient-to-br from-liberation-red-liberation to-liberation-purple-spirit text-white p-6 rounded-xl hover:scale-105 transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(be,{className:"h-8 w-8 text-liberation-gold-divine"})}),e.jsx("h3",{className:"text-lg font-bold mb-2",children:"Liberation Story"}),e.jsx("p",{className:"text-liberation-silver text-sm mb-4",children:"Experience our immersive scrollytelling journey through Black queer liberation."}),e.jsxs("div",{className:"flex items-center justify-center text-liberation-gold-divine font-semibold text-sm",children:["Watch Story",e.jsx(K,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]}),e.jsxs(B.button,{onClick:()=>w("ivor"),className:"group bg-gradient-to-br from-liberation-green-africa to-liberation-gold-divine text-liberation-black-power p-6 rounded-xl hover:scale-105 transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(Et,{className:"h-8 w-8 text-liberation-black-power"})}),e.jsx("h3",{className:"text-lg font-bold mb-2",children:"Meet IVOR"}),e.jsx("p",{className:"text-liberation-black-power opacity-80 text-sm mb-4",children:"Chat with our trauma-informed AI assistant built for our community."}),e.jsxs("div",{className:"flex items-center justify-center text-liberation-black-power font-semibold text-sm",children:["Start Chat",e.jsx(he,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]}),e.jsxs(B.button,{onClick:()=>w("platform"),className:"group bg-gradient-to-br from-liberation-purple-spirit to-liberation-black-power text-white p-6 rounded-xl hover:scale-105 transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx($,{className:"h-8 w-8 text-liberation-gold-divine"})}),e.jsx("h3",{className:"text-lg font-bold mb-2",children:"Community Platform"}),e.jsx("p",{className:"text-liberation-silver text-sm mb-4",children:"Explore events, stories, and democratic governance features."}),e.jsxs("div",{className:"flex items-center justify-center text-liberation-gold-divine font-semibold text-sm",children:["Enter Platform",e.jsx(he,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]}),e.jsxs(B.button,{onClick:()=>w("blkouthub"),className:"group bg-gradient-to-br from-liberation-gold-divine to-liberation-red-liberation text-liberation-black-power p-6 rounded-xl hover:scale-105 transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(Qe,{className:"h-8 w-8 text-liberation-black-power"})}),e.jsx("h3",{className:"text-lg font-bold mb-2",children:"BLKOUTHUB"}),e.jsx("p",{className:"text-liberation-black-power opacity-80 text-sm mb-4",children:"Join our secure community on Heartbeat.chat with enhanced governance access."}),e.jsxs("div",{className:"flex items-center justify-center text-liberation-black-power font-semibold text-sm",children:["Visit Hub",e.jsx(K,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]}),e.jsxs(B.button,{onClick:()=>w("newsletter"),className:"group bg-gradient-to-br from-liberation-silver to-liberation-purple-spirit text-liberation-black-power p-6 rounded-xl hover:scale-105 transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(He,{className:"h-8 w-8 text-liberation-black-power"})}),e.jsx("h3",{className:"text-lg font-bold mb-2",children:"Liberation Newsletter"}),e.jsx("p",{className:"text-liberation-black-power opacity-80 text-sm mb-4",children:"Stay connected with our liberation updates and community news."}),e.jsxs("div",{className:"flex items-center justify-center text-liberation-black-power font-semibold text-sm",children:["Subscribe",e.jsx(K,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]}),e.jsxs(B.button,{onClick:()=>w("platform"),className:"group bg-gradient-to-br from-liberation-black-power to-liberation-red-liberation text-white p-6 rounded-xl hover:scale-105 transition-all duration-300 border-2 border-liberation-gold-divine",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(V,{className:"h-8 w-8 text-liberation-gold-divine"})}),e.jsx("h3",{className:"text-lg font-bold mb-2",children:"I Want It All"}),e.jsx("p",{className:"text-liberation-silver text-sm mb-4",children:"Start here and explore the entire ecosystem at your own pace."}),e.jsxs("div",{className:"flex items-center justify-center text-liberation-gold-divine font-semibold text-sm",children:["Full Access",e.jsx(he,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})]}),b[r].action==="next"&&e.jsxs("button",{onClick:j,className:"bg-liberation-gold-divine text-liberation-black-power px-8 py-4 rounded-xl font-bold text-lg hover:bg-opacity-90 transition-colors flex items-center mx-auto",children:["Continue",e.jsx(he,{className:"h-5 w-5 ml-2"})]}),b[r].action==="complete"&&e.jsxs(B.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[e.jsx("div",{className:"w-16 h-16 border-4 border-liberation-gold-divine border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-liberation-silver mb-2",children:"Connecting you to the BLKOUT ecosystem..."}),e.jsx("p",{className:"text-liberation-gold-divine text-sm",children:"Welcome to liberation-centered technology."})]})]}),r===0&&e.jsx(B.button,{onClick:c,className:"mt-8 text-liberation-silver hover:text-liberation-gold-divine transition-colors text-sm",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:"I'm already familiar with BLKOUT"})]},r),e.jsx(B.div,{className:"absolute bottom-6 left-6 right-6 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-xs text-liberation-silver opacity-75",children:[e.jsx("span",{children:"🏴‍☠️ Creator Sovereignty"}),e.jsx("span",{children:"🗳️ Democratic Governance"}),e.jsx("span",{children:"💜 Trauma-Informed Design"}),e.jsx("span",{children:"🌍 Community Power"})]})})]})})},qe=({member:a,permissions:t,showFullDetails:s=!1,onViewProfile:i,className:r})=>{const n=()=>{switch(a.governanceLevel){case"steward":return e.jsx(ce,{className:"h-4 w-4 text-liberation-gold-divine"});case"organizer":return e.jsx(re,{className:"h-4 w-4 text-liberation-red-liberation"});case"participant":return e.jsx($,{className:"h-4 w-4 text-liberation-green-africa"});case"observer":return e.jsx(me,{className:"h-4 w-4 text-liberation-silver"});default:return null}},o=()=>{switch(a.governanceLevel){case"steward":return"from-liberation-gold-divine to-liberation-red-liberation";case"organizer":return"from-liberation-red-liberation to-liberation-purple-spirit";case"participant":return"from-liberation-green-africa to-liberation-gold-divine";case"observer":return"from-liberation-silver to-liberation-purple-spirit";default:return"from-liberation-black-power to-liberation-silver"}},l=()=>{switch(a.governanceLevel){case"steward":return"Community Steward";case"organizer":return"Liberation Organizer";case"participant":return"Active Participant";case"observer":return"Community Observer";default:return"Community Member"}};return e.jsxs("div",{className:_("bg-gradient-to-r border rounded-lg p-3",o(),"border-liberation-silver border-opacity-20",r),role:"group","aria-label":`BLKOUTHUB member: ${a.username}`,children:[!s&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[n(),e.jsx("span",{className:"text-liberation-black-power font-semibold text-sm",children:"BLKOUTHUB"})]}),e.jsx("div",{className:"text-liberation-black-power text-xs opacity-80",children:l()}),i&&e.jsx("button",{onClick:i,className:"text-liberation-black-power hover:text-liberation-black-power opacity-60 hover:opacity-100 transition-opacity","aria-label":"View BLKOUTHUB profile",children:e.jsx(K,{className:"h-3 w-3"})})]}),s&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[n(),e.jsxs("div",{children:[e.jsx("div",{className:"text-liberation-black-power font-bold text-sm",children:"BLKOUTHUB Member"}),e.jsx("div",{className:"text-liberation-black-power text-xs opacity-80",children:l()})]})]}),i&&e.jsxs("button",{onClick:i,className:"flex items-center space-x-1 text-liberation-black-power hover:text-liberation-black-power opacity-70 hover:opacity-100 transition-opacity text-xs",children:[e.jsx("span",{children:"View Profile"}),e.jsx(K,{className:"h-3 w-3"})]})]}),e.jsx("div",{className:"bg-liberation-black-power bg-opacity-20 rounded p-2 text-xs",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-liberation-black-power",children:[e.jsxs("div",{children:[e.jsx("span",{className:"opacity-70",children:"Member Since:"}),e.jsx("div",{className:"font-semibold",children:new Date(a.memberSince).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"opacity-70",children:"Voting Weight:"}),e.jsxs("div",{className:"font-semibold",children:[t.votingWeight,"x"]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-liberation-black-power font-semibold text-xs mb-1",children:"Governance Access:"}),e.jsx("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[{key:"canVote",label:"Voting Rights",icon:"🗳️"},{key:"canPropose",label:"Create Proposals",icon:"📝"},{key:"canModerate",label:"Moderation",icon:"🛡️"},{key:"canAccessFinancials",label:"Financial Access",icon:"💰"}].map(({key:b,label:j,icon:w})=>e.jsxs("div",{className:_("flex items-center space-x-1 p-1 rounded text-xs",t[b]?"text-liberation-black-power opacity-100":"text-liberation-black-power opacity-40"),children:[e.jsx("span",{children:w}),e.jsx("span",{className:_(t[b]?"font-medium":"line-through"),children:j})]},b))})]}),a.badges.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-liberation-black-power font-semibold text-xs",children:"Community Badges:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:a.badges.map((b,j)=>e.jsx("span",{className:"bg-liberation-black-power bg-opacity-30 text-liberation-black-power px-2 py-1 rounded text-xs font-medium",children:b},j))})]})]})]})},Ke=({member:a,permissions:t,displayMode:s="full",showJoinButton:i=!1,onJoinBLKOUTHUB:r,onViewProfile:n,className:o})=>{const l=()=>{const c=[{icon:e.jsx(re,{className:"h-5 w-5"}),title:"Secure Community Access",description:"Protected space on Heartbeat.chat with verified members",available:!0,level:"observer"},{icon:e.jsx($,{className:"h-5 w-5"}),title:"Direct Community Connection",description:"Connect with liberation organizers and community leaders",available:!0,level:"observer"}],A=[{icon:e.jsx(ie,{className:"h-5 w-5"}),title:"Enhanced Voting Rights",description:`${t.votingWeight}x voting weight on platform decisions`,available:t.canVote,level:"participant"},{icon:e.jsx(ge,{className:"h-5 w-5"}),title:"Proposal Creation",description:"Create and submit proposals for community consideration",available:t.canPropose,level:"organizer"},{icon:e.jsx(ce,{className:"h-5 w-5"}),title:"Moderation Tools",description:"Community stewardship and moderation capabilities",available:t.canModerate,level:"steward"},{icon:e.jsx(Q,{className:"h-5 w-5"}),title:"Financial Transparency",description:"Access to community financial reports and budget planning",available:t.canAccessFinancials,level:"steward"}];return[...c,...A]},b=()=>{const c=["observer","participant","organizer","steward"],A=c.indexOf(a.governanceLevel),g=c[A+1];return g?{nextLevel:g,requirement:{participant:"Active community participation for 30+ days",organizer:"Leadership in community initiatives and voting history",steward:"Community nomination and consensus approval"}[g]}:null},j=()=>e.jsxs("div",{className:_("bg-gradient-to-r from-liberation-gold-divine to-liberation-red-liberation","text-liberation-black-power rounded-lg p-4 flex items-center justify-between",o),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ce,{className:"h-6 w-6"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:"BLKOUTHUB Member"}),e.jsxs("div",{className:"text-sm opacity-80",children:[a.governanceLevel," • ",t.votingWeight,"x Vote Weight"]})]})]}),n&&e.jsxs("button",{onClick:n,className:"flex items-center space-x-1 hover:opacity-80 transition-opacity",children:[e.jsx("span",{className:"text-sm",children:"View Benefits"}),e.jsx(K,{className:"h-4 w-4"})]})]}),w=()=>e.jsxs(B.div,{className:_("bg-gradient-to-br from-liberation-purple-spirit to-liberation-black-power","border border-liberation-gold-divine border-opacity-30 rounded-xl p-6","text-liberation-silver max-w-md",o),initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:[e.jsx("div",{className:"text-center mb-4",children:e.jsx(qe,{member:a,permissions:t,showFullDetails:!1,className:"justify-center"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-liberation-gold-divine font-bold text-center",children:"Your BLKOUTHUB Benefits"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:l().filter(c=>c.available).slice(0,4).map((c,A)=>e.jsxs("div",{className:"text-center p-2 bg-liberation-black-power bg-opacity-30 rounded",children:[e.jsx("div",{className:"text-liberation-gold-divine mb-1 flex justify-center",children:c.icon}),e.jsx("div",{className:"text-xs font-medium",children:c.title})]},A))}),n&&e.jsx("button",{onClick:n,className:"w-full bg-liberation-gold-divine text-liberation-black-power py-2 rounded font-semibold hover:bg-opacity-90 transition-colors",children:"View All Benefits"})]})]}),v=()=>{var c,A;return e.jsxs("div",{className:_("bg-gradient-to-br from-liberation-purple-spirit to-liberation-black-power","border border-liberation-gold-divine border-opacity-30 rounded-xl p-6 md:p-8","text-liberation-silver",o),children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(B.div,{className:"w-20 h-20 bg-liberation-gold-divine rounded-full flex items-center justify-center mx-auto mb-4",initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:e.jsx(ce,{className:"h-10 w-10 text-liberation-black-power"})}),e.jsx("h2",{className:"text-2xl md:text-3xl font-black text-liberation-gold-divine mb-2",children:"BLKOUTHUB Member Benefits"}),e.jsx(qe,{member:a,permissions:t,showFullDetails:!0})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:l().map((g,E)=>e.jsx(B.div,{className:_("p-4 rounded-lg border",g.available?"bg-liberation-green-africa bg-opacity-20 border-liberation-green-africa text-liberation-green-africa":"bg-liberation-black-power bg-opacity-30 border-liberation-silver border-opacity-20 text-liberation-silver opacity-60"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+E*.1},children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:_("mt-1",g.available?"text-liberation-green-africa":"text-liberation-silver opacity-60"),children:g.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-sm",children:g.title}),g.available&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(It,{className:"h-3 w-3 text-liberation-gold-divine"}),e.jsx("span",{className:"text-xs text-liberation-gold-divine font-medium",children:"Active"})]})]}),e.jsx("p",{className:"text-xs opacity-90",children:g.description}),!g.available&&e.jsxs("p",{className:"text-xs mt-1 opacity-60",children:["Available at ",g.level," level"]})]})]})},g.title))}),b()&&e.jsxs("div",{className:"bg-liberation-black-power bg-opacity-30 rounded-lg p-4 mb-6",children:[e.jsxs("h3",{className:"text-liberation-gold-divine font-semibold text-sm mb-2",children:["🎯 Next Level: ",(c=b())==null?void 0:c.nextLevel]}),e.jsx("p",{className:"text-liberation-silver text-xs opacity-90",children:(A=b())==null?void 0:A.requirement})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"bg-liberation-black-power bg-opacity-30 rounded p-3",children:[e.jsx(V,{className:"h-5 w-5 text-liberation-red-liberation mx-auto mb-1"}),e.jsx("div",{className:"text-liberation-gold-divine font-semibold text-sm",children:"Member Since"}),e.jsx("div",{className:"text-xs text-liberation-silver",children:new Date(a.memberSince).toLocaleDateString()})]}),e.jsxs("div",{className:"bg-liberation-black-power bg-opacity-30 rounded p-3",children:[e.jsx(ee,{className:"h-5 w-5 text-liberation-gold-divine mx-auto mb-1"}),e.jsx("div",{className:"text-liberation-gold-divine font-semibold text-sm",children:"Communities"}),e.jsx("div",{className:"text-xs text-liberation-silver",children:a.communities.length})]}),e.jsxs("div",{className:"bg-liberation-black-power bg-opacity-30 rounded p-3",children:[e.jsx(Ze,{className:"h-5 w-5 text-liberation-purple-spirit mx-auto mb-1"}),e.jsx("div",{className:"text-liberation-gold-divine font-semibold text-sm",children:"Badges"}),e.jsx("div",{className:"text-xs text-liberation-silver",children:a.badges.length})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[n&&e.jsxs("button",{onClick:n,className:"flex-1 bg-liberation-gold-divine text-liberation-black-power px-6 py-3 rounded-lg font-bold hover:bg-opacity-90 transition-colors flex items-center justify-center",children:["Visit BLKOUTHUB",e.jsx(K,{className:"h-4 w-4 ml-2"})]}),e.jsx("button",{onClick:()=>window.open("https://help.heartbeat.chat/hc/en-us/articles/33257679789841-Managing-Community-Access-and-Visibility","_blank"),className:"px-6 py-3 border border-liberation-silver border-opacity-30 text-liberation-silver rounded-lg hover:bg-liberation-silver hover:bg-opacity-10 transition-colors text-sm",children:"Learn More"})]})]})};if(!a&&i)return e.jsxs("div",{className:_("bg-gradient-to-br from-liberation-purple-spirit to-liberation-black-power","border border-liberation-gold-divine border-opacity-30 rounded-xl p-6","text-liberation-silver text-center",o),children:[e.jsx(Ue,{className:"h-12 w-12 text-liberation-gold-divine mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-liberation-gold-divine mb-2",children:"Join BLKOUTHUB Community"}),e.jsx("p",{className:"text-sm opacity-90 mb-4",children:"Unlock enhanced governance participation and community benefits"}),r&&e.jsx("button",{onClick:r,className:"bg-liberation-gold-divine text-liberation-black-power px-6 py-3 rounded-lg font-bold hover:bg-opacity-90 transition-colors",children:"Join BLKOUTHUB"})]});switch(s){case"compact":return j();case"card":return w();case"full":default:return v()}},fs=l=>{var b=l,{communityRole:a="member",showHistory:t=!0,enableConsensusView:s=!0,traumaInformedMode:i=!0,className:r,"data-testid":n}=b,o=ye(b,["communityRole","showHistory","enableConsensusView","traumaInformedMode","className","data-testid"]);const[j,w]=u.useState(null),[v,c]=u.useState(!0),[A,g]=u.useState(null),[E,x]=u.useState("active");if(u.useEffect(()=>{C(M,null,function*(){try{c(!0),g(null);const y=yield W.getGovernanceDashboard();w(y)}catch(y){g(y instanceof Error?y.message:"Unable to load governance data")}finally{c(!1)}})},[]),v)return e.jsxs("div",{className:_("animate-pulse space-y-4 p-6",X.pride.purple,"opacity-20 rounded-lg",r),"data-testid":`${n}-loading`,"aria-label":"Loading democratic governance interface",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-3/4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-2/3"})]})]});if(A||!j)return e.jsxs("div",{className:_("p-6 rounded-lg border-2 border-red-200 bg-red-50","text-red-800",r),"data-testid":`${n}-error`,role:"alert","aria-describedby":`${n}-error-description`,children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Unable to Load Governance Data"}),e.jsx("p",{id:`${n}-error-description`,className:"text-sm mb-4",children:A||"Governance information is currently unavailable. Your democratic rights remain protected."}),e.jsx(q,{variant:"community-protection",size:"sm",onClick:()=>window.location.reload(),children:"Try Again"})]});const f=()=>{const{votingRights:p}=j;return e.jsxs("div",{className:"p-4 bg-liberation-pride-purple/10 border border-liberation-pride-purple/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(ce,{className:"h-5 w-5 text-liberation-pride-purple","aria-hidden":"true"}),e.jsx("h3",{className:"font-semibold text-liberation-pride-purple",children:"Your Democratic Rights"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:p.canVote?"✅":"❌",children:p.canVote?"✅":"❌"}),e.jsx("span",{children:"Vote on Proposals"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:p.canPropose?"✅":"❌",children:p.canPropose?"✅":"❌"}),e.jsx("span",{children:"Submit Proposals"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:p.canModerate?"✅":"❌",children:p.canModerate?"✅":"❌"}),e.jsx("span",{children:"Moderate Discussions"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:p.canDelegate?"✅":"❌",children:p.canDelegate?"✅":"❌"}),e.jsx("span",{children:"Delegate Voting"})]})]})]})},m=()=>{const{activeProposals:p}=j;return p.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ie,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Proposals"}),e.jsx("p",{className:"text-gray-500",children:"Community democracy is quiet right now. Check back soon for new proposals."})]}):e.jsx("div",{className:"space-y-4",children:p.map(y=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-liberation-pride-purple/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:y.title}),e.jsx("p",{className:"text-sm text-gray-600",children:y.description})]}),e.jsx("span",{className:_("text-xs px-2 py-1 rounded",y.urgency==="high"?"bg-red-100 text-red-800":y.urgency==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:y.urgency.toUpperCase()})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[e.jsxs("span",{children:["Voting ends: ",Pt.formatDisplayDate(y.votingDeadline)]}),e.jsxs("span",{children:[y.totalVotes," votes cast"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(q,{variant:"community-engagement",size:"sm",onClick:()=>{console.log("Vote for:",y.id)},children:[e.jsx(ie,{className:"h-4 w-4 mr-1"}),"Vote"]}),e.jsxs(q,{variant:"secondary",size:"sm",onClick:()=>{console.log("Discuss:",y.id)},children:[e.jsx(ge,{className:"h-4 w-4 mr-1"}),"Discuss"]})]})]},y.id))})};return e.jsxs("div",P(I({className:_("space-y-8",r),"data-testid":n},o),{children:[e.jsx(te,{title:"🗳️ DEMOCRATIC GOVERNANCE",subtitle:"Community-controlled decision making",description:"Every voice matters in our liberation. Participate in democratic decision-making, vote on platform policies, and shape our collective future through consensus building.",videos:["/videos/hero/PLATFORM HERO 1.mp4","/videos/hero/PLATFORM HERO 2.mp4","/videos/hero/PLATFORM HERO 3.mp4"],height:"md",textColor:"light",overlayOpacity:.8,className:"mb-8"}),e.jsxs("div",{className:_("space-y-6 p-6 rounded-lg border-2",X.pride.purple,"border-liberation-pride-purple/20 bg-white",i&&F.getSafeTransition("medium")),"aria-label":"Democratic governance interface",children:[e.jsxs("section",{"aria-labelledby":"voting-rights-heading",children:[e.jsx("h3",{id:"voting-rights-heading",className:"sr-only",children:"Your democratic participation rights"}),f()]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Governance sections",children:[{key:"active",label:"Active Proposals",icon:ie},{key:"history",label:"Voting History",icon:ge},...s?[{key:"consensus",label:"Consensus Building",icon:$}]:[]].map(({key:p,label:y,icon:d})=>e.jsxs("button",{onClick:()=>x(p),className:_("flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm","hover:text-liberation-pride-purple hover:border-liberation-pride-purple/50",F.getSafeTransition("fast"),E===p?"border-liberation-pride-purple text-liberation-pride-purple":"border-transparent text-gray-500"),"aria-current":E===p?"page":void 0,children:[e.jsx(d,{className:"h-4 w-4","aria-hidden":"true"}),e.jsx("span",{children:y})]},p))})}),e.jsxs("div",{className:"min-h-[400px]",children:[E==="active"&&e.jsxs("section",{"aria-labelledby":"active-proposals-heading",children:[e.jsx("h3",{id:"active-proposals-heading",className:"sr-only",children:"Active proposals requiring your vote"}),m()]}),E==="history"&&t&&e.jsxs("section",{"aria-labelledby":"voting-history-heading",children:[e.jsx("h3",{id:"voting-history-heading",className:"sr-only",children:"Your voting history and democratic participation"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx(J,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Voting History"}),e.jsx("p",{className:"text-gray-500",children:"Your democratic participation history will appear here."})]})]}),E==="consensus"&&s&&e.jsxs("section",{"aria-labelledby":"consensus-building-heading",children:[e.jsx("h3",{id:"consensus-building-heading",className:"sr-only",children:"Community consensus building and discussion"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx($,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Consensus Building"}),e.jsx("p",{className:"text-gray-500",children:"Community consensus discussions and collaboration tools coming soon."})]})]})]})]})]}))};var je={};class js{constructor(){de(this,"apiBase","https://api.blkoutcollective.org/v1");de(this,"heartbeatIntegration","https://api.heartbeat.chat/v1")}verifyMembership(t){return C(this,null,function*(){try{const s=yield this.getHeartbeatMemberData(t);if(s){const i=yield this.getInternalMemberData(t);return{id:s.id,username:s.username||s.email.split("@")[0],email:s.email,memberSince:s.joinDate||new Date().toISOString(),governanceLevel:this.determineGovernanceLevel(s.roles),profileUrl:`https://blkouthub.com/members/${s.username||s.id}`,isVerified:!0,communities:s.groups||["BLKOUTHUB"],badges:this.determineMemberBadges(s)}}return null}catch(s){return console.error("BLKOUTHUB membership verification failed:",s),null}})}getGovernancePermissions(t){const s={canVote:!1,canPropose:!1,canModerate:!1,canViewPrivateProposals:!1,canAccessFinancials:!1,votingWeight:0};if(!t.isVerified)return s;switch(t.governanceLevel){case"observer":return P(I({},s),{canVote:!1,votingWeight:0});case"participant":return P(I({},s),{canVote:!0,votingWeight:1});case"organizer":return P(I({},s),{canVote:!0,canPropose:!0,canViewPrivateProposals:!0,votingWeight:2});case"steward":return{canVote:!0,canPropose:!0,canModerate:!0,canViewPrivateProposals:!0,canAccessFinancials:!0,votingWeight:3};default:return s}}generateInvitationLink(t){const s="https://blkouthub.com/invitation",i="BE862C";return t?`${s}?code=${i}&ref=${encodeURIComponent(t)}`:`${s}?code=${i}`}getMembershipBenefits(t){const s=["🔐 Secure community access on Heartbeat.chat","👥 Direct connection with liberation organizers","📊 Enhanced democratic governance participation"];switch(t.governanceLevel){case"participant":s.push("🗳️ Full voting rights on platform decisions");break;case"organizer":s.push("🗳️ Full voting rights with enhanced weight","📝 Proposal creation and leadership access");break;case"steward":s.push("🗳️ Full voting rights with maximum weight","📝 Proposal creation and leadership access","🛡️ Moderation and community stewardship tools","💰 Financial transparency and budget access");break}return s}syncContentToBLKOUTHUB(t){return C(this,null,function*(){try{return(yield fetch(`${this.apiBase}/webhooks/blkouthub`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getAuthToken()}`},body:JSON.stringify(P(I({},t),{platform:"liberation-platform",timestamp:new Date().toISOString()}))})).ok?(console.log("✅ Content synced to BLKOUTHUB community"),!0):!1}catch(s){return console.error("BLKOUTHUB content sync failed:",s),!1}})}getCommunityActivity(t=10){return C(this,null,function*(){try{const s=yield fetch(`${this.apiBase}/blkouthub/activity?limit=${t}`,{headers:{Authorization:`Bearer ${this.getAuthToken()}`}});return s.ok?(yield s.json()).activities||[]:[]}catch(s){return console.error("Failed to fetch BLKOUTHUB activity:",s),[]}})}getHeartbeatMemberData(t){return C(this,null,function*(){try{const s=yield fetch(`${this.heartbeatIntegration}/find/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getHeartbeatToken()}`},body:JSON.stringify({email:t,communityId:je.BLKOUTHUB_COMMUNITY_ID})});if(!s.ok)return null;const i=yield s.json();if(!i.user)return null;const r=i.user,[n,o]=yield Promise.all([fetch(`${this.heartbeatIntegration}/roles`,{headers:{Authorization:`Bearer ${this.getHeartbeatToken()}`}}),fetch(`${this.heartbeatIntegration}/groups`,{headers:{Authorization:`Bearer ${this.getHeartbeatToken()}`}})]);let l=[],b=[];if(n.ok&&(l=(yield n.json()).filter(w=>w.userId===r.id)),o.ok){const j=yield o.json();for(const w of j){const v=yield fetch(`${this.heartbeatIntegration}/groups/${w.id}/memberships`,{headers:{Authorization:`Bearer ${this.getHeartbeatToken()}`}});v.ok&&(yield v.json()).some(g=>g.userId===r.id)&&b.push(w.name)}}return P(I({},r),{roles:l,groups:b})}catch(s){return console.error("Failed to get Heartbeat member data:",s),null}})}getInternalMemberData(t){return C(this,null,function*(){try{const s=yield fetch(`${this.apiBase}/blkouthub/verify-member`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getAuthToken()}`},body:JSON.stringify({email:t})});return s.ok?yield s.json():null}catch(s){return null}})}determineGovernanceLevel(t){if(!t||t.length===0)return"observer";const s=t.map(i=>{var r;return((r=i.name)==null?void 0:r.toLowerCase())||""});return s.some(i=>i.includes("steward")||i.includes("admin")||i.includes("leader"))?"steward":s.some(i=>i.includes("organizer")||i.includes("moderator")||i.includes("coordinator"))?"organizer":s.some(i=>i.includes("participant")||i.includes("member")||i.includes("active"))?"participant":"observer"}determineMemberBadges(t){var i,r,n;const s=[];return((i=t.groups)==null?void 0:i.length)>1&&s.push("Multi-Community Member"),(r=t.roles)!=null&&r.some(o=>{var l,b;return((l=o.name)==null?void 0:l.toLowerCase().includes("founding"))||((b=o.name)==null?void 0:b.toLowerCase().includes("charter"))})&&s.push("Founding Member"),(n=t.roles)!=null&&n.some(o=>{var l,b;return((l=o.name)==null?void 0:l.toLowerCase().includes("mentor"))||((b=o.name)==null?void 0:b.toLowerCase().includes("guide"))})&&s.push("Community Mentor"),s.length===0&&s.push("Community Member"),s}verifyHeartbeatMembership(t){return C(this,null,function*(){try{const s=yield fetch(`${this.heartbeatIntegration}/find/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getHeartbeatToken()}`},body:JSON.stringify({email:t,communityId:je.BLKOUTHUB_COMMUNITY_ID})});if(!s.ok)return!1;const i=yield s.json();if(!i.user)return!1;const r=yield fetch(`${this.heartbeatIntegration}/groups`,{headers:{Authorization:`Bearer ${this.getHeartbeatToken()}`}});if(r.ok){const o=(yield r.json()).filter(l=>l.name.toLowerCase().includes("blkout")||l.name.toLowerCase().includes("liberation"));for(const l of o){const b=yield fetch(`${this.heartbeatIntegration}/groups/${l.id}/memberships`,{headers:{Authorization:`Bearer ${this.getHeartbeatToken()}`}});if(b.ok&&(yield b.json()).some(v=>v.userId===i.user.id))return!0}}return!1}catch(s){return console.error("Heartbeat membership verification failed:",s),!1}})}getAuthToken(){return je.BLKOUT_API_TOKEN||"dev-token"}getHeartbeatToken(){return je.HEARTBEAT_API_TOKEN||"dev-heartbeat-token"}}const Ye=new js,ws=a=>{const[t,s]=ae.useState(null),[i,r]=ae.useState(!1),[n,o]=ae.useState(null);return ae.useEffect(()=>{C(M,null,function*(){r(!0);try{const b=yield Ye.verifyMembership(a);if(s(b),b){const j=Ye.getGovernancePermissions(b);o(j)}}finally{r(!1)}})},[a]),{member:t,permissions:n,loading:i}},Re=[{quote:"NOT EVERYTHING THAT IS FACED CAN BE CHANGED, BUT NOTHING CAN BE CHANGED UNTIL IT IS FACED.",author:"JAMES BALDWIN"},{quote:"THOSE WHO DO NOT SEE THEMSELVES REFLECTED IN NATIONAL HERITAGE ARE EXCLUDED FROM IT.",author:"STUART HALL"},{quote:"I, TOO, SING AMERICA. I AM THE DARKER BROTHER.",author:"LANGSTON HUGHES"},{quote:"THE SOUL THAT IS WITHIN ME NO MAN CAN DEGRADE.",author:"FREDERICK DOUGLASS"},{quote:"WE NEED, IN EVERY COMMUNITY, A GROUP OF ANGELIC TROUBLEMAKERS.",author:"BAYARD RUSTIN"},{quote:"IF THEY DON'T GIVE YOU A SEAT AT THE TABLE, BRING A FOLDING CHAIR.",author:"SHIRLEY CHISHOLM"},{quote:"CHANGE WILL NOT COME IF WE WAIT FOR SOME OTHER PERSON OR SOME OTHER TIME. WE ARE THE ONES WE'VE BEEN WAITING FOR.",author:"BARACK OBAMA"},{quote:"YOU ARE YOUR BEST THING.",author:"TONI MORRISON"},{quote:"NO PERSON IS YOUR FRIEND WHO DEMANDS YOUR SILENCE OR DENIES YOUR RIGHT TO GROW.",author:"ALICE WALKER"},{quote:"HOLD FAST TO DREAMS, FOR IF DREAMS DIE, LIFE IS A BROKEN-WINGED BIRD THAT CANNOT FLY.",author:"LANGSTON HUGHES"},{quote:"DO THE BEST YOU CAN UNTIL YOU KNOW BETTER. THEN WHEN YOU KNOW BETTER, DO BETTER.",author:"MAYA ANGELOU"},{quote:"BLACK MEN LOVING BLACK MEN IS THE REVOLUTIONARY ACT.",author:"JOSEPH BEAM"},{quote:"WE HAVE TO KEEP UP OUR GUARD. WE WON'T GET THE KINDER, GENTLER NATION THAT BUSH PROMISED UNLESS WE FIGHT FOR IT.",author:"URVASHI VAID"}];let Ns=class extends ae.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-liberation-black-power text-liberation-gold-divine flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"🏴‍☠️ BLKOUT Liberation Platform"}),e.jsx("p",{className:"text-liberation-silver mb-4",children:"Platform temporarily unavailable. Liberation continues."}),e.jsx("button",{className:"px-6 py-3 bg-liberation-red-liberation text-white rounded-lg hover:bg-opacity-80 transition-colors",onClick:()=>window.location.reload(),children:"Return to Liberation"})]})}):this.props.children}};function ks(){const[a,t]=u.useState("liberation"),[s,i]=u.useState(0),[r,n]=u.useState(!1),[o,l]=u.useState(!1),[b,j]=u.useState(!1),[w,v]=u.useState(!1),[c,A]=u.useState({membersServed:847,storiesShared:234,eventsHosted:89,liberationActions:156});u.useEffect(()=>{const f=setInterval(()=>{i(m=>(m+1)%Re.length)},8e3);return()=>clearInterval(f)},[]),u.useEffect(()=>{C(this,null,function*(){const p=yield Mt();n(p)}),localStorage.getItem("blkout-has-visited")||j(!0)},[]),u.useEffect(()=>{const f=setInterval(()=>{A(m=>P(I({},m),{liberationActions:m.liberationActions+Math.floor(Math.random()*3)}))},3e4);return()=>clearInterval(f)},[]);const g=()=>{switch(a){case"about":return e.jsx(Zt,{});case"news":return e.jsx(rs,{});case"stories":return e.jsx(ns,{});case"events":return e.jsx(xs,{});case"governance":return e.jsx(fs,{});case"community":return x();case"admin":return e.jsx(Kt,{});default:return E()}},E=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsx(te,{title:"🏴‍☠️ LIBERATION PLATFORM",description:`"${Re[s].quote}" — ${Re[s].author}`,videos:["/videos/hero/PLATFORM HERO 1.mp4","/videos/hero/PLATFORM HERO 2.mp4","/videos/hero/PLATFORM HERO 3.mp4"],height:"lg",textColor:"light",overlayOpacity:.7,className:"mb-8",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 max-w-2xl mx-auto mt-8",children:[e.jsxs("div",{className:"bg-liberation-black-power bg-opacity-70 rounded-lg p-3 md:p-4",children:[e.jsx("div",{className:"text-lg md:text-2xl font-bold text-liberation-gold-divine",children:c.membersServed.toLocaleString()}),e.jsx("div",{className:"text-liberation-silver text-xs md:text-sm",children:"Members Served"})]}),e.jsxs("div",{className:"bg-liberation-black-power bg-opacity-70 rounded-lg p-3 md:p-4",children:[e.jsx("div",{className:"text-lg md:text-2xl font-bold text-liberation-gold-divine",children:c.storiesShared.toLocaleString()}),e.jsx("div",{className:"text-liberation-silver text-xs md:text-sm",children:"Stories Shared"})]}),e.jsxs("div",{className:"bg-liberation-black-power bg-opacity-70 rounded-lg p-3 md:p-4",children:[e.jsx("div",{className:"text-lg md:text-2xl font-bold text-liberation-gold-divine",children:c.eventsHosted.toLocaleString()}),e.jsx("div",{className:"text-liberation-silver text-xs md:text-sm",children:"Events Hosted"})]}),e.jsxs("div",{className:"bg-liberation-black-power bg-opacity-70 rounded-lg p-3 md:p-4",children:[e.jsx("div",{className:"text-lg md:text-2xl font-bold text-liberation-gold-divine",children:c.liberationActions.toLocaleString()}),e.jsx("div",{className:"text-liberation-silver text-xs md:text-sm",children:"Liberation Actions"})]})]})}),e.jsxs("section",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[e.jsxs("div",{className:"bg-liberation-red-liberation rounded-xl p-4 md:p-6 text-white",children:[e.jsx(V,{className:"h-6 md:h-8 w-6 md:w-8 mb-3 md:mb-4"}),e.jsx("h3",{className:"text-lg md:text-xl font-bold mb-2",children:"Fair Creator Compensation"}),e.jsx("p",{className:"text-liberation-silver text-sm md:text-base",children:"Community-agreed fair compensation rates with profits reinvested through democratic governance."})]}),e.jsxs("div",{className:"bg-liberation-green-africa rounded-xl p-4 md:p-6 text-white",children:[e.jsx(ie,{className:"h-6 md:h-8 w-6 md:w-8 mb-3 md:mb-4"}),e.jsx("h3",{className:"text-lg md:text-xl font-bold mb-2",children:"Democratic Governance"}),e.jsx("p",{className:"text-liberation-silver text-sm md:text-base",children:"Community members vote on platform decisions, policies, and resource allocation."})]}),e.jsxs("div",{className:"bg-liberation-purple-spirit rounded-xl p-4 md:p-6 text-white",children:[e.jsx(re,{className:"h-6 md:h-8 w-6 md:w-8 mb-3 md:mb-4"}),e.jsx("h3",{className:"text-lg md:text-xl font-bold mb-2",children:"Trauma-Informed Design"}),e.jsx("p",{className:"text-liberation-silver text-sm md:text-base",children:"Every interaction designed with healing, safety, and community wellbeing in mind."})]}),e.jsxs("div",{className:"bg-liberation-gold-divine rounded-xl p-4 md:p-6 text-liberation-black-power",children:[e.jsx(Ot,{className:"h-6 md:h-8 w-6 md:w-8 mb-3 md:mb-4"}),e.jsx("h3",{className:"text-lg md:text-xl font-bold mb-2",children:"Economic Justice"}),e.jsx("p",{className:"text-liberation-black-power opacity-80 text-sm md:text-base",children:"Cooperative ownership model ensures wealth stays in our communities."})]})]}),e.jsxs("section",{className:"bg-liberation-black-power rounded-xl p-4 md:p-6",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-liberation-gold-divine mb-4 md:mb-6",children:"Liberation Actions"}),e.jsxs("div",{className:"grid sm:grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[e.jsxs("button",{onClick:()=>t("stories"),className:"bg-liberation-purple-spirit text-white p-4 rounded-lg hover:bg-opacity-80 transition-colors text-left touch-friendly",children:[e.jsx("h4",{className:"font-semibold mb-2 text-sm md:text-base",children:"Share Your Story"}),e.jsx("p",{className:"text-xs md:text-sm text-liberation-silver",children:"Add your voice to our community archive of Black queer experiences."})]}),e.jsxs("button",{onClick:()=>t("events"),className:"bg-liberation-red-liberation text-white p-4 rounded-lg hover:bg-opacity-80 transition-colors text-left touch-friendly",children:[e.jsx("h4",{className:"font-semibold mb-2 text-sm md:text-base",children:"Join Events"}),e.jsx("p",{className:"text-xs md:text-sm text-liberation-silver",children:"Connect with community members at local and virtual gatherings."})]}),e.jsxs("button",{onClick:()=>l(!0),className:"bg-liberation-green-africa text-white p-4 rounded-lg hover:bg-opacity-80 transition-colors text-left touch-friendly",children:[e.jsx("h4",{className:"font-semibold mb-2 text-sm md:text-base",children:"Ask IVOR"}),e.jsx("p",{className:"text-xs md:text-sm text-liberation-silver",children:"Get personalized guidance from our AI liberation assistant."})]})]})]})]}),x=()=>{const f="demo@blkout.org",{member:m,permissions:p,loading:y}=ws(f);return e.jsxs("div",{className:"space-y-8",children:[e.jsx(te,{title:"🏘️ COMMUNITY HUB",description:"Connect with liberation organizers, access secure community spaces, and unlock enhanced governance participation through BLKOUTHUB membership.",videos:["/videos/hero/PLATFORM HERO 1.mp4","/videos/hero/PLATFORM HERO 2.mp4","/videos/hero/PLATFORM HERO 3.mp4"],height:"md",textColor:"light",overlayOpacity:.7,className:"mb-8"}),e.jsxs("section",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-liberation-gold-divine text-center",children:"Your Community Status"}),y?e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-liberation-gold-divine mx-auto"}),e.jsx("p",{className:"text-liberation-silver mt-4",children:"Checking BLKOUTHUB membership..."})]}):m&&p?e.jsx(Ke,{member:m,permissions:p,displayMode:"full",onViewProfile:()=>window.open(m.profileUrl,"_blank"),className:"max-w-4xl mx-auto"}):e.jsx(Ke,{member:m,permissions:p,displayMode:"full",showJoinButton:!0,onJoinBLKOUTHUB:()=>setShowBLKOUTHUBInvite(!0),className:"max-w-4xl mx-auto"})]}),e.jsxs("section",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-liberation-purple-spirit rounded-xl p-6 text-white",children:[e.jsx($,{className:"h-8 w-8 mb-4"}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Secure Community"}),e.jsx("p",{className:"text-liberation-silver mb-4",children:"Join verified members in protected discussions on Heartbeat.chat platform."}),e.jsx("button",{onClick:()=>window.open("https://blkouthub.com","_blank"),className:"bg-white text-liberation-purple-spirit px-4 py-2 rounded font-semibold hover:bg-opacity-90 transition-colors",children:"Visit BLKOUTHUB"})]}),e.jsxs("div",{className:"bg-liberation-red-liberation rounded-xl p-6 text-white",children:[e.jsx(ie,{className:"h-8 w-8 mb-4"}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Enhanced Governance"}),e.jsx("p",{className:"text-liberation-silver mb-4",children:"Unlock voting rights and proposal creation through community membership."}),e.jsx("button",{onClick:()=>t("governance"),className:"bg-white text-liberation-red-liberation px-4 py-2 rounded font-semibold hover:bg-opacity-90 transition-colors",children:"View Governance"})]}),e.jsxs("div",{className:"bg-liberation-green-africa rounded-xl p-6 text-white",children:[e.jsx(V,{className:"h-8 w-8 mb-4"}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Member Benefits"}),e.jsx("p",{className:"text-liberation-silver mb-4",children:"Access exclusive content, events, and democratic participation opportunities."}),e.jsx("button",{onClick:()=>{m?window.open(m.profileUrl,"_blank"):setShowBLKOUTHUBInvite(!0)},className:"bg-white text-liberation-green-africa px-4 py-2 rounded font-semibold hover:bg-opacity-90 transition-colors",children:m?"View Profile":"Join Now"})]})]}),e.jsxs("section",{className:"bg-liberation-black-power rounded-xl p-6",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-liberation-gold-divine mb-6 text-center",children:"Community Impact"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold text-liberation-gold-divine",children:"850+"}),e.jsx("div",{className:"text-liberation-silver text-sm",children:"Active Members"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold text-liberation-gold-divine",children:"240+"}),e.jsx("div",{className:"text-liberation-silver text-sm",children:"Governance Participants"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold text-liberation-gold-divine",children:"95%"}),e.jsx("div",{className:"text-liberation-silver text-sm",children:"Member Satisfaction"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold text-liberation-gold-divine",children:"24/7"}),e.jsx("div",{className:"text-liberation-silver text-sm",children:"Community Support"})]})]})]})]})};return e.jsx(Ns,{children:e.jsxs("div",{className:"min-h-screen bg-liberation-black-power text-liberation-silver",children:[e.jsx("nav",{className:"bg-liberation-black-power border-b border-liberation-silver border-opacity-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:"/blkout-logo.png",alt:"BLKOUT Logo",className:"h-10 w-10 rounded-full"}),e.jsx("span",{className:"text-xl font-bold text-liberation-gold-divine",children:"BLKOUT"})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"flex items-baseline space-x-4",children:[{id:"liberation",label:"Liberation",icon:V},{id:"governance",label:"Governance",icon:ie},{id:"community",label:"Community",icon:$},{id:"about",label:"About",icon:tt},{id:"news",label:"News",icon:be},{id:"stories",label:"Stories",icon:V},{id:"events",label:"Events",icon:ie}].map(({id:f,label:m,icon:p})=>e.jsxs("button",{onClick:()=>t(f),className:_("px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 touch-friendly",a===f?"bg-liberation-gold-divine text-liberation-black-power":"text-liberation-silver hover:bg-liberation-silver hover:bg-opacity-10"),children:[e.jsx(p,{className:"h-4 w-4"}),m]},f))})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>l(!0),className:"bg-liberation-green-africa text-white px-4 py-2 rounded-lg hover:bg-opacity-80 transition-colors touch-friendly",children:"Ask IVOR"}),r&&e.jsxs("button",{onClick:()=>t("admin"),className:_("px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 touch-friendly",a==="admin"?"bg-liberation-gold-divine text-liberation-black-power":"text-liberation-gold-divine hover:bg-liberation-gold-divine hover:bg-opacity-10"),children:[e.jsx(re,{className:"h-4 w-4"}),"Admin"]})]}),e.jsx(bs,{activeTab:a,onTabChange:f=>t(f),onIVOROpen:()=>l(!0),isAdminAuthenticated:r})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsx("div",{className:"px-4 py-6 sm:px-0",children:g()})}),o&&e.jsx(gs,{onClose:()=>l(!1)}),b&&e.jsx(vs,{onComplete:()=>j(!1),onSkip:()=>j(!1),onOpenIVOR:()=>l(!0)}),!r&&e.jsx(Ut,{onAuthenticated:n}),e.jsx(ys,{})]})})}const ue=document.getElementById("root");if(!ue)throw new Error("Root element not found - Liberation platform cannot initialize");ue.setAttribute("data-liberation-platform","true");ue.setAttribute("data-creator-sovereignty","75-percent");ue.setAttribute("data-community-governance","democratic");ue.setAttribute("data-trauma-informed","true");const Ss=De.createRoot(ue);class Cs extends ae.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"BLKOUT Liberation Platform"}),e.jsx("p",{className:"text-gray-400",children:"Platform initializing..."}),e.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded",onClick:()=>window.location.reload(),children:"Reload"})]})}):this.props.children}}Ss.render(e.jsx(ae.StrictMode,{children:e.jsx(Cs,{children:e.jsx(ks,{})})}))});export default As();
